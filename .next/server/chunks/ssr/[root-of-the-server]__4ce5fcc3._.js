module.exports=[71917,a=>{"use strict";let b=process.env.ANCHOR_BROWSER||!1;function c(a,b){return Array.apply(0,Array(Math.ceil(a.length/b))).map((c,d)=>a.slice(d*b,(d+1)*b))}a.s(["chunks",()=>c,"isBrowser",0,b,"isVersionedTransaction",0,a=>"version"in a])},99282,(a,b,c)=>{"use strict";let d=/[\p{Lu}]/u,e=/[\p{Ll}]/u,f=/^[\p{Lu}](?![\p{Lu}])/gu,g=/([\p{Alpha}\p{N}_]|$)/u,h=/[_.\- ]+/,i=RegExp("^"+h.source),j=RegExp(h.source+g.source,"gu"),k=RegExp("\\d+"+g.source,"gu"),l=(a,b)=>{var c,g;if(!("string"==typeof a||Array.isArray(a)))throw TypeError("Expected the input to be `string | string[]`");if(b={pascalCase:!1,preserveConsecutiveUppercase:!1,...b},0===(a=Array.isArray(a)?a.map(a=>a.trim()).filter(a=>a.length).join("-"):a.trim()).length)return"";let h=!1===b.locale?a=>a.toLowerCase():a=>a.toLocaleLowerCase(b.locale),l=!1===b.locale?a=>a.toUpperCase():a=>a.toLocaleUpperCase(b.locale);return 1===a.length?b.pascalCase?l(a):h(a):((a!==h(a)&&(a=((a,b,c)=>{let f=!1,g=!1,h=!1;for(let i=0;i<a.length;i++){let j=a[i];f&&d.test(j)?(a=a.slice(0,i)+"-"+a.slice(i),f=!1,h=g,g=!0,i++):g&&h&&e.test(j)?(a=a.slice(0,i-1)+"-"+a.slice(i-1),h=g,g=!1,f=!0):(f=b(j)===j&&c(j)!==j,h=g,g=c(j)===j&&b(j)!==j)}return a})(a,h,l)),a=a.replace(i,""),b.preserveConsecutiveUppercase)?(c=a,f.lastIndex=0,a=c.replace(f,a=>h(a))):a=h(a),b.pascalCase&&(a=l(a.charAt(0))+a.slice(1)),g=a,j.lastIndex=0,k.lastIndex=0,g.replace(j,(a,b)=>l(b)).replace(k,a=>l(a)))};b.exports=l,b.exports.default=l},571,(a,b,c)=>{"use strict";class d{constructor(a,b){if(!Number.isInteger(a))throw TypeError("span must be an integer");this.span=a,this.property=b}makeDestinationObject(){return{}}decode(a,b){throw Error("Layout is abstract")}encode(a,b,c){throw Error("Layout is abstract")}getSpan(a,b){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(a){let b=Object.create(this.constructor.prototype);return Object.assign(b,this),b.property=a,b}fromArray(a){}}function e(a,b){return b.property?a+"["+b.property+"]":a}c.Layout=d,c.nameWithProperty=e,c.bindConstructorLayout=function(a,b){if("function"!=typeof a)throw TypeError("Class must be constructor");if(a.hasOwnProperty("layout_"))throw Error("Class is already bound to a layout");if(!(b&&b instanceof d))throw TypeError("layout must be a Layout");if(b.hasOwnProperty("boundConstructor_"))throw Error("layout is already bound to a constructor");a.layout_=b,b.boundConstructor_=a,b.makeDestinationObject=()=>new a,Object.defineProperty(a.prototype,"encode",{value:function(a,c){return b.encode(this,a,c)},writable:!0}),Object.defineProperty(a,"decode",{value:function(a,c){return b.decode(a,c)},writable:!0})};class f extends d{isCount(){throw Error("ExternalLayout is abstract")}}class g extends f{constructor(a,b){if(void 0===a&&(a=1),!Number.isInteger(a)||0>=a)throw TypeError("elementSpan must be a (positive) integer");super(-1,b),this.elementSpan=a}isCount(){return!0}decode(a,b){return void 0===b&&(b=0),Math.floor((a.length-b)/this.elementSpan)}encode(a,b,c){return 0}}class h extends f{constructor(a,b,c){if(!(a instanceof d))throw TypeError("layout must be a Layout");if(void 0===b)b=0;else if(!Number.isInteger(b))throw TypeError("offset must be integer or undefined");super(a.span,c||a.property),this.layout=a,this.offset=b}isCount(){return this.layout instanceof i||this.layout instanceof j}decode(a,b){return void 0===b&&(b=0),this.layout.decode(a,b+this.offset)}encode(a,b,c){return void 0===c&&(c=0),this.layout.encode(a,b,c+this.offset)}}class i extends d{constructor(a,b){if(super(a,b),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(a,b){return void 0===b&&(b=0),a.readUIntLE(b,this.span)}encode(a,b,c){return void 0===c&&(c=0),b.writeUIntLE(a,c,this.span),this.span}}class j extends d{constructor(a,b){if(super(a,b),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(a,b){return void 0===b&&(b=0),a.readUIntBE(b,this.span)}encode(a,b,c){return void 0===c&&(c=0),b.writeUIntBE(a,c,this.span),this.span}}class k extends d{constructor(a,b){if(super(a,b),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(a,b){return void 0===b&&(b=0),a.readIntLE(b,this.span)}encode(a,b,c){return void 0===c&&(c=0),b.writeIntLE(a,c,this.span),this.span}}class l extends d{constructor(a,b){if(super(a,b),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(a,b){return void 0===b&&(b=0),a.readIntBE(b,this.span)}encode(a,b,c){return void 0===c&&(c=0),b.writeIntBE(a,c,this.span),this.span}}function m(a){let b=Math.floor(a/0x100000000);return{hi32:b,lo32:a-0x100000000*b}}function n(a,b){return 0x100000000*a+b}class o extends d{constructor(a){super(8,a)}decode(a,b){void 0===b&&(b=0);let c=a.readUInt32LE(b);return n(a.readUInt32LE(b+4),c)}encode(a,b,c){void 0===c&&(c=0);let d=m(a);return b.writeUInt32LE(d.lo32,c),b.writeUInt32LE(d.hi32,c+4),8}}class p extends d{constructor(a){super(8,a)}decode(a,b){return void 0===b&&(b=0),n(a.readUInt32BE(b),a.readUInt32BE(b+4))}encode(a,b,c){void 0===c&&(c=0);let d=m(a);return b.writeUInt32BE(d.hi32,c),b.writeUInt32BE(d.lo32,c+4),8}}class q extends d{constructor(a){super(8,a)}decode(a,b){void 0===b&&(b=0);let c=a.readUInt32LE(b);return n(a.readInt32LE(b+4),c)}encode(a,b,c){void 0===c&&(c=0);let d=m(a);return b.writeUInt32LE(d.lo32,c),b.writeInt32LE(d.hi32,c+4),8}}class r extends d{constructor(a){super(8,a)}decode(a,b){return void 0===b&&(b=0),n(a.readInt32BE(b),a.readUInt32BE(b+4))}encode(a,b,c){void 0===c&&(c=0);let d=m(a);return b.writeInt32BE(d.hi32,c),b.writeUInt32BE(d.lo32,c+4),8}}class s extends d{constructor(a){super(4,a)}decode(a,b){return void 0===b&&(b=0),a.readFloatLE(b)}encode(a,b,c){return void 0===c&&(c=0),b.writeFloatLE(a,c),4}}class t extends d{constructor(a){super(4,a)}decode(a,b){return void 0===b&&(b=0),a.readFloatBE(b)}encode(a,b,c){return void 0===c&&(c=0),b.writeFloatBE(a,c),4}}class u extends d{constructor(a){super(8,a)}decode(a,b){return void 0===b&&(b=0),a.readDoubleLE(b)}encode(a,b,c){return void 0===c&&(c=0),b.writeDoubleLE(a,c),8}}class v extends d{constructor(a){super(8,a)}decode(a,b){return void 0===b&&(b=0),a.readDoubleBE(b)}encode(a,b,c){return void 0===c&&(c=0),b.writeDoubleBE(a,c),8}}class w extends d{constructor(a,b,c){if(!(a instanceof d))throw TypeError("elementLayout must be a Layout");if(!(b instanceof f&&b.isCount()||Number.isInteger(b)&&0<=b))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let e=-1;b instanceof f||!(0<a.span)||(e=b*a.span),super(e,c),this.elementLayout=a,this.count=b}getSpan(a,b){if(0<=this.span)return this.span;void 0===b&&(b=0);let c=0,d=this.count;if(d instanceof f&&(d=d.decode(a,b)),0<this.elementLayout.span)c=d*this.elementLayout.span;else{let e=0;for(;e<d;)c+=this.elementLayout.getSpan(a,b+c),++e}return c}decode(a,b){void 0===b&&(b=0);let c=[],d=0,e=this.count;for(e instanceof f&&(e=e.decode(a,b));d<e;)c.push(this.elementLayout.decode(a,b)),b+=this.elementLayout.getSpan(a,b),d+=1;return c}encode(a,b,c){void 0===c&&(c=0);let d=this.elementLayout,e=a.reduce((a,e)=>a+d.encode(e,b,c+a),0);return this.count instanceof f&&this.count.encode(a.length,b,c),e}}class x extends d{constructor(a,b,c){if(!(Array.isArray(a)&&a.reduce((a,b)=>a&&b instanceof d,!0)))throw TypeError("fields must be array of Layout instances");for(const d of("boolean"==typeof b&&void 0===c&&(c=b,b=void 0),a))if(0>d.span&&void 0===d.property)throw Error("fields cannot contain unnamed variable-length layout");let e=-1;try{e=a.reduce((a,b)=>a+b.getSpan(),0)}catch(a){}super(e,b),this.fields=a,this.decodePrefixes=!!c}getSpan(a,b){if(0<=this.span)return this.span;void 0===b&&(b=0);let c=0;try{c=this.fields.reduce((c,d)=>{let e=d.getSpan(a,b);return b+=e,c+e},0)}catch(a){throw RangeError("indeterminate span")}return c}decode(a,b){void 0===b&&(b=0);let c=this.makeDestinationObject();for(let d of this.fields)if(void 0!==d.property&&(c[d.property]=d.decode(a,b)),b+=d.getSpan(a,b),this.decodePrefixes&&a.length===b)break;return c}encode(a,b,c){void 0===c&&(c=0);let d=c,e=0,f=0;for(let d of this.fields){let g=d.span;if(f=0<g?g:0,void 0!==d.property){let e=a[d.property];void 0!==e&&(f=d.encode(e,b,c),0>g&&(g=d.getSpan(b,c)))}e=c,c+=g}return e+f-d}fromArray(a){let b=this.makeDestinationObject();for(let c of this.fields)void 0!==c.property&&0<a.length&&(b[c.property]=a.shift());return b}layoutFor(a){if("string"!=typeof a)throw TypeError("property must be string");for(let b of this.fields)if(b.property===a)return b}offsetOf(a){if("string"!=typeof a)throw TypeError("property must be string");let b=0;for(let c of this.fields){if(c.property===a)return b;0>c.span?b=-1:0<=b&&(b+=c.span)}}}class y{constructor(a){this.property=a}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class z extends y{constructor(a,b){if(!(a instanceof f&&a.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(b||a.property||"variant"),this.layout=a}decode(a,b){return this.layout.decode(a,b)}encode(a,b,c){return this.layout.encode(a,b,c)}}class A extends d{constructor(a,b,c){const e=a instanceof i||a instanceof j;if(e)a=new z(new h(a));else if(a instanceof f&&a.isCount())a=new z(a);else if(!(a instanceof y))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===b&&(b=null),!(null===b||b instanceof d))throw TypeError("defaultLayout must be null or a Layout");if(null!==b){if(0>b.span)throw Error("defaultLayout must have constant span");void 0===b.property&&(b=b.replicate("content"))}let g=-1;b&&0<=(g=b.span)&&e&&(g+=a.layout.span),super(g,c),this.discriminator=a,this.usesPrefixDiscriminator=e,this.defaultLayout=b,this.registry={};let k=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return k(a)},this.configGetSourceVariant=function(a){k=a.bind(this)}}getSpan(a,b){if(0<=this.span)return this.span;void 0===b&&(b=0);let c=this.getVariant(a,b);if(!c)throw Error("unable to determine span for unrecognized variant");return c.getSpan(a,b)}defaultGetSourceVariant(a){if(a.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&a.hasOwnProperty(this.defaultLayout.property))return;let b=this.registry[a[this.discriminator.property]];if(b&&(!b.layout||a.hasOwnProperty(b.property)))return b}else for(let b in this.registry){let c=this.registry[b];if(a.hasOwnProperty(c.property))return c}throw Error("unable to infer src variant")}decode(a,b){let c;void 0===b&&(b=0);let d=this.discriminator,e=d.decode(a,b),f=this.registry[e];if(void 0===f){let g=0;f=this.defaultLayout,this.usesPrefixDiscriminator&&(g=d.layout.span),(c=this.makeDestinationObject())[d.property]=e,c[f.property]=this.defaultLayout.decode(a,b+g)}else c=f.decode(a,b);return c}encode(a,b,c){void 0===c&&(c=0);let d=this.getSourceVariant(a);if(void 0===d){let d=this.discriminator,e=this.defaultLayout,f=0;return this.usesPrefixDiscriminator&&(f=d.layout.span),d.encode(a[d.property],b,c),f+e.encode(a[e.property],b,c+f)}return d.encode(a,b,c)}addVariant(a,b,c){let d=new B(this,a,b,c);return this.registry[a]=d,d}getVariant(a,b){let c=a;return Buffer.isBuffer(a)&&(void 0===b&&(b=0),c=this.discriminator.decode(a,b)),this.registry[c]}}class B extends d{constructor(a,b,c,e){if(!(a instanceof A))throw TypeError("union must be a Union");if(!Number.isInteger(b)||0>b)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof c&&void 0===e&&(e=c,c=null),c){if(!(c instanceof d))throw TypeError("layout must be a Layout");if(null!==a.defaultLayout&&0<=c.span&&c.span>a.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof e)throw TypeError("variant must have a String property")}let f=a.span;0>a.span&&0<=(f=c?c.span:0)&&a.usesPrefixDiscriminator&&(f+=a.discriminator.layout.span),super(f,e),this.union=a,this.variant=b,this.layout=c||null}getSpan(a,b){if(0<=this.span)return this.span;void 0===b&&(b=0);let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),c+this.layout.getSpan(a,b+c)}decode(a,b){let c=this.makeDestinationObject();if(void 0===b&&(b=0),this!==this.union.getVariant(a,b))throw Error("variant mismatch");let d=0;return this.union.usesPrefixDiscriminator&&(d=this.union.discriminator.layout.span),this.layout?c[this.property]=this.layout.decode(a,b+d):this.property?c[this.property]=!0:this.union.usesPrefixDiscriminator&&(c[this.union.discriminator.property]=this.variant),c}encode(a,b,c){void 0===c&&(c=0);let d=0;if(this.union.usesPrefixDiscriminator&&(d=this.union.discriminator.layout.span),this.layout&&!a.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,b,c);let e=d;if(this.layout&&(this.layout.encode(a[this.property],b,c+d),e+=this.layout.getSpan(b,c+d),0<=this.union.span&&e>this.union.span))throw Error("encoded variant overruns containing union");return e}fromArray(a){if(this.layout)return this.layout.fromArray(a)}}function C(a){return 0>a&&(a+=0x100000000),a}class D extends d{constructor(a,b,c){if(!(a instanceof i||a instanceof j))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof b&&void 0===c&&(c=b,b=void 0),4<a.span)throw RangeError("word cannot exceed 32 bits");super(a.span,c),this.word=a,this.msb=!!b,this.fields=[];let d=0;this._packedSetValue=function(a){return d=C(a),this},this._packedGetValue=function(){return d}}decode(a,b){let c=this.makeDestinationObject();void 0===b&&(b=0);let d=this.word.decode(a,b);for(let a of(this._packedSetValue(d),this.fields))void 0!==a.property&&(c[a.property]=a.decode(d));return c}encode(a,b,c){void 0===c&&(c=0);let d=this.word.decode(b,c);for(let b of(this._packedSetValue(d),this.fields))if(void 0!==b.property){let c=a[b.property];void 0!==c&&b.encode(c)}return this.word.encode(this._packedGetValue(),b,c)}addField(a,b){let c=new E(this,a,b);return this.fields.push(c),c}addBoolean(a){let b=new F(this,a);return this.fields.push(b),b}fieldFor(a){if("string"!=typeof a)throw TypeError("property must be string");for(let b of this.fields)if(b.property===a)return b}}class E{constructor(a,b,c){if(!(a instanceof D))throw TypeError("container must be a BitStructure");if(!Number.isInteger(b)||0>=b)throw TypeError("bits must be positive integer");const d=8*a.span,e=a.fields.reduce((a,b)=>a+b.bits,0);if(b+e>d)throw Error("bits too long for span remainder ("+(d-e)+" of "+d+" remain)");this.container=a,this.bits=b,this.valueMask=(1<<b)-1,32===b&&(this.valueMask=0xffffffff),this.start=e,this.container.msb&&(this.start=d-e-b),this.wordMask=C(this.valueMask<<this.start),this.property=c}decode(){return C(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(a){if(!Number.isInteger(a)||a!==C(a&this.valueMask))throw TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let b=this.container._packedGetValue(),c=C(a<<this.start);this.container._packedSetValue(C(b&~this.wordMask)|c)}}class F extends E{constructor(a,b){super(a,1,b)}decode(a,b){return!!E.prototype.decode.call(this,a,b)}encode(a){return"boolean"==typeof a&&(a*=1),E.prototype.encode.call(this,a)}}class G extends d{constructor(a,b){if(!(a instanceof f&&a.isCount()||Number.isInteger(a)&&0<=a))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let c=-1;a instanceof f||(c=a),super(c,b),this.length=a}getSpan(a,b){let c=this.span;return 0>c&&(c=this.length.decode(a,b)),c}decode(a,b){void 0===b&&(b=0);let c=this.span;return 0>c&&(c=this.length.decode(a,b)),a.slice(b,b+c)}encode(a,b,c){let d=this.length;if(this.length instanceof f&&(d=a.length),!(Buffer.isBuffer(a)&&d===a.length))throw TypeError(e("Blob.encode",this)+" requires (length "+d+") Buffer as src");if(c+d>b.length)throw RangeError("encoding overruns Buffer");return b.write(a.toString("hex"),c,d,"hex"),this.length instanceof f&&this.length.encode(d,b,c),d}}class H extends d{constructor(a){super(-1,a)}getSpan(a,b){if(!Buffer.isBuffer(a))throw TypeError("b must be a Buffer");void 0===b&&(b=0);let c=b;for(;c<a.length&&0!==a[c];)c+=1;return 1+c-b}decode(a,b,c){void 0===b&&(b=0);let d=this.getSpan(a,b);return a.slice(b,b+d-1).toString("utf-8")}encode(a,b,c){void 0===c&&(c=0),"string"!=typeof a&&(a=a.toString());let d=new Buffer(a,"utf8"),e=d.length;if(c+e>b.length)throw RangeError("encoding overruns Buffer");return d.copy(b,c),b[c+e]=0,e+1}}class I extends d{constructor(a,b){if("string"==typeof a&&void 0===b&&(b=a,a=void 0),void 0===a)a=-1;else if(!Number.isInteger(a))throw TypeError("maxSpan must be an integer");super(-1,b),this.maxSpan=a}getSpan(a,b){if(!Buffer.isBuffer(a))throw TypeError("b must be a Buffer");return void 0===b&&(b=0),a.length-b}decode(a,b,c){void 0===b&&(b=0);let d=this.getSpan(a,b);if(0<=this.maxSpan&&this.maxSpan<d)throw RangeError("text length exceeds maxSpan");return a.slice(b,b+d).toString("utf-8")}encode(a,b,c){void 0===c&&(c=0),"string"!=typeof a&&(a=a.toString());let d=new Buffer(a,"utf8"),e=d.length;if(0<=this.maxSpan&&this.maxSpan<e)throw RangeError("text length exceeds maxSpan");if(c+e>b.length)throw RangeError("encoding overruns Buffer");return d.copy(b,c),e}}class J extends d{constructor(a,b){super(0,b),this.value=a}decode(a,b,c){return this.value}encode(a,b,c){return 0}}c.ExternalLayout=f,c.GreedyCount=g,c.OffsetLayout=h,c.UInt=i,c.UIntBE=j,c.Int=k,c.IntBE=l,c.Float=s,c.FloatBE=t,c.Double=u,c.DoubleBE=v,c.Sequence=w,c.Structure=x,c.UnionDiscriminator=y,c.UnionLayoutDiscriminator=z,c.Union=A,c.VariantLayout=B,c.BitStructure=D,c.BitField=E,c.Boolean=F,c.Blob=G,c.CString=H,c.UTF8=I,c.Constant=J,c.greedy=(a,b)=>new g(a,b),c.offset=(a,b,c)=>new h(a,b,c),c.u8=a=>new i(1,a),c.u16=a=>new i(2,a),c.u24=a=>new i(3,a),c.u32=a=>new i(4,a),c.u40=a=>new i(5,a),c.u48=a=>new i(6,a),c.nu64=a=>new o(a),c.u16be=a=>new j(2,a),c.u24be=a=>new j(3,a),c.u32be=a=>new j(4,a),c.u40be=a=>new j(5,a),c.u48be=a=>new j(6,a),c.nu64be=a=>new p(a),c.s8=a=>new k(1,a),c.s16=a=>new k(2,a),c.s24=a=>new k(3,a),c.s32=a=>new k(4,a),c.s40=a=>new k(5,a),c.s48=a=>new k(6,a),c.ns64=a=>new q(a),c.s16be=a=>new l(2,a),c.s24be=a=>new l(3,a),c.s32be=a=>new l(4,a),c.s40be=a=>new l(5,a),c.s48be=a=>new l(6,a),c.ns64be=a=>new r(a),c.f32=a=>new s(a),c.f32be=a=>new t(a),c.f64=a=>new u(a),c.f64be=a=>new v(a),c.struct=(a,b,c)=>new x(a,b,c),c.bits=(a,b,c)=>new D(a,b,c),c.seq=(a,b,c)=>new w(a,b,c),c.union=(a,b,c)=>new A(a,b,c),c.unionLayoutDiscriminator=(a,b)=>new z(a,b),c.blob=(a,b)=>new G(a,b),c.cstr=a=>new H(a),c.utf8=(a,b)=>new I(a,b),c.const=(a,b)=>new J(a,b)},32198,(a,b,c)=>{"use strict";var d=a.e&&a.e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.struct=c.f64=c.f32=c.i32=c.u32=c.i16=c.u16=c.i8=c.u8=void 0,c.u64=j,c.i64=function(a){return new i(8,!0,a)},c.u128=function(a){return new i(16,!1,a)},c.i128=function(a){return new i(16,!0,a)},c.u256=function(a){return new i(32,!1,a)},c.i256=function(a){return new i(32,!0,a)},c.publicKey=function(a){return new k((0,e.blob)(32),a=>new f.PublicKey(a),a=>a.toBuffer(),a)},c.option=function(a,b){return new l(a,b)},c.bool=function(a){return new k((0,e.u8)(),m,n,a)},c.vec=function(a,b){let c=(0,e.u32)("length");return new k((0,e.struct)([c,(0,e.seq)(a,(0,e.offset)(c,-c.span),"values")]),({values:a})=>a,a=>({values:a}),b)},c.tagged=function(a,b,c){return new k((0,e.struct)([j("tag"),b.replicate("data")]),function({tag:b,data:c}){if(!b.eq(a))throw Error("Invalid tag, expected: "+a.toString("hex")+", got: "+b.toString("hex"));return c},b=>({tag:a,data:b}),c)},c.vecU8=o,c.str=function(a){return new k(o(),a=>a.toString("utf-8"),a=>Buffer.from(a,"utf-8"),a)},c.rustEnum=function(a,b,c){let d=(0,e.union)(null!=c?c:(0,e.u8)(),b);return a.forEach((a,b)=>d.addVariant(b,a,a.property)),d},c.array=function(a,b,c){return new k((0,e.struct)([(0,e.seq)(a,b,"values")]),({values:a})=>a,a=>({values:a}),c)},c.map=function(a,b,c){let d=(0,e.u32)("length");return new k((0,e.struct)([d,(0,e.seq)(new p(a,b),(0,e.offset)(d,-d.span),"values")]),({values:a})=>new Map(a),a=>({values:Array.from(a.entries())}),c)};let e=a.r(571),f=a.r(10510),g=d(a.r(31247));var h=a.r(571);Object.defineProperty(c,"u8",{enumerable:!0,get:function(){return h.u8}}),Object.defineProperty(c,"i8",{enumerable:!0,get:function(){return h.s8}}),Object.defineProperty(c,"u16",{enumerable:!0,get:function(){return h.u16}}),Object.defineProperty(c,"i16",{enumerable:!0,get:function(){return h.s16}}),Object.defineProperty(c,"u32",{enumerable:!0,get:function(){return h.u32}}),Object.defineProperty(c,"i32",{enumerable:!0,get:function(){return h.s32}}),Object.defineProperty(c,"f32",{enumerable:!0,get:function(){return h.f32}}),Object.defineProperty(c,"f64",{enumerable:!0,get:function(){return h.f64}}),Object.defineProperty(c,"struct",{enumerable:!0,get:function(){return h.struct}});class i extends e.Layout{constructor(a,b,c){super(a,c),this.blob=(0,e.blob)(a),this.signed=b}decode(a,b=0){let c=new g.default(this.blob.decode(a,b),10,"le");return this.signed?c.fromTwos(8*this.span).clone():c}encode(a,b,c=0){return this.signed&&(a=a.toTwos(8*this.span)),this.blob.encode(a.toArrayLike(Buffer,"le",this.span),b,c)}}function j(a){return new i(8,!1,a)}class k extends e.Layout{constructor(a,b,c,d){super(a.span,d),this.layout=a,this.decoder=b,this.encoder=c}decode(a,b){return this.decoder(this.layout.decode(a,b))}encode(a,b,c){return this.layout.encode(this.encoder(a),b,c)}getSpan(a,b){return this.layout.getSpan(a,b)}}class l extends e.Layout{constructor(a,b){super(-1,b),this.layout=a,this.discriminator=(0,e.u8)()}encode(a,b,c=0){return null==a?this.discriminator.encode(0,b,c):(this.discriminator.encode(1,b,c),this.layout.encode(a,b,c+1)+1)}decode(a,b=0){let c=this.discriminator.decode(a,b);if(0===c)return null;if(1===c)return this.layout.decode(a,b+1);throw Error("Invalid option "+this.property)}getSpan(a,b=0){let c=this.discriminator.decode(a,b);if(0===c)return 1;if(1===c)return this.layout.getSpan(a,b+1)+1;throw Error("Invalid option "+this.property)}}function m(a){if(0===a)return!1;if(1===a)return!0;throw Error("Invalid bool: "+a)}function n(a){return+!!a}function o(a){let b=(0,e.u32)("length");return new k((0,e.struct)([b,(0,e.blob)((0,e.offset)(b,-b.span),"data")]),({data:a})=>a,a=>({data:a}),a)}class p extends e.Layout{constructor(a,b,c){super(a.span+b.span,c),this.keyLayout=a,this.valueLayout=b}decode(a,b){return b=b||0,[this.keyLayout.decode(a,b),this.valueLayout.decode(a,b+this.keyLayout.getSpan(a,b))]}encode(a,b,c){c=c||0;let d=this.keyLayout.encode(a[0],b,c),e=this.valueLayout.encode(a[1],b,c+d);return d+e}getSpan(a,b){return this.keyLayout.getSpan(a,b)+this.valueLayout.getSpan(a,b)}}},5365,(a,b,c)=>{b.exports=a.x("process",()=>require("process"))},31858,a=>{"use strict";var b=a.i(874),c=a.i(10510),d=a.i(71917);class e{constructor(a){this.payer=a}static local(){let d=a.r(5365);if(!d.env.ANCHOR_WALLET||""===d.env.ANCHOR_WALLET)throw Error("expected environment variable `ANCHOR_WALLET` is not set.");return new e(c.Keypair.fromSecretKey(b.Buffer.from(JSON.parse(a.r(22734).readFileSync(d.env.ANCHOR_WALLET,{encoding:"utf-8"})))))}async signTransaction(a){return(0,d.isVersionedTransaction)(a)?a.sign([this.payer]):a.partialSign(this.payer),a}async signAllTransactions(a){return a.map(a=>((0,d.isVersionedTransaction)(a)?a.sign([this.payer]):a.partialSign(this.payer),a))}get publicKey(){return this.payer.publicKey}}a.s(["default",()=>e])},39737,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=c.ANCHOR_ERROR__REQUIRE_VIOLATED=c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=c.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=c.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=c.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=c.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=c.ANCHOR_ERROR__CONSTRAINT_SPACE=c.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=c.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=c.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=c.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=c.ANCHOR_ERROR__CONSTRAINT_ZERO=c.ANCHOR_ERROR__CONSTRAINT_ADDRESS=c.ANCHOR_ERROR__CONSTRAINT_CLOSE=c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=c.ANCHOR_ERROR__CONSTRAINT_STATE=c.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=c.ANCHOR_ERROR__CONSTRAINT_SEEDS=c.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=c.ANCHOR_ERROR__CONSTRAINT_OWNER=c.ANCHOR_ERROR__CONSTRAINT_RAW=c.ANCHOR_ERROR__CONSTRAINT_SIGNER=c.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=c.ANCHOR_ERROR__CONSTRAINT_MUT=c.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=c.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=c.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=c.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=c.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=c.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=c.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=c.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,c.ANCHOR_ERROR__DEPRECATED=c.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=c.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=c.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=c.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=c.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=c.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=c.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=c.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=c.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=c.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=c.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=c.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=c.ANCHOR_ERROR__INVALID_PROGRAM_ID=c.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=c.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=c.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=c.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=c.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=c.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=c.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=c.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=c.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=c.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,c.ANCHOR_ERROR__INSTRUCTION_MISSING=100,c.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,c.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,c.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,c.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,c.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,c.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,c.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,c.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,c.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,c.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,c.ANCHOR_ERROR__CONSTRAINT_RAW=2003,c.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,c.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,c.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,c.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,c.ANCHOR_ERROR__CONSTRAINT_STATE=2008,c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,c.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,c.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,c.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,c.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,c.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,c.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,c.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,c.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,c.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,c.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,c.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,c.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,c.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,c.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,c.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,c.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,c.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,c.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,c.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,c.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,c.ANCHOR_ERROR__REQUIRE_VIOLATED=2500,c.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501,c.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,c.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,c.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,c.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,c.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,c.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,c.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,c.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,c.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,c.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,c.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,c.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,c.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,c.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,c.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,c.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,c.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,c.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,c.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,c.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,c.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,c.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,c.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,c.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102,c.ANCHOR_ERROR__DEPRECATED=5e3},72765,(a,b,c)=>{let d=a.r(71277),e=d.default||d,f=function(a,b){return/^\/\//.test(a)&&(a="https:"+a),e.call(this,a,b)};f.ponyfill=!0,b.exports=c=f,c.fetch=f,c.Headers=d.Headers,c.Request=d.Request,c.Response=d.Response,c.default=f},3549,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},71404,30683,97466,72854,39704,13440,73134,46736,71628,93291,9505,83824,78987,19993,a=>{"use strict";let b,c,d,e,f,g;a.s(["AnchorProvider",()=>ab,"getProvider",()=>af],71404);var h,i,j,k,l=a.i(10510),m=a.i(874),n=a.i(71917);function o(b){return(n.isBrowser?new TextDecoder("utf-8"):new(a.r(24361)).TextDecoder("utf-8")).decode(b)}function p(b){return(n.isBrowser?new TextEncoder:new(a.r(24361)).TextEncoder("utf-8")).encode(b)}a.s(["decode",()=>o,"encode",()=>p],46979);var q=a.i(6765);function r(a){return q.default.encode(a)}function s(a){return q.default.decode(a)}function t(a){return m.Buffer.from(a,"base64")}a.s(["decode",()=>s,"encode",()=>r],88898),a.s([],30683);var u=a.i(88898),u=u;a.s(["getMultipleAccountsAndContext",()=>X,"simulateTransaction",()=>Z],72854);var v=a.i(99282),w=a.i(32198);function x(a){return"accounts"in a}async function y(a){let b=(await l.PublicKey.findProgramAddress([],a))[0];return await l.PublicKey.createWithSeed(b,"anchor:idl",a)}let z=w.struct([w.publicKey("authority"),w.vecU8("data")]);function A(a,b,c,d){return(null==a?void 0:a.length)?a[0].name?c(a):d(a):b()}function B(a){let b=new Map;return a.errors&&a.errors.forEach(a=>{var c;let d=null!=(c=a.msg)?c:a.name;b.set(a.code,d)}),b}function C(a,...b){if(a.args.length!=b.length)throw Error("Invalid argument length");let c={},d=0;return a.args.forEach(a=>{c[a.name]=b[d],d+=1}),c}function D(a,b={}){a.forEach(a=>{if(x(a))D(a.accounts,b[a.name]);else if(!b[a.name])throw Error(`Account \`${a.name}\` not provided.`)})}function E(a){return a instanceof l.PublicKey?a:new l.PublicKey(a)}a.s(["parseIdlErrors",()=>B,"toInstruction",()=>C,"translateAddress",()=>E,"validateAccounts",()=>D],97466);class F extends TypeError{constructor(a,b){let c;const{message:d,...e}=a,{path:f}=a;super(0===f.length?d:"At path: "+f.join(".")+" -- "+d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,e),this.name=this.constructor.name,this.failures=()=>{var d;return null!=(d=c)?d:c=[a,...b()]}}}function G(a){return"object"==typeof a&&null!=a}function H(a){return"string"==typeof a?JSON.stringify(a):""+a}function*I(a,b,c,d){var e;for(let f of(G(e=a)&&"function"==typeof e[Symbol.iterator]||(a=[a]),a)){let a=function(a,b,c,d){if(!0===a)return;!1===a?a={}:"string"==typeof a&&(a={message:a});let{path:e,branch:f}=b,{type:g}=c,{refinement:h,message:i="Expected a value of type `"+g+"`"+(h?" with refinement `"+h+"`":"")+", but received: `"+H(d)+"`"}=a;return{value:d,type:g,refinement:h,key:e[e.length-1],path:e,branch:f,...a,message:i}}(f,b,c,d);a&&(yield a)}}function*J(a,b,c){void 0===c&&(c={});let{path:d=[],branch:e=[a],coerce:f=!1,mask:g=!1}=c,h={path:d,branch:e};if(f&&(a=b.coercer(a,h),g&&"type"!==b.type&&G(b.schema)&&G(a)&&!Array.isArray(a)))for(let c in a)void 0===b.schema[c]&&delete a[c];let i=!0;for(let c of b.validator(a,h))i=!1,yield[c,void 0];for(let[c,j,k]of b.entries(a,h))for(let b of J(j,k,{path:void 0===c?d:[...d,c],branch:void 0===c?e:[...e,j],coerce:f,mask:g}))b[0]?(i=!1,yield[b[0],void 0]):f&&(j=b[1],void 0===c?a=j:a instanceof Map?a.set(c,j):a instanceof Set?a.add(j):G(a)&&(a[c]=j));if(i)for(let c of b.refiner(a,h))i=!1,yield[c,void 0];i&&(yield[void 0,a])}class K{constructor(a){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:b,schema:c,validator:d,refiner:e,coercer:f=a=>a,entries:g=function*(){}}=a;this.type=b,this.schema=c,this.entries=g,this.coercer=f,d?this.validator=(a,b)=>I(d(a,b),b,this,a):this.validator=()=>[],e?this.refiner=(a,b)=>I(e(a,b),b,this,a):this.refiner=()=>[]}assert(a){var b=a,c=this;let d=M(b,c);if(d[0])throw d[0]}create(a){return L(a,this)}is(a){var b,c;return b=a,c=this,!M(b,c)[0]}mask(a){var b=a,c=this;let d=M(b,c,{coerce:!0,mask:!0});if(!d[0])return d[1];throw d[0]}validate(a,b){return void 0===b&&(b={}),M(a,this,b)}}function L(a,b){let c=M(a,b,{coerce:!0});if(!c[0])return c[1];throw c[0]}function M(a,b,c){void 0===c&&(c={});let d=J(a,b,c),e=function(a){let{done:b,value:c}=a.next();return b?void 0:c}(d);return e[0]?[new F(e[0],function*(){for(let a of d)a[0]&&(yield a[0])}),void 0]:[void 0,e[1]]}function N(a,b){return new K({type:a,schema:null,validator:b})}function O(a){return new K({type:"array",schema:a,*entries(b){if(a&&Array.isArray(b))for(let[c,d]of b.entries())yield[c,d,a]},coercer:a=>Array.isArray(a)?a.slice():a,validator:a=>Array.isArray(a)||"Expected an array value, but received: "+H(a)})}function P(a){let b=H(a),c=typeof a;return new K({type:"literal",schema:"string"===c||"number"===c||"boolean"===c?a:null,validator:c=>c===a||"Expected the literal `"+b+"`, but received: "+H(c)})}function Q(a){return new K({...a,validator:(b,c)=>null===b||a.validator(b,c),refiner:(b,c)=>null===b||a.refiner(b,c)})}function R(){return N("number",a=>"number"==typeof a&&!isNaN(a)||"Expected a number, but received: "+H(a))}function S(a){return new K({...a,validator:(b,c)=>void 0===b||a.validator(b,c),refiner:(b,c)=>void 0===b||a.refiner(b,c)})}function T(){return N("string",a=>"string"==typeof a||"Expected a string, but received: "+H(a))}function U(a){let b=Object.keys(a);return new K({type:"type",schema:a,*entries(c){if(G(c))for(let d of b)yield[d,c[d],a[d]]},validator:a=>G(a)||"Expected an object, but received: "+H(a)})}function V(a){let b=a.map(a=>a.type).join(" | ");return new K({type:"union",schema:null,coercer:(b,c)=>(a.find(a=>{let[c]=a.validate(b,{coerce:!0});return!c})||W()).coercer(b,c),validator(c,d){let e=[];for(let b of a){let[...a]=J(c,b,d),[f]=a;if(!f[0])return[];for(let[b]of a)b&&e.push(b)}return["Expected the value to satisfy a union of `"+b+"`, but received: "+H(c),...e]}})}function W(){return N("unknown",()=>!0)}async function X(a,b,c){if(b.length<=99)return await Y(a,b,c);{let d=(0,n.chunks)(b,99);return(await Promise.all(d.map(b=>Y(a,b,c)))).flat()}}async function Y(a,b,c){let d=null!=c?c:a.commitment,{value:e,context:f}=await a.getMultipleAccountsInfoAndContext(b,d);return e.map((a,c)=>null===a?null:{publicKey:b[c],account:a,context:f})}async function Z(a,b,c,d,e){var f;c&&c.length>0&&b.sign(...c);let g=b._compile(),h=g.serialize(),i=b._serialize(h).toString("base64"),j={encoding:"base64",commitment:null!=d?d:a.commitment};e&&(j.accounts={encoding:"base64",addresses:(Array.isArray(e)?e:g.nonProgramIds()).map(a=>a.toBase58())}),c&&c.length>0&&(j.sigVerify=!0);let k=[i,j],m=L(await a._rpcRequest("simulateTransaction",k),aa);if("error"in m){let a;if("data"in m.error&&(a=null==(f=m.error.data)?void 0:f.logs)&&Array.isArray(a)){let b="\n    ",c=b+a.join(b);console.error(m.error.message,c)}throw new l.SendTransactionError("failed to simulate transaction: "+m.error.message,a)}return m.result}let $=_(W());function _(a){return V([U({jsonrpc:P("2.0"),id:T(),result:a}),U({jsonrpc:P("2.0"),id:T(),error:U({code:W(),message:T(),data:S(N("any",()=>!0))})})])}let aa=(h=U({err:Q(V([U({}),T()])),logs:Q(O(T())),accounts:S(Q(O(Q(U({executable:N("boolean",a=>"boolean"==typeof a),owner:T(),lamports:R(),data:O(T()),rentEpoch:S(R())}))))),unitsConsumed:S(R())}),j=_(i=U({context:U({slot:R()}),value:h})),k=a=>"error"in a?a:{...a,result:L(a.result,i)},new K({...j,coercer:(a,b)=>M(a,$)[0]?j.coercer(a,b):j.coercer(k(a,b),b)}));class ab{constructor(a,b,c=ab.defaultOptions()){this.connection=a,this.wallet=b,this.opts=c,this.publicKey=null==b?void 0:b.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(b,c=ab.defaultOptions()){if(n.isBrowser)throw Error("Provider local is not available on browser.");return new ab(new l.Connection(null!=b?b:"http://127.0.0.1:8899",c.preflightCommitment),a.r(31858).default.local(),c)}static env(){if(n.isBrowser)throw Error("Provider env is not available on browser.");let b=a.r(5365).env.ANCHOR_PROVIDER_URL;if(void 0===b)throw Error("ANCHOR_PROVIDER_URL is not defined");let c=ab.defaultOptions();return new ab(new l.Connection(b,c.commitment),a.r(31858).default.local(),c)}async sendAndConfirm(a,b,c){var d,e,f,g;if(void 0===c&&(c=this.opts),(0,n.isVersionedTransaction)(a))b&&a.sign(b);else if(a.feePayer=null!=(d=a.feePayer)?d:this.wallet.publicKey,a.recentBlockhash=(await this.connection.getLatestBlockhash(c.preflightCommitment)).blockhash,b)for(let c of b)a.partialSign(c);let h=(a=await this.wallet.signTransaction(a)).serialize();try{return await ad(this.connection,h,c)}catch(b){if(b instanceof ae){let c=u.encode((0,n.isVersionedTransaction)(a)?(null==(e=a.signatures)?void 0:e[0])||new Uint8Array:null!=(f=a.signature)?f:new Uint8Array),d=(0,n.isVersionedTransaction)(a)?0:void 0,h=await this.connection.getTransaction(c,{commitment:"confirmed",maxSupportedTransactionVersion:d});if(h){let a=null==(g=h.meta)?void 0:g.logMessages;throw a?new l.SendTransactionError(b.message,a):b}}throw b}}async sendAll(a,b){var c,d,e;void 0===b&&(b=this.opts);let f=(await this.connection.getLatestBlockhash(b.preflightCommitment)).blockhash,g=a.map(a=>{var b,c;if((0,n.isVersionedTransaction)(a.tx)){let b=a.tx;return a.signers&&b.sign(a.signers),b}{let d=a.tx,e=null!=(b=a.signers)?b:[];return d.feePayer=null!=(c=d.feePayer)?c:this.wallet.publicKey,d.recentBlockhash=f,e.forEach(a=>{d.partialSign(a)}),d}}),h=await this.wallet.signAllTransactions(g),i=[];for(let a=0;a<g.length;a+=1){let f=h[a],g=f.serialize();try{i.push(await ad(this.connection,g,b))}catch(a){if(a instanceof ae){let b=u.encode((0,n.isVersionedTransaction)(f)?(null==(c=f.signatures)?void 0:c[0])||new Uint8Array:null!=(d=f.signature)?d:new Uint8Array),g=(0,n.isVersionedTransaction)(f)?0:void 0,h=await this.connection.getTransaction(b,{commitment:"confirmed",maxSupportedTransactionVersion:g});if(h){let b=null==(e=h.meta)?void 0:e.logMessages;throw b?new l.SendTransactionError(a.message,b):a}}throw a}}return i}async simulate(a,b,c,d){let e,f=(await this.connection.getLatestBlockhash(null!=c?c:this.connection.commitment)).blockhash;if((0,n.isVersionedTransaction)(a)?(b&&b.length>0&&(a.sign(b),a=await this.wallet.signTransaction(a)),e=await this.connection.simulateTransaction(a,{commitment:c})):(a.feePayer=a.feePayer||this.wallet.publicKey,a.recentBlockhash=f,b&&b.length>0&&(a=await this.wallet.signTransaction(a)),e=await Z(this.connection,a,b,c,d)),e.value.err)throw new ac(e.value);return e.value}}class ac extends Error{constructor(a,b){super(b),this.simulationResponse=a}}async function ad(a,b,c){let d,e=c?{skipPreflight:c.skipPreflight,preflightCommitment:c.preflightCommitment||c.commitment,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}:{},f=Date.now();for(;Date.now()-f<6e4;)try{let f=await a.sendRawTransaction(b,e);if(null==c?void 0:c.blockhash)if(0===e.maxRetries){let b=AbortSignal.timeout(15e3);d=(await a.confirmTransaction({abortSignal:b,signature:f,...c.blockhash},c&&c.commitment)).value}else d=(await a.confirmTransaction({signature:f,...c.blockhash},c&&c.commitment)).value;else d=(await a.confirmTransaction(f,c&&c.commitment)).value;if(d.err)throw new ae(`Raw transaction ${f} failed (${JSON.stringify(d)})`);return f}catch(a){if("TimeoutError"===a.name)continue;throw a}throw Error("Transaction failed to confirm in 60s")}class ae extends Error{constructor(a){super(a)}}function af(){return null===ag?ab.local():ag}let ag=null;var ah=a.i(39737);let ai=new Map;function aj(a){return void 0!==ai.get(a)}a.s(["isSet",()=>aj],39704);class ak extends Error{constructor(a){super(a),this.name="IdlError"}}class al{constructor(a){this.stack=a}static parse(a){var b;let c=/^Program (\w*) invoke/,d=/^Program \w* success/,e=[];for(let f=0;f<a.length;f++){if(d.exec(a[f])){e.pop();continue}let g=null==(b=c.exec(a[f]))?void 0:b[1];g&&e.push(new l.PublicKey(g))}return new al(e)}}class am extends Error{constructor(a,b,c,d,e,f){super(c.join("\n").replace("Program log: ","")),this.errorLogs=c,this.logs=d,this.error={errorCode:a,errorMessage:b,comparedValues:f,origin:e},this._programErrorStack=al.parse(d)}static parse(a){let b;if(!a)return null;let c=a.findIndex(a=>a.startsWith("Program log: AnchorError"));if(-1===c)return null;let d=a[c],e=[d];if(c+1<a.length){if("Program log: Left:"===a[c+1]){let d=/^Program log: (.*)$/,f=d.exec(a[c+2])[1],g=d.exec(a[c+4])[1];b=[new l.PublicKey(f),new l.PublicKey(g)],e.push(...a.slice(c+1,c+5))}else if(a[c+1].startsWith("Program log: Left:")){let d=/^Program log: (Left|Right): (.*)$/,f=d.exec(a[c+1])[2],g=d.exec(a[c+2])[2];e.push(...a.slice(c+1,c+3)),b=[f,g]}}let f=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(d),g=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(d),h=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(d);if(f){let[c,d,g]=f.slice(1,4);return new am({code:c,number:parseInt(d)},g,e,a,void 0,b)}if(g){let[c,d,f,h,i]=g.slice(1,6);return new am({code:f,number:parseInt(h)},i,e,a,{file:c,line:parseInt(d)},b)}if(!h)return null;{let[c,d,f,g]=h.slice(1,5);return new am({code:d,number:parseInt(f)},g,e,a,c,b)}}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class an extends Error{constructor(a,b,c){super(),this.code=a,this.msg=b,this.logs=c,c&&(this._programErrorStack=al.parse(c))}static parse(a,b){let c,d,e=a.toString();if(e.includes("custom program error:")){let a=e.split("custom program error: ");if(2!==a.length)return null;c=a[1]}else{let a=e.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;c=a[0].match(/([0-9]+)/g)[0]}try{d=parseInt(c)}catch(a){return null}let f=b.get(d);return void 0!==f||void 0!==(f=aq.get(d))?new an(d,f,a.logs):null}get program(){var a;return null==(a=this._programErrorStack)?void 0:a.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var a;return null==(a=this._programErrorStack)?void 0:a.stack}toString(){return this.msg}}function ao(a,b){aj("debug-logs")&&console.log("Translating error:",a);let c=am.parse(a.logs);if(c)return c;let d=an.parse(a,b);return d||(a.logs?(a.programErrorStack=al.parse(a.logs),new Proxy(a,{get:function(b,c){return"programErrorStack"===c?b.programErrorStack.stack:"program"===c?b.programErrorStack.stack[a.programErrorStack.stack.length-1]:Reflect.get(...arguments)}})):a)}let ap={InstructionMissing:ah.ANCHOR_ERROR__INSTRUCTION_MISSING,InstructionFallbackNotFound:ah.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND,InstructionDidNotDeserialize:ah.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE,InstructionDidNotSerialize:ah.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE,IdlInstructionStub:ah.ANCHOR_ERROR__IDL_INSTRUCTION_STUB,IdlInstructionInvalidProgram:ah.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM,IdlAccountNotEmpty:ah.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY,EventInstructionStub:ah.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB,ConstraintMut:ah.ANCHOR_ERROR__CONSTRAINT_MUT,ConstraintHasOne:ah.ANCHOR_ERROR__CONSTRAINT_HAS_ONE,ConstraintSigner:ah.ANCHOR_ERROR__CONSTRAINT_SIGNER,ConstraintRaw:ah.ANCHOR_ERROR__CONSTRAINT_RAW,ConstraintOwner:ah.ANCHOR_ERROR__CONSTRAINT_OWNER,ConstraintRentExempt:ah.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT,ConstraintSeeds:ah.ANCHOR_ERROR__CONSTRAINT_SEEDS,ConstraintExecutable:ah.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE,ConstraintState:ah.ANCHOR_ERROR__CONSTRAINT_STATE,ConstraintAssociated:ah.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED,ConstraintAssociatedInit:ah.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT,ConstraintClose:ah.ANCHOR_ERROR__CONSTRAINT_CLOSE,ConstraintAddress:ah.ANCHOR_ERROR__CONSTRAINT_ADDRESS,ConstraintZero:ah.ANCHOR_ERROR__CONSTRAINT_ZERO,ConstraintTokenMint:ah.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT,ConstraintTokenOwner:ah.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER,ConstraintMintMintAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY,ConstraintMintFreezeAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY,ConstraintMintDecimals:ah.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS,ConstraintSpace:ah.ANCHOR_ERROR__CONSTRAINT_SPACE,ConstraintAccountIsNone:ah.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE,ConstraintTokenTokenProgram:ah.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM,ConstraintMintTokenProgram:ah.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM,ConstraintAssociatedTokenTokenProgram:ah.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM,ConstraintMintGroupPointerExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION,ConstraintMintGroupPointerExtensionAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupPointerExtensionGroupAddress:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS,ConstraintMintGroupMemberPointerExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION,ConstraintMintGroupMemberPointerExtensionAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupMemberPointerExtensionMemberAddress:ah.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS,ConstraintMintMetadataPointerExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION,ConstraintMintMetadataPointerExtensionAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY,ConstraintMintMetadataPointerExtensionMetadataAddress:ah.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS,ConstraintMintCloseAuthorityExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION,ConstraintMintCloseAuthorityExtensionAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY,ConstraintMintPermanentDelegateExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION,ConstraintMintPermanentDelegateExtensionDelegate:ah.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE,ConstraintMintTransferHookExtension:ah.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION,ConstraintMintTransferHookExtensionAuthority:ah.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY,ConstraintMintTransferHookExtensionProgramId:ah.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID,RequireViolated:ah.ANCHOR_ERROR__REQUIRE_VIOLATED,RequireEqViolated:ah.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED,RequireKeysEqViolated:ah.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED,RequireNeqViolated:ah.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED,RequireKeysNeqViolated:ah.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED,RequireGtViolated:ah.ANCHOR_ERROR__REQUIRE_GT_VIOLATED,RequireGteViolated:ah.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED,AccountDiscriminatorAlreadySet:ah.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET,AccountDiscriminatorNotFound:ah.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND,AccountDiscriminatorMismatch:ah.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH,AccountDidNotDeserialize:ah.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE,AccountDidNotSerialize:ah.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE,AccountNotEnoughKeys:ah.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS,AccountNotMutable:ah.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE,AccountOwnedByWrongProgram:ah.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM,InvalidProgramId:ah.ANCHOR_ERROR__INVALID_PROGRAM_ID,InvalidProgramExecutable:ah.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE,AccountNotSigner:ah.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER,AccountNotSystemOwned:ah.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED,AccountNotInitialized:ah.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED,AccountNotProgramData:ah.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA,AccountNotAssociatedTokenAccount:ah.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT,AccountSysvarMismatch:ah.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH,AccountReallocExceedsLimit:ah.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT,AccountDuplicateReallocs:ah.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS,DeclaredProgramIdMismatch:ah.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH,TryingToInitPayerAsProgramAccount:ah.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT,InvalidNumericConversion:ah.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION,Deprecated:ah.ANCHOR_ERROR__DEPRECATED},aq=new Map([[ap.InstructionMissing,"Instruction discriminator not provided"],[ap.InstructionFallbackNotFound,"Fallback functions are not supported"],[ap.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ap.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ap.IdlInstructionStub,"The program was compiled without idl instructions"],[ap.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ap.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ap.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ap.ConstraintMut,"A mut constraint was violated"],[ap.ConstraintHasOne,"A has one constraint was violated"],[ap.ConstraintSigner,"A signer constraint was violated"],[ap.ConstraintRaw,"A raw constraint was violated"],[ap.ConstraintOwner,"An owner constraint was violated"],[ap.ConstraintRentExempt,"A rent exemption constraint was violated"],[ap.ConstraintSeeds,"A seeds constraint was violated"],[ap.ConstraintExecutable,"An executable constraint was violated"],[ap.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ap.ConstraintAssociated,"An associated constraint was violated"],[ap.ConstraintAssociatedInit,"An associated init constraint was violated"],[ap.ConstraintClose,"A close constraint was violated"],[ap.ConstraintAddress,"An address constraint was violated"],[ap.ConstraintZero,"Expected zero account discriminant"],[ap.ConstraintTokenMint,"A token mint constraint was violated"],[ap.ConstraintTokenOwner,"A token owner constraint was violated"],[ap.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ap.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ap.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ap.ConstraintSpace,"A space constraint was violated"],[ap.ConstraintAccountIsNone,"A required account for the constraint is None"],[ap.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ap.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ap.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ap.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ap.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ap.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ap.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ap.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ap.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ap.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ap.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ap.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ap.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ap.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ap.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ap.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ap.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ap.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ap.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ap.RequireViolated,"A require expression was violated"],[ap.RequireEqViolated,"A require_eq expression was violated"],[ap.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ap.RequireNeqViolated,"A require_neq expression was violated"],[ap.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ap.RequireGtViolated,"A require_gt expression was violated"],[ap.RequireGteViolated,"A require_gte expression was violated"],[ap.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ap.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[ap.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[ap.AccountDidNotDeserialize,"Failed to deserialize the account"],[ap.AccountDidNotSerialize,"Failed to serialize the account"],[ap.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ap.AccountNotMutable,"The given account is not mutable"],[ap.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ap.InvalidProgramId,"Program ID was not as expected"],[ap.InvalidProgramExecutable,"Program account is not executable"],[ap.AccountNotSigner,"The given account did not sign"],[ap.AccountNotSystemOwned,"The given account is not owned by the system program"],[ap.AccountNotInitialized,"The program expected this account to be already initialized"],[ap.AccountNotProgramData,"The given account is not a program data account"],[ap.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ap.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ap.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ap.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ap.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ap.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ap.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ap.Deprecated,"The API being used is deprecated and should no longer be used"]]);a.s(["IdlError",()=>ak,"translateError",()=>ao],13440);class ar{static fieldLayout(a,b=[],c){let d=a.name;switch(a.type){case"bool":return w.bool(d);case"u8":return w.u8(d);case"i8":return w.i8(d);case"u16":return w.u16(d);case"i16":return w.i16(d);case"u32":return w.u32(d);case"i32":return w.i32(d);case"f32":return w.f32(d);case"u64":return w.u64(d);case"i64":return w.i64(d);case"f64":return w.f64(d);case"u128":return w.u128(d);case"i128":return w.i128(d);case"u256":return w.u256(d);case"i256":return w.i256(d);case"bytes":return w.vecU8(d);case"string":return w.str(d);case"pubkey":return w.publicKey(d);default:if("option"in a.type)return w.option(ar.fieldLayout({type:a.type.option},b,c),d);if("vec"in a.type)return w.vec(ar.fieldLayout({type:a.type.vec},b,c),d);if("array"in a.type){let[e,f]=a.type.array;return f=ar.resolveArrayLen(f,c),w.array(ar.fieldLayout({type:e},b,c),f,d)}if("defined"in a.type){if(!b)throw new ak("User defined types not provided");let e=a.type.defined.name,f=b.find(a=>a.name===e);if(!f)throw new ak(`Type not found: ${a.name}`);return ar.typeDefLayout({typeDef:f,types:b,genericArgs:null!=c?c:a.type.defined.generics,name:d})}if("generic"in a.type){let d=null==c?void 0:c.at(0);if((null==d?void 0:d.kind)!=="type")throw new ak(`Invalid generic field: ${a.name}`);return ar.fieldLayout({...a,type:d.type},b)}throw new ak(`Not yet implemented: ${JSON.stringify(a.type)}`)}}static typeDefLayout({typeDef:a,types:b,name:c,genericArgs:d}){switch(a.type.kind){case"struct":{let e=A(a.type.fields,()=>[],c=>c.map(c=>{let e=d?ar.resolveGenericArgs({type:c.type,typeDef:a,genericArgs:d}):d;return ar.fieldLayout(c,b,e)}),c=>c.map((c,e)=>{let f=d?ar.resolveGenericArgs({type:c,typeDef:a,genericArgs:d}):d;return ar.fieldLayout({name:e.toString(),type:c},b,f)}));return w.struct(e,c)}case"enum":{let e=a.type.variants.map(c=>{let e=A(c.fields,()=>[],c=>c.map(c=>{let e=d?ar.resolveGenericArgs({type:c.type,typeDef:a,genericArgs:d}):d;return ar.fieldLayout(c,b,e)}),c=>c.map((c,e)=>{let f=d?ar.resolveGenericArgs({type:c,typeDef:a,genericArgs:d}):d;return ar.fieldLayout({name:e.toString(),type:c},b,f)}));return w.struct(e,c.name)});if(void 0!==c)return w.rustEnum(e).replicate(c);return w.rustEnum(e,c)}case"type":return ar.fieldLayout({type:a.type.alias,name:c},b)}}static typeSize(a,b,c){var d;switch(a){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in a)return 1+ar.typeSize(a.option,b,c);if("coption"in a)return 4+ar.typeSize(a.coption,b,c);if("vec"in a)return 1;if("array"in a){let[d,e]=a.array;return e=ar.resolveArrayLen(e,c),ar.typeSize(d,b,c)*e}if("defined"in a){let e=null==(d=b.types)?void 0:d.find(b=>b.name===a.defined.name);if(!e)throw new ak(`Type not found: ${JSON.stringify(a)}`);let f=d=>{let f=null!=c?c:a.defined.generics,g=f?ar.resolveGenericArgs({type:d,typeDef:e,genericArgs:f}):f;return ar.typeSize(d,b,g)};switch(e.type.kind){case"struct":return A(e.type.fields,()=>[0],a=>a.map(a=>f(a.type)),a=>a.map(a=>f(a))).reduce((a,b)=>a+b,0);case"enum":return Math.max(...e.type.variants.map(a=>A(a.fields,()=>[0],a=>a.map(a=>f(a.type)),a=>a.map(a=>f(a))).reduce((a,b)=>a+b,0)))+1;case"type":return ar.typeSize(e.type.alias,b,c)}}if("generic"in a){let d=null==c?void 0:c.at(0);if((null==d?void 0:d.kind)!=="type")throw new ak(`Invalid generic: ${a.generic}`);return ar.typeSize(d.type,b,c)}throw Error(`Invalid type ${JSON.stringify(a)}`)}}static resolveArrayLen(a,b){if("number"==typeof a)return a;if(b){let c=b.find(a=>"const"===a.kind);(null==c?void 0:c.kind)==="const"&&(a=+c.value)}if("number"!=typeof a)throw new ak("Generic array length did not resolve");return a}static resolveGenericArgs({type:a,typeDef:b,genericArgs:c,isDefined:d}){if("object"!=typeof a)return null;for(let e in b.generics){let f=b.generics[e];if("generic"in a&&f.name===a.generic)return[c[e]];if("option"in a){let e=ar.resolveGenericArgs({type:a.option,typeDef:b,genericArgs:c,isDefined:d});if(!e||!d)return e;if("type"===e[0].kind)return[{kind:"type",type:{option:e[0].type}}]}if("vec"in a){let e=ar.resolveGenericArgs({type:a.vec,typeDef:b,genericArgs:c,isDefined:d});if(!e||!d)return e;if("type"===e[0].kind)return[{kind:"type",type:{vec:e[0].type}}]}if("array"in a){let[g,h]=a.array,i="object"==typeof h,j=ar.resolveGenericArgs({type:g,typeDef:b,genericArgs:c,isDefined:d})||[];if(i){let a=b.generics.findIndex(a=>a.name===h.generic);-1!==a&&j.push(c[a])}if(j.length>0){if(!d)return j;if("type"===j[0].kind&&"const"===j[1].kind)return[{kind:"type",type:{array:[j[0].type,+j[1].value]}}]}if(i&&f.name===h.generic){let a=c[e];if(!d)return[a];return[{kind:"type",type:{array:[g,+a.value]}}]}break}if("defined"in a){if(!a.defined.generics)return null;return a.defined.generics.flatMap(a=>{switch(a.kind){case"type":return ar.resolveGenericArgs({type:a.type,typeDef:b,genericArgs:c,isDefined:!0});case"const":return[a]}}).filter(a=>null!==a)}}return null}}class as{constructor(a){this.idl=a;const b=a.instructions.map(b=>{let c=b.name,d=b.args.map(b=>ar.fieldLayout(b,a.types)),e=w.struct(d,c);return[c,{discriminator:b.discriminator,layout:e}]});this.ixLayouts=new Map(b)}encode(a,b){let c=m.Buffer.alloc(1e3),d=this.ixLayouts.get(a);if(!d)throw Error(`Unknown method: ${a}`);let e=d.layout.encode(b,c),f=c.slice(0,e);return m.Buffer.concat([m.Buffer.from(d.discriminator),f])}decode(a,b="hex"){for(let[c,d]of("string"==typeof a&&(a="hex"===b?m.Buffer.from(a,"hex"):q.default.decode(a)),this.ixLayouts)){let b=a.subarray(0,d.discriminator.length);if(b.equals(m.Buffer.from(d.discriminator)))return{name:c,data:d.layout.decode(a.subarray(b.length))}}return null}format(a,b){return at.format(a,b,this.idl)}}class at{static format(a,b,c){let d=c.instructions.find(b=>a.name===b.name);if(!d)return console.error("Invalid instruction given"),null;let e=d.args.map(b=>({name:b.name,type:at.formatIdlType(b.type),data:at.formatIdlData(b,a.data[b.name],c.types)})),f=at.flattenIdlAccounts(d.accounts);return{args:e,accounts:b.map((a,b)=>b<f.length?{name:f[b].name,...a}:{name:void 0,...a})}}static formatIdlType(a){if("string"==typeof a)return a;if("option"in a)return`Option<${this.formatIdlType(a.option)}>`;if("coption"in a)return`COption<${this.formatIdlType(a.coption)}>`;if("vec"in a)return`Vec<${this.formatIdlType(a.vec)}>`;if("array"in a)return`Array<${a.array[0]}; ${a.array[1]}>`;if("defined"in a){let b=a.defined.name;if(a.defined.generics){let c=a.defined.generics.map(a=>{switch(a.kind){case"type":return at.formatIdlType(a.type);case"const":return a.value}}).join(", ");return`${b}<${c}>`}return b}throw Error(`Unknown IDL type: ${a}`)}static formatIdlData(a,b,c){if("string"==typeof a.type)return b.toString();if("vec"in a.type)return"["+b.map(b=>this.formatIdlData({name:"",type:a.type.vec},b,c)).join(", ")+"]";if("option"in a.type)return null===b?"null":this.formatIdlData({name:"",type:a.type.option},b,c);if("defined"in a.type){if(!c)throw Error("User defined types not provided");let d=a.type.defined.name,e=c.find(a=>a.name===d);if(!e)throw Error(`Type not found: ${d}`);return at.formatIdlDataDefined(e,b,c)}return"unknown"}static formatIdlDataDefined(a,b,c){switch(a.type.kind){case"struct":return"{ "+A(a.type.fields,()=>"",a=>Object.entries(b).map(([b,d])=>{let e=a.find(a=>a.name===b);if(!e)throw Error(`Field not found: ${b}`);return b+": "+at.formatIdlData(e,d,c)}).join(", "),a=>Object.entries(b).map(([b,d])=>b+": "+at.formatIdlData({name:"",type:a[b]},d,c)).join(", "))+" }";case"enum":{let d=Object.keys(b)[0],e=a.type.variants.find(a=>a.name===d);if(!e)throw Error(`Unable to find variant: ${d}`);let f=b[d];return A(e.fields,()=>d,a=>{let b=Object.keys(f).map(b=>{let d=f[b],e=a.find(a=>a.name===b);if(!e)throw Error(`Field not found: ${b}`);return b+": "+at.formatIdlData(e,d,c)}).join(", ");return`${d} { ${b} }`},a=>{let b=Object.entries(f).map(([b,d])=>b+": "+at.formatIdlData({name:"",type:a[b]},d,c)).join(", ");return`${d} { ${b} }`})}case"type":return at.formatIdlType(a.type.alias)}}static flattenIdlAccounts(a,b){return a.map(a=>{let c,d=(c=a.name.replace(/([A-Z])/g," $1")).charAt(0).toUpperCase()+c.slice(1);if(!a.hasOwnProperty("accounts"))return{...a,name:b?`${b} > ${d}`:d};{let c=b?`${b} > ${d}`:d;return at.flattenIdlAccounts(a.accounts,c)}}).flat()}}class au{constructor(a){if(this.idl=a,!a.accounts){this.accountLayouts=new Map;return}const b=a.types;if(!b)throw Error("Accounts require `idl.types`");const c=a.accounts.map(a=>{let c=b.find(b=>b.name===a.name);if(!c)throw Error(`Account not found: ${a.name}`);return[a.name,{discriminator:a.discriminator,layout:ar.typeDefLayout({typeDef:c,types:b})}]});this.accountLayouts=new Map(c)}async encode(a,b){let c=m.Buffer.alloc(1e3),d=this.accountLayouts.get(a);if(!d)throw Error(`Unknown account: ${a}`);let e=d.layout.encode(b,c),f=c.slice(0,e),g=this.accountDiscriminator(a);return m.Buffer.concat([g,f])}decode(a,b){let c=this.accountDiscriminator(a);if(c.compare(b.slice(0,c.length)))throw Error("Invalid account discriminator");return this.decodeUnchecked(a,b)}decodeAny(a){for(let[b,c]of this.accountLayouts)if(a.subarray(0,c.discriminator.length).equals(m.Buffer.from(c.discriminator)))return this.decodeUnchecked(b,a);throw Error("Account not found")}decodeUnchecked(a,b){let c=this.accountDiscriminator(a),d=b.subarray(c.length),e=this.accountLayouts.get(a);if(!e)throw Error(`Unknown account: ${a}`);return e.layout.decode(d)}memcmp(a,b){let c=this.accountDiscriminator(a);return{offset:0,bytes:q.default.encode(b?m.Buffer.concat([c,b]):c)}}size(a){return this.accountDiscriminator(a).length+ar.typeSize({defined:{name:a}},this.idl)}accountDiscriminator(a){var b;let c=null==(b=this.idl.accounts)?void 0:b.find(b=>b.name===a);if(!c)throw Error(`Account not found: ${a}`);return m.Buffer.from(c.discriminator)}}class av{constructor(a){if(!a.events){this.layouts=new Map;return}const b=a.types;if(!b)throw Error("Events require `idl.types`");const c=a.events.map(a=>{let c=b.find(b=>b.name===a.name);if(!c)throw Error(`Event not found: ${a.name}`);return[a.name,{discriminator:a.discriminator,layout:ar.typeDefLayout({typeDef:c,types:b})}]});this.layouts=new Map(c)}decode(a){let b;try{b=t(a)}catch(a){return null}for(let[a,c]of this.layouts){let d=b.subarray(0,c.discriminator.length);if(d.equals(m.Buffer.from(c.discriminator)))return{name:a,data:c.layout.decode(b.subarray(d.length))}}return null}}class aw{constructor(a){const b=a.types;if(!b){this.typeLayouts=new Map;return}const c=b.filter(a=>!a.generics).map(a=>[a.name,ar.typeDefLayout({typeDef:a,types:b})]);this.typeLayouts=new Map(c)}encode(a,b){let c=m.Buffer.alloc(1e3),d=this.typeLayouts.get(a);if(!d)throw Error(`Unknown type: ${a}`);let e=d.encode(b,c);return c.slice(0,e)}decode(a,b){let c=this.typeLayouts.get(a);if(!c)throw Error(`Unknown type: ${a}`);return c.decode(b)}}class ax{constructor(a){this.instruction=new as(a),this.accounts=new au(a),this.events=new av(a),this.types=new aw(a)}}a.s(["BorshCoder",()=>ax],61891);var ay=a.i(31247),az=a.i(571);class aA{constructor(a){}encode(a,b){switch(a){case"createAccount":return function({lamports:a,space:b,owner:c}){return aF({createAccount:{lamports:a,space:b,owner:c.toBuffer()}})}(b);case"assign":return function({owner:a}){return aF({assign:{owner:a.toBuffer()}})}(b);case"transfer":return function({lamports:a}){return aF({transfer:{lamports:a}})}(b);case"createAccountWithSeed":return function({base:a,seed:b,lamports:c,space:d,owner:e}){return aF({createAccountWithSeed:{base:a.toBuffer(),seed:b,lamports:c,space:d,owner:e.toBuffer()}},aE.getVariant(3).span+b.length)}(b);case"advanceNonceAccount":return function({authorized:a}){return aF({advanceNonceAccount:{authorized:a.toBuffer()}})}(b);case"withdrawNonceAccount":return function({lamports:a}){return aF({withdrawNonceAccount:{lamports:a}})}(b);case"initializeNonceAccount":return function({authorized:a}){return aF({initializeNonceAccount:{authorized:a.toBuffer()}})}(b);case"authorizeNonceAccount":return function({authorized:a}){return aF({authorizeNonceAccount:{authorized:a.toBuffer()}})}(b);case"allocate":return function({space:a}){return aF({allocate:{space:a}})}(b);case"allocateWithSeed":return function({base:a,seed:b,space:c,owner:d}){return aF({allocateWithSeed:{base:a.toBuffer(),seed:b,space:c,owner:d.toBuffer()}},aE.getVariant(9).span+b.length)}(b);case"assignWithSeed":return function({base:a,seed:b,owner:c}){return aF({assignWithSeed:{base:a.toBuffer(),seed:b,owner:c.toBuffer()}},aE.getVariant(10).span+b.length)}(b);case"transferWithSeed":return function({lamports:a,seed:b,owner:c}){return aF({transferWithSeed:{lamports:a,seed:b,owner:c.toBuffer()}},aE.getVariant(11).span+b.length)}(b);default:throw Error(`Invalid instruction: ${a}`)}}encodeState(a,b){throw Error("System does not have state")}}class aB extends az.Layout{constructor(a){super(-1,a),this.property=a,this.layout=az.struct([az.u32("length"),az.u32("lengthPadding"),az.blob(az.offset(az.u32(),-8),"chars")],this.property)}encode(a,b,c=0){if(null==a)return this.layout.span;let d={chars:Buffer.from(a,"utf8")};return this.layout.encode(d,b,c)}decode(a,b=0){return this.layout.decode(a,b).chars.toString()}getSpan(a,b=0){return az.u32().span+az.u32().span+new ay.default(new Uint8Array(a).slice(b,b+4),10,"le").toNumber()}}function aC(a){return new aB(a)}function aD(a){return az.blob(32,a)}let aE=az.union(az.u32("instruction"));function aF(a,b){let c=Buffer.alloc(null!=b?b:aG),d=aE.encode(a,c);return void 0===b?c.slice(0,d):c}aE.addVariant(0,az.struct([az.ns64("lamports"),az.ns64("space"),aD("owner")]),"createAccount"),aE.addVariant(1,az.struct([aD("owner")]),"assign"),aE.addVariant(2,az.struct([az.ns64("lamports")]),"transfer"),aE.addVariant(3,az.struct([aD("base"),aC("seed"),az.ns64("lamports"),az.ns64("space"),aD("owner")]),"createAccountWithSeed"),aE.addVariant(4,az.struct([aD("authorized")]),"advanceNonceAccount"),aE.addVariant(5,az.struct([az.ns64("lamports")]),"withdrawNonceAccount"),aE.addVariant(6,az.struct([aD("authorized")]),"initializeNonceAccount"),aE.addVariant(7,az.struct([aD("authorized")]),"authorizeNonceAccount"),aE.addVariant(8,az.struct([az.ns64("space")]),"allocate"),aE.addVariant(9,az.struct([aD("base"),aC("seed"),az.ns64("space"),aD("owner")]),"allocateWithSeed"),aE.addVariant(10,az.struct([aD("base"),aC("seed"),aD("owner")]),"assignWithSeed"),aE.addVariant(11,az.struct([az.ns64("lamports"),aC("seed"),aD("owner")]),"transferWithSeed");let aG=Math.max(...Object.values(aE.registry).map(a=>a.span));var aH=az;class aI{constructor(a){this.idl=a}async encode(a,b){if("nonce"===a){let a=Buffer.alloc(l.NONCE_ACCOUNT_LENGTH),c=aL.encode(b,a);return a.slice(0,c)}throw Error(`Invalid account name: ${a}`)}decode(a,b){return this.decodeUnchecked(a,b)}decodeUnchecked(a,b){if("nonce"===a){var c;return c=b,aL.decode(c)}throw Error(`Invalid account name: ${a}`)}memcmp(a,b){if("nonce"===a)return{dataSize:l.NONCE_ACCOUNT_LENGTH};throw Error(`Invalid account name: ${a}`)}size(a){return ar.typeSize({defined:{name:a}},this.idl)}}class aJ extends aH.Layout{constructor(a,b,c,d){super(a.span,d),this.layout=a,this.decoder=b,this.encoder=c}decode(a,b){return this.decoder(this.layout.decode(a,b))}encode(a,b,c){return this.layout.encode(this.encoder(a),b,c)}getSpan(a,b){return this.layout.getSpan(a,b)}}function aK(a){return new aJ(aH.blob(32),a=>new l.PublicKey(a),a=>a.toBuffer(),a)}let aL=aH.struct([aH.u32("version"),aH.u32("state"),aK("authorizedPubkey"),aK("nonce"),aH.struct([aH.nu64("lamportsPerSignature")],"feeCalculator")]);class aM{constructor(a){}decode(a){throw Error("System program does not have events")}}class aN{constructor(a){}encode(a,b){throw Error("System does not have user-defined types")}decode(a,b){throw Error("System does not have user-defined types")}}class aO{constructor(a){this.instruction=new aA(a),this.accounts=new aI(a),this.events=new aM(a),this.types=new aN(a)}}function aP(a){let b=a.length;for(;--b>=0;)a[b]=0}a.s(["SystemCoder",()=>aO],73134),a.s([],46736),a.s(["Program",()=>dH],19993);let aQ=573,aR=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),aS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),aU=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aV=Array(576);aP(aV);let aW=Array(60);aP(aW);let aX=Array(512);aP(aX);let aY=Array(256);aP(aY);let aZ=Array(29);aP(aZ);let a$=Array(30);function a_(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function a0(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}aP(a$);let a1=a=>a<256?aX[a]:aX[256+(a>>>7)],a2=(a,b)=>{a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255},a3=(a,b,c)=>{a.bi_valid>16-c?(a.bi_buf|=b<<a.bi_valid&65535,a2(a,a.bi_buf),a.bi_buf=b>>16-a.bi_valid,a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)},a4=(a,b,c)=>{a3(a,c[2*b],c[2*b+1])},a5=(a,b)=>{let c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0)return c>>>1},a6=(a,b,c)=>{let d,e,f=Array(16),g=0;for(d=1;d<=15;d++)g=g+c[d-1]<<1,f[d]=g;for(e=0;e<=b;e++){let b=a[2*e+1];0!==b&&(a[2*e]=a5(f[b]++,b))}},a7=a=>{let b;for(b=0;b<286;b++)a.dyn_ltree[2*b]=0;for(b=0;b<30;b++)a.dyn_dtree[2*b]=0;for(b=0;b<19;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},a8=a=>{a.bi_valid>8?a2(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},a9=(a,b,c,d)=>{let e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]},ba=(a,b,c)=>{let d=a.heap[c],e=c<<1;for(;e<=a.heap_len&&(e<a.heap_len&&a9(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!a9(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d},bb=(a,b,c)=>{let d,e,f,g,h=0;if(0!==a.sym_next)do d=(255&a.pending_buf[a.sym_buf+h++])+((255&a.pending_buf[a.sym_buf+h++])<<8),e=a.pending_buf[a.sym_buf+h++],0===d?a4(a,e,b):(a4(a,(f=aY[e])+256+1,b),0!==(g=aR[f])&&a3(a,e-=aZ[f],g),a4(a,f=a1(--d),c),0!==(g=aS[f])&&a3(a,d-=a$[f],g));while(h<a.sym_next)a4(a,256,b)},bc=(a,b)=>{let c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(c=0,a.heap_len=0,a.heap_max=aQ;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)f[2*(e=a.heap[++a.heap_len]=j<2?++j:0)]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)ba(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],ba(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,ba(a,f,1);while(a.heap_len>=2)a.heap[--a.heap_max]=a.heap[1],((a,b)=>{let c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=15;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;c<aQ;c++)(f=i[2*i[2*(d=a.heap[c])+1]+1]+1)>o&&(f=o,p++),i[2*d+1]=f,!(d>j)&&(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0)for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)!((e=a.heap[--c])>j)&&(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}})(a,b),a6(f,j,a.bl_count)},bd=(a,b,c)=>{let d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[(c+1)*2+1]=65535,d=0;d<=c;d++)e=g,g=b[(d+1)*2+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[32]++):h<=10?a.bl_tree[34]++:a.bl_tree[36]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))},be=(a,b,c)=>{let d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),d=0;d<=c;d++)if(e=g,g=b[(d+1)*2+1],!(++h<i)||e!==g){if(h<j)do a4(a,e,a.bl_tree);while(0!=--h)else 0!==e?(e!==f&&(a4(a,e,a.bl_tree),h--),a4(a,16,a.bl_tree),a3(a,h-3,2)):h<=10?(a4(a,17,a.bl_tree),a3(a,h-3,3)):(a4(a,18,a.bl_tree),a3(a,h-11,7));h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4)}},bf=!1,bg=(a,b,c,d)=>{a3(a,0+ +!!d,3),a8(a),a2(a,c),a2(a,~c),c&&a.pending_buf.set(a.window.subarray(b,b+c),a.pending),a.pending+=c};var bh={_tr_init:a=>{bf||((()=>{let a,e,f,g,h,i=Array(16);for(g=0,f=0;g<28;g++)for(a=0,aZ[g]=f;a<1<<aR[g];a++)aY[f++]=g;for(aY[f-1]=g,h=0,g=0;g<16;g++)for(a=0,a$[g]=h;a<1<<aS[g];a++)aX[h++]=g;for(h>>=7;g<30;g++)for(a=0,a$[g]=h<<7;a<1<<aS[g]-7;a++)aX[256+h++]=g;for(e=0;e<=15;e++)i[e]=0;for(a=0;a<=143;)aV[2*a+1]=8,a++,i[8]++;for(;a<=255;)aV[2*a+1]=9,a++,i[9]++;for(;a<=279;)aV[2*a+1]=7,a++,i[7]++;for(;a<=287;)aV[2*a+1]=8,a++,i[8]++;for(a6(aV,287,i),a=0;a<30;a++)aW[2*a+1]=5,aW[2*a]=a5(a,5);b=new a_(aV,aR,257,286,15),c=new a_(aW,aS,0,30,15),d=new a_([],aT,0,19,7)})(),bf=!0),a.l_desc=new a0(a.dyn_ltree,b),a.d_desc=new a0(a.dyn_dtree,c),a.bl_desc=new a0(a.bl_tree,d),a.bi_buf=0,a.bi_valid=0,a7(a)},_tr_stored_block:bg,_tr_flush_block:(a,b,c,d)=>{let e,f,g=0;a.level>0?(2===a.strm.data_type&&(a.strm.data_type=(a=>{let b,c=0xf3ffc07f;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;b<256;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0})(a)),bc(a,a.l_desc),bc(a,a.d_desc),g=(a=>{let b;for(bd(a,a.dyn_ltree,a.l_desc.max_code),bd(a,a.dyn_dtree,a.d_desc.max_code),bc(a,a.bl_desc),b=18;b>=3&&0===a.bl_tree[2*aU[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b})(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=c+5,c+4<=e&&-1!==b?bg(a,b,c,d):4===a.strategy||f===e?(a3(a,2+ +!!d,3),bb(a,aV,aW)):(a3(a,4+ +!!d,3),((a,b,c,d)=>{let e;for(a3(a,b-257,5),a3(a,c-1,5),a3(a,d-4,4),e=0;e<d;e++)a3(a,a.bl_tree[2*aU[e]+1],3);be(a,a.dyn_ltree,b-1),be(a,a.dyn_dtree,c-1)})(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),bb(a,a.dyn_ltree,a.dyn_dtree)),a7(a),d&&a8(a)},_tr_tally:(a,b,c)=>(a.pending_buf[a.sym_buf+a.sym_next++]=b,a.pending_buf[a.sym_buf+a.sym_next++]=b>>8,a.pending_buf[a.sym_buf+a.sym_next++]=c,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[(aY[c]+256+1)*2]++,a.dyn_dtree[2*a1(b)]++),a.sym_next===a.sym_end),_tr_align:a=>{a3(a,2,3),a4(a,256,aV),16===a.bi_valid?(a2(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}},bi=(a,b,c,d)=>{let e=65535&a,f=a>>>16&65535,g=0;for(;0!==c;){g=c>2e3?2e3:c,c-=g;do f=f+(e=e+b[d++]|0)|0;while(--g)e%=65521,f%=65521}return e|f<<16};let bj=new Uint32Array((()=>{let a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?0xedb88320^a>>>1:a>>>1;b[c]=a}return b})());var bk=(a,b,c,d)=>{let e=d+c;a^=-1;for(let c=d;c<e;c++)a=a>>>8^bj[(a^b[c])&255];return -1^a},bl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:bn,_tr_stored_block:bo,_tr_flush_block:bp,_tr_tally:bq,_tr_align:br}=bh,{Z_NO_FLUSH:bs,Z_PARTIAL_FLUSH:bt,Z_FULL_FLUSH:bu,Z_FINISH:bv,Z_BLOCK:bw,Z_OK:bx,Z_STREAM_END:by,Z_STREAM_ERROR:bz,Z_DATA_ERROR:bA,Z_BUF_ERROR:bB,Z_DEFAULT_COMPRESSION:bC,Z_FILTERED:bD,Z_HUFFMAN_ONLY:bE,Z_RLE:bF,Z_FIXED:bG,Z_DEFAULT_STRATEGY:bH,Z_UNKNOWN:bI,Z_DEFLATED:bJ}=bm,bK=573,bL=(a,b)=>(a.msg=bl[b],b),bM=a=>2*a-9*(a>4),bN=a=>{let b=a.length;for(;--b>=0;)a[b]=0},bO=a=>{let b,c,d,e=a.w_size;d=b=a.hash_size;do c=a.head[--d],a.head[d]=c>=e?c-e:0;while(--b)d=b=e;do c=a.prev[--d],a.prev[d]=c>=e?c-e:0;while(--b)},bP=(a,b,c)=>(b<<a.hash_shift^c)&a.hash_mask,bQ=a=>{let b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(a.output.set(b.pending_buf.subarray(b.pending_out,b.pending_out+c),a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))},bR=(a,b)=>{bp(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,bQ(a.strm)},bS=(a,b)=>{a.pending_buf[a.pending++]=b},bT=(a,b)=>{a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b},bU=(a,b,c,d)=>{let e=a.avail_in;return(e>d&&(e=d),0===e)?0:(a.avail_in-=e,b.set(a.input.subarray(a.next_in,a.next_in+e),c),1===a.state.wrap?a.adler=bi(a.adler,b,e,c):2===a.state.wrap&&(a.adler=bk(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)},bV=(a,b)=>{let c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+258,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(j[(c=b)+g]!==o||j[c+g-1]!==n||j[c]!==j[f]||j[++c]!==j[f+1])continue;f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m)if(d=258-(m-f),f=m-258,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!=--e)return g<=a.lookahead?g:a.lookahead},bW=a=>{let b,c,d,e=a.w_size;do{if(c=a.window_size-a.lookahead-a.strstart,a.strstart>=e+(e-262)&&(a.window.set(a.window.subarray(e,e+e-c),0),a.match_start-=e,a.strstart-=e,a.block_start-=e,a.insert>a.strstart&&(a.insert=a.strstart),bO(a),c+=e),0===a.strm.avail_in)break;if(b=bU(a.strm,a.window,a.strstart+a.lookahead,c),a.lookahead+=b,a.lookahead+a.insert>=3)for(d=a.strstart-a.insert,a.ins_h=a.window[d],a.ins_h=bP(a,a.ins_h,a.window[d+1]);a.insert&&(a.ins_h=bP(a,a.ins_h,a.window[d+3-1]),a.prev[d&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++,a.insert--,!(a.lookahead+a.insert<3)););}while(a.lookahead<262&&0!==a.strm.avail_in)},bX=(a,b)=>{let c=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,d,e,f,g=0,h=a.strm.avail_in;do{if(d=65535,f=a.bi_valid+42>>3,a.strm.avail_out<f||(f=a.strm.avail_out-f,d>(e=a.strstart-a.block_start)+a.strm.avail_in&&(d=e+a.strm.avail_in),d>f&&(d=f),d<c&&(0===d&&b!==bv||b===bs||d!==e+a.strm.avail_in)))break;g=+(b===bv&&d===e+a.strm.avail_in),bo(a,0,0,g),a.pending_buf[a.pending-4]=d,a.pending_buf[a.pending-3]=d>>8,a.pending_buf[a.pending-2]=~d,a.pending_buf[a.pending-1]=~d>>8,bQ(a.strm),e&&(e>d&&(e=d),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+e),a.strm.next_out),a.strm.next_out+=e,a.strm.avail_out-=e,a.strm.total_out+=e,a.block_start+=e,d-=e),d&&(bU(a.strm,a.strm.output,a.strm.next_out,d),a.strm.next_out+=d,a.strm.avail_out-=d,a.strm.total_out+=d)}while(0===g)return((h-=a.strm.avail_in)&&(h>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=h&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-h,a.strm.next_in),a.strstart),a.strstart+=h,a.insert+=h>a.w_size-a.insert?a.w_size-a.insert:h),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),g)?4:b!==bs&&b!==bv&&0===a.strm.avail_in&&a.strstart===a.block_start?2:(f=a.window_size-a.strstart,a.strm.avail_in>f&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,f+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),f>a.strm.avail_in&&(f=a.strm.avail_in),f&&(bU(a.strm,a.window,a.strstart,f),a.strstart+=f,a.insert+=f>a.w_size-a.insert?a.w_size-a.insert:f),a.high_water<a.strstart&&(a.high_water=a.strstart),f=a.bi_valid+42>>3,c=(f=a.pending_buf_size-f>65535?65535:a.pending_buf_size-f)>a.w_size?a.w_size:f,((e=a.strstart-a.block_start)>=c||(e||b===bv)&&b!==bs&&0===a.strm.avail_in&&e<=f)&&(d=e>f?f:e,g=+(b===bv&&0===a.strm.avail_in&&d===e),bo(a,a.block_start,d,g),a.block_start+=d,bQ(a.strm)),g?3:1)},bY=(a,b)=>{let c,d;for(;;){if(a.lookahead<262){if(bW(a),a.lookahead<262&&b===bs)return 1;if(0===a.lookahead)break}if(c=0,a.lookahead>=3&&(a.ins_h=bP(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-262&&(a.match_length=bV(a,c)),a.match_length>=3)if(d=bq(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=3){a.match_length--;do a.strstart++,a.ins_h=bP(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!=--a.match_length)a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=bP(a,a.ins_h,a.window[a.strstart+1]);else d=bq(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(bR(a,!1),0===a.strm.avail_out))return 1}return(a.insert=a.strstart<2?a.strstart:2,b===bv)?(bR(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(bR(a,!1),0===a.strm.avail_out)?1:2},bZ=(a,b)=>{let c,d,e;for(;;){if(a.lookahead<262){if(bW(a),a.lookahead<262&&b===bs)return 1;if(0===a.lookahead)break}if(c=0,a.lookahead>=3&&(a.ins_h=bP(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-262&&(a.match_length=bV(a,c),a.match_length<=5&&(a.strategy===bD||3===a.match_length&&a.strstart-a.match_start>4096)&&(a.match_length=2)),a.prev_length>=3&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3,d=bq(a,a.strstart-1-a.prev_match,a.prev_length-3),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=bP(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!=--a.prev_length)if(a.match_available=0,a.match_length=2,a.strstart++,d&&(bR(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((d=bq(a,0,a.window[a.strstart-1]))&&bR(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return(a.match_available&&(d=bq(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<2?a.strstart:2,b===bv)?(bR(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(bR(a,!1),0===a.strm.avail_out)?1:2};function b$(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}let b_=[new b$(0,0,0,0,bX),new b$(4,4,8,4,bY),new b$(4,5,16,8,bY),new b$(4,6,32,32,bY),new b$(4,4,16,16,bZ),new b$(8,16,32,32,bZ),new b$(8,16,128,128,bZ),new b$(8,32,128,256,bZ),new b$(32,128,258,1024,bZ),new b$(32,258,258,4096,bZ)];function b0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bJ,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*bK),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),bN(this.dyn_ltree),bN(this.dyn_dtree),bN(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),bN(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),bN(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let b1=a=>{if(!a)return 1;let b=a.state;return b&&b.strm===a&&(42===b.status||57===b.status||69===b.status||73===b.status||91===b.status||103===b.status||113===b.status||666===b.status)?0:1};var b2=(a,b)=>{if(b1(a)||b>bw||b<0)return a?bL(a,bz):bz;let c=a.state;if(!a.output||0!==a.avail_in&&!a.input||666===c.status&&b!==bv)return bL(a,0===a.avail_out?bB:bz);let d=c.last_flush;if(c.last_flush=b,0!==c.pending){if(bQ(a),0===a.avail_out)return c.last_flush=-1,bx}else if(0===a.avail_in&&bM(b)<=bM(d)&&b!==bv)return bL(a,bB);if(666===c.status&&0!==a.avail_in)return bL(a,bB);if(42===c.status&&0===c.wrap&&(c.status=113),42===c.status){let b=bJ+(c.w_bits-8<<4)<<8;if(b|=(c.strategy>=bE||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(b|=32),bT(c,b+=31-b%31),0!==c.strstart&&(bT(c,a.adler>>>16),bT(c,65535&a.adler)),a.adler=1,c.status=113,bQ(a),0!==c.pending)return c.last_flush=-1,bx}if(57===c.status){if(a.adler=0,bS(c,31),bS(c,139),bS(c,8),c.gzhead)bS(c,+!!c.gzhead.text+2*!!c.gzhead.hcrc+4*!!c.gzhead.extra+8*!!c.gzhead.name+16*!!c.gzhead.comment),bS(c,255&c.gzhead.time),bS(c,c.gzhead.time>>8&255),bS(c,c.gzhead.time>>16&255),bS(c,c.gzhead.time>>24&255),bS(c,9===c.level?2:4*(c.strategy>=bE||c.level<2)),bS(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(bS(c,255&c.gzhead.extra.length),bS(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(a.adler=bk(a.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(bS(c,0),bS(c,0),bS(c,0),bS(c,0),bS(c,0),bS(c,9===c.level?2:4*(c.strategy>=bE||c.level<2)),bS(c,3),c.status=113,bQ(a),0!==c.pending)return c.last_flush=-1,bx}if(69===c.status){if(c.gzhead.extra){let b=c.pending,d=(65535&c.gzhead.extra.length)-c.gzindex;for(;c.pending+d>c.pending_buf_size;){let e=c.pending_buf_size-c.pending;if(c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+e),c.pending),c.pending=c.pending_buf_size,c.gzhead.hcrc&&c.pending>b&&(a.adler=bk(a.adler,c.pending_buf,c.pending-b,b)),c.gzindex+=e,bQ(a),0!==c.pending)return c.last_flush=-1,bx;b=0,d-=e}let e=new Uint8Array(c.gzhead.extra);c.pending_buf.set(e.subarray(c.gzindex,c.gzindex+d),c.pending),c.pending+=d,c.gzhead.hcrc&&c.pending>b&&(a.adler=bk(a.adler,c.pending_buf,c.pending-b,b)),c.gzindex=0}c.status=73}if(73===c.status){if(c.gzhead.name){let b,d=c.pending;do{if(c.pending===c.pending_buf_size){if(c.gzhead.hcrc&&c.pending>d&&(a.adler=bk(a.adler,c.pending_buf,c.pending-d,d)),bQ(a),0!==c.pending)return c.last_flush=-1,bx;d=0}b=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,bS(c,b)}while(0!==b)c.gzhead.hcrc&&c.pending>d&&(a.adler=bk(a.adler,c.pending_buf,c.pending-d,d)),c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){let b,d=c.pending;do{if(c.pending===c.pending_buf_size){if(c.gzhead.hcrc&&c.pending>d&&(a.adler=bk(a.adler,c.pending_buf,c.pending-d,d)),bQ(a),0!==c.pending)return c.last_flush=-1,bx;d=0}b=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,bS(c,b)}while(0!==b)c.gzhead.hcrc&&c.pending>d&&(a.adler=bk(a.adler,c.pending_buf,c.pending-d,d))}c.status=103}if(103===c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(bQ(a),0!==c.pending))return c.last_flush=-1,bx;bS(c,255&a.adler),bS(c,a.adler>>8&255),a.adler=0}if(c.status=113,bQ(a),0!==c.pending)return c.last_flush=-1,bx}if(0!==a.avail_in||0!==c.lookahead||b!==bs&&666!==c.status){let d=0===c.level?bX(c,b):c.strategy===bE?((a,b)=>{let c;for(;;){if(0===a.lookahead&&(bW(a),0===a.lookahead)){if(b===bs)return 1;break}if(a.match_length=0,c=bq(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(bR(a,!1),0===a.strm.avail_out))return 1}return(a.insert=0,b===bv)?(bR(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(bR(a,!1),0===a.strm.avail_out)?1:2})(c,b):c.strategy===bF?((a,b)=>{let c,d,e,f,g=a.window;for(;;){if(a.lookahead<=258){if(bW(a),a.lookahead<=258&&b===bs)return 1;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=3&&a.strstart>0&&(d=g[e=a.strstart-1])===g[++e]&&d===g[++e]&&d===g[++e]){f=a.strstart+258;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f)a.match_length=258-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=3?(c=bq(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=bq(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(bR(a,!1),0===a.strm.avail_out))return 1}return(a.insert=0,b===bv)?(bR(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(bR(a,!1),0===a.strm.avail_out)?1:2})(c,b):b_[c.level].func(c,b);if((3===d||4===d)&&(c.status=666),1===d||3===d)return 0===a.avail_out&&(c.last_flush=-1),bx;if(2===d&&(b===bt?br(c):b!==bw&&(bo(c,0,0,!1),b===bu&&(bN(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),bQ(a),0===a.avail_out))return c.last_flush=-1,bx}return b!==bv?bx:c.wrap<=0?by:(2===c.wrap?(bS(c,255&a.adler),bS(c,a.adler>>8&255),bS(c,a.adler>>16&255),bS(c,a.adler>>24&255),bS(c,255&a.total_in),bS(c,a.total_in>>8&255),bS(c,a.total_in>>16&255),bS(c,a.total_in>>24&255)):(bT(c,a.adler>>>16),bT(c,65535&a.adler)),bQ(a),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?bx:by)},b3=a=>{if(b1(a))return bz;let b=a.state.status;return a.state=null,113===b?bL(a,bA):bx};let b4=(a,b)=>Object.prototype.hasOwnProperty.call(a,b);var b5=function(a){let b=Array.prototype.slice.call(arguments,1);for(;b.length;){let c=b.shift();if(c){if("object"!=typeof c)throw TypeError(c+"must be non-object");for(let b in c)b4(c,b)&&(a[b]=c[b])}}return a},b6=a=>{let b=0;for(let c=0,d=a.length;c<d;c++)b+=a[c].length;let c=new Uint8Array(b);for(let b=0,d=0,e=a.length;b<e;b++){let e=a[b];c.set(e,d),d+=e.length}return c};let b7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){b7=!1}let b8=new Uint8Array(256);for(let a=0;a<256;a++)b8[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;b8[254]=b8[254]=1;var b9=a=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let b,c,d,e,f,g=a.length,h=0;for(e=0;e<g;e++)(64512&(c=a.charCodeAt(e)))==55296&&e+1<g&&(64512&(d=a.charCodeAt(e+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),e++),h+=c<128?1:c<2048?2:c<65536?3:4;for(f=0,b=new Uint8Array(h),e=0;f<h;e++)(64512&(c=a.charCodeAt(e)))==55296&&e+1<g&&(64512&(d=a.charCodeAt(e+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),e++),c<128?b[f++]=c:(c<2048?b[f++]=192|c>>>6:(c<65536?b[f++]=224|c>>>12:(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63),b[f++]=128|c>>>6&63),b[f++]=128|63&c);return b},ca=(a,b)=>{let c,d,e=b||a.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,b));let f=Array(2*e);for(d=0,c=0;c<e;){let b=a[c++];if(b<128){f[d++]=b;continue}let g=b8[b];if(g>4){f[d++]=65533,c+=g-1;continue}for(b&=2===g?31:3===g?15:7;g>1&&c<e;)b=b<<6|63&a[c++],g--;if(g>1){f[d++]=65533;continue}b<65536?f[d++]=b:(b-=65536,f[d++]=55296|b>>10&1023,f[d++]=56320|1023&b)}var g=d;if(g<65534&&f.subarray&&b7)return String.fromCharCode.apply(null,f.length===g?f:f.subarray(0,g));let h="";for(let a=0;a<g;a++)h+=String.fromCharCode(f[a]);return h},cb=(a,b)=>{(b=b||a.length)>a.length&&(b=a.length);let c=b-1;for(;c>=0&&(192&a[c])==128;)c--;return c<0||0===c?b:c+b8[a[c]]>b?c:b},cc=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let cd=Object.prototype.toString,{Z_NO_FLUSH:ce,Z_SYNC_FLUSH:cf,Z_FULL_FLUSH:cg,Z_FINISH:ch,Z_OK:ci,Z_STREAM_END:cj,Z_DEFAULT_COMPRESSION:ck,Z_DEFAULT_STRATEGY:cl,Z_DEFLATED:cm}=bm;function cn(a){let b,c;this.options=b5({level:ck,method:cm,chunkSize:16384,windowBits:15,memLevel:8,strategy:cl},a||{});let d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cc,this.strm.avail_out=0;let e=((a,b,c,d,e,f)=>{var g,h;let i;if(!a)return bz;let j=1;if(b===bC&&(b=6),d<0?(j=0,d=-d):d>15&&(j=2,d-=16),e<1||e>9||c!==bJ||d<8||d>15||b<0||b>9||f<0||f>bG||8===d&&1!==j)return bL(a,bz);8===d&&(d=9);let k=new b0;return a.state=k,k.strm=a,k.status=42,k.wrap=j,k.gzhead=null,k.w_bits=d,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=e+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+3-1)/3),k.window=new Uint8Array(2*k.w_size),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<e+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=(k.lit_bufsize-1)*3,k.level=b,k.strategy=f,k.method=c,(i=(a=>{if(b1(a))return bL(a,bz);a.total_in=a.total_out=0,a.data_type=bI;let b=a.state;return b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=2===b.wrap?57:b.wrap?42:113,a.adler=+(2!==b.wrap),b.last_flush=-2,bn(b),bx})(g=a))===bx&&((h=g.state).window_size=2*h.w_size,bN(h.head),h.max_lazy_match=b_[h.level].max_lazy,h.good_match=b_[h.level].good_length,h.nice_match=b_[h.level].nice_length,h.max_chain_length=b_[h.level].max_chain,h.strstart=0,h.block_start=0,h.lookahead=0,h.insert=0,h.match_length=h.prev_length=2,h.match_available=0,h.ins_h=0),i})(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(e!==ci)throw Error(bl[e]);if(d.header&&(b=this.strm,c=d.header,b1(b)||2!==b.state.wrap||(b.state.gzhead=c)),d.dictionary){let a;if(a="string"==typeof d.dictionary?b9(d.dictionary):"[object ArrayBuffer]"===cd.call(d.dictionary)?new Uint8Array(d.dictionary):d.dictionary,(e=((a,b)=>{let c=b.length;if(b1(a))return bz;let d=a.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return bz;if(1===e&&(a.adler=bi(a.adler,b,c,0)),d.wrap=0,c>=d.w_size){0===e&&(bN(d.head),d.strstart=0,d.block_start=0,d.insert=0);let a=new Uint8Array(d.w_size);a.set(b.subarray(c-d.w_size,c),0),b=a,c=d.w_size}let f=a.avail_in,g=a.next_in,h=a.input;for(a.avail_in=c,a.next_in=0,a.input=b,bW(d);d.lookahead>=3;){let a=d.strstart,b=d.lookahead-2;do d.ins_h=bP(d,d.ins_h,d.window[a+3-1]),d.prev[a&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=a,a++;while(--b)d.strstart=a,d.lookahead=2,bW(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=0,a.next_in=g,a.input=h,a.avail_in=f,d.wrap=e,bx})(this.strm,a))!==ci)throw Error(bl[e]);this._dict_set=!0}}function co(a,b){let c=new cn(b);if(c.push(a,!0),c.err)throw c.msg||bl[c.err];return c.result}cn.prototype.push=function(a,b){let c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;for(d=b===~~b?b:!0===b?ch:ce,"string"==typeof a?e.input=b9(a):"[object ArrayBuffer]"===cd.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;;){if(0===e.avail_out&&(e.output=new Uint8Array(f),e.next_out=0,e.avail_out=f),(d===cf||d===cg)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if((c=b2(e,d))===cj)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),c=b3(this.strm),this.onEnd(c),this.ended=!0,c===ci;if(0===e.avail_out){this.onData(e.output);continue}if(d>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(0===e.avail_in)break}return!0},cn.prototype.onData=function(a){this.chunks.push(a)},cn.prototype.onEnd=function(a){a===ci&&(this.result=b6(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};var cp=function(a,b){let c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=a.state;c=a.next_in,y=a.input,d=c+(a.avail_in-5),e=a.next_out,z=a.output,f=e-(b-a.avail_out),g=e+(a.avail_out-257),h=A.dmax,i=A.wsize,j=A.whave,k=A.wnext,l=A.window,m=A.hold,n=A.bits,o=A.lencode,p=A.distcode,q=(1<<A.lenbits)-1,r=(1<<A.distbits)-1;a:do for(n<15&&(m+=y[c++]<<n,n+=8,m+=y[c++]<<n,n+=8),s=o[m&q];;){if(m>>>=t=s>>>24,n-=t,0==(t=s>>>16&255))z[e++]=65535&s;else if(16&t)for(u=65535&s,(t&=15)&&(n<t&&(m+=y[c++]<<n,n+=8),u+=m&(1<<t)-1,m>>>=t,n-=t),n<15&&(m+=y[c++]<<n,n+=8,m+=y[c++]<<n,n+=8),s=p[m&r];;){if(m>>>=t=s>>>24,n-=t,16&(t=s>>>16&255)){if(v=65535&s,n<(t&=15)&&(m+=y[c++]<<n,(n+=8)<t&&(m+=y[c++]<<n,n+=8)),(v+=m&(1<<t)-1)>h){a.msg="invalid distance too far back",A.mode=16209;break a}if(m>>>=t,n-=t,v>(t=e-f)){if((t=v-t)>j&&A.sane){a.msg="invalid distance too far back",A.mode=16209;break a}if(w=0,x=l,0===k){if(w+=i-t,t<u){u-=t;do z[e++]=l[w++];while(--t)w=e-v,x=z}}else if(k<t){if(w+=i+k-t,(t-=k)<u){u-=t;do z[e++]=l[w++];while(--t)if(w=0,k<u){u-=t=k;do z[e++]=l[w++];while(--t)w=e-v,x=z}}}else if(w+=k-t,t<u){u-=t;do z[e++]=l[w++];while(--t)w=e-v,x=z}for(;u>2;)z[e++]=x[w++],z[e++]=x[w++],z[e++]=x[w++],u-=3;u&&(z[e++]=x[w++],u>1&&(z[e++]=x[w++]))}else{w=e-v;do z[e++]=z[w++],z[e++]=z[w++],z[e++]=z[w++],u-=3;while(u>2)u&&(z[e++]=z[w++],u>1&&(z[e++]=z[w++]))}}else if((64&t)==0){s=p[(65535&s)+(m&(1<<t)-1)];continue}else{a.msg="invalid distance code",A.mode=16209;break a}break}else if((64&t)==0){s=o[(65535&s)+(m&(1<<t)-1)];continue}else if(32&t){A.mode=16191;break a}else{a.msg="invalid literal/length code",A.mode=16209;break a}break}while(c<d&&e<g)c-=u=n>>3,n-=u<<3,m&=(1<<n)-1,a.next_in=c,a.next_out=e,a.avail_in=c<d?5+(d-c):5-(c-d),a.avail_out=e<g?257+(g-e):257-(e-g),A.hold=m,A.bits=n};let cq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ct=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var cu=(a,b,c,d,e,f,g,h)=>{let i,j,k,l,m,n,o,p,q,r=h.bits,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=null,D=new Uint16Array(16),E=new Uint16Array(16),F=null;for(s=0;s<=15;s++)D[s]=0;for(t=0;t<d;t++)D[b[c+t]]++;for(v=15,w=r;v>=1&&0===D[v];v--);if(w>v&&(w=v),0===v)return e[f++]=0x1400000,e[f++]=0x1400000,h.bits=1,0;for(u=1;u<v&&0===D[u];u++);for(w<u&&(w=u),z=1,s=1;s<=15;s++)if(z<<=1,(z-=D[s])<0)return -1;if(z>0&&(0===a||1!==v))return -1;for(s=1,E[1]=0;s<15;s++)E[s+1]=E[s]+D[s];for(t=0;t<d;t++)0!==b[c+t]&&(g[E[b[c+t]]++]=t);if(0===a?(C=F=g,n=20):1===a?(C=cq,F=cr,n=257):(C=cs,F=ct,n=0),B=0,t=0,s=u,m=f,x=w,y=0,k=-1,l=(A=1<<w)-1,1===a&&A>852||2===a&&A>592)return 1;for(;;){o=s-y,g[t]+1<n?(p=0,q=g[t]):g[t]>=n?(p=F[g[t]-n],q=C[g[t]-n]):(p=96,q=0),i=1<<s-y,u=j=1<<x;do e[m+(B>>y)+(j-=i)]=o<<24|p<<16|q;while(0!==j)for(i=1<<s-1;B&i;)i>>=1;if(0!==i?(B&=i-1,B+=i):B=0,t++,0==--D[s]){if(s===v)break;s=b[c+g[t]]}if(s>w&&(B&l)!==k){for(0===y&&(y=w),m+=u,z=1<<(x=s-y);x+y<v&&!((z-=D[x+y])<=0);)x++,z<<=1;if(A+=1<<x,1===a&&A>852||2===a&&A>592)return 1;e[k=B&l]=w<<24|x<<16|m-f}}return 0!==B&&(e[m+B]=s-y<<24|4194304),h.bits=w,0};let{Z_FINISH:cv,Z_BLOCK:cw,Z_TREES:cx,Z_OK:cy,Z_STREAM_END:cz,Z_NEED_DICT:cA,Z_STREAM_ERROR:cB,Z_DATA_ERROR:cC,Z_MEM_ERROR:cD,Z_BUF_ERROR:cE,Z_DEFLATED:cF}=bm,cG=a=>(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24);function cH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let cI=a=>{if(!a)return 1;let b=a.state;return+(!b||b.strm!==a||b.mode<16180||b.mode>16211)},cJ=a=>{if(cI(a))return cB;let b=a.state;return b.wsize=0,b.whave=0,b.wnext=0,(a=>{if(cI(a))return cB;let b=a.state;return a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=16180,b.last=0,b.havedict=0,b.flags=-1,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new Int32Array(852),b.distcode=b.distdyn=new Int32Array(592),b.sane=1,b.back=-1,cy})(a)},cK=!0,cL=a=>{if(cK){e=new Int32Array(512),f=new Int32Array(32);let b=0;for(;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(cu(1,a.lens,0,288,e,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;cu(2,a.lens,0,32,f,0,a.work,{bits:5}),cK=!1}a.lencode=e,a.lenbits=9,a.distcode=f,a.distbits=5},cM=(a,b,c,d)=>{let e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new Uint8Array(f.wsize)),d>=f.wsize?(f.window.set(b.subarray(c-f.wsize,c),0),f.wnext=0,f.whave=f.wsize):((e=f.wsize-f.wnext)>d&&(e=d),f.window.set(b.subarray(c-d,c-d+e),f.wnext),(d-=e)?(f.window.set(b.subarray(c-d,c),0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0};var cN=(a,b)=>{let c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=new Uint8Array(4),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cI(a)||!a.output||!a.input&&0!==a.avail_in)return cB;16191===(c=a.state).mode&&(c.mode=16192),g=a.next_out,e=a.output,i=a.avail_out,f=a.next_in,d=a.input,h=a.avail_in,j=c.hold,k=c.bits,l=h,m=i,x=cy;b:for(;;)switch(c.mode){case 16180:if(0===c.wrap){c.mode=16192;break}for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(2&c.wrap&&35615===j){0===c.wbits&&(c.wbits=15),c.check=0,B[0]=255&j,B[1]=j>>>8&255,c.check=bk(c.check,B,2,0),j=0,k=0,c.mode=16181;break}if(c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&j)<<8)+(j>>8))%31){a.msg="incorrect header check",c.mode=16209;break}if((15&j)!==cF){a.msg="unknown compression method",c.mode=16209;break}if(j>>>=4,k-=4,w=(15&j)+8,0===c.wbits&&(c.wbits=w),w>15||w>c.wbits){a.msg="invalid window size",c.mode=16209;break}c.dmax=1<<c.wbits,c.flags=0,a.adler=c.check=1,c.mode=512&j?16189:16191,j=0,k=0;break;case 16181:for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(c.flags=j,(255&c.flags)!==cF){a.msg="unknown compression method",c.mode=16209;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=16209;break}c.head&&(c.head.text=j>>8&1),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=bk(c.check,B,2,0)),j=0,k=0,c.mode=16182;case 16182:for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.head&&(c.head.time=j),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,B[2]=j>>>16&255,B[3]=j>>>24&255,c.check=bk(c.check,B,4,0)),j=0,k=0,c.mode=16183;case 16183:for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.head&&(c.head.xflags=255&j,c.head.os=j>>8),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=bk(c.check,B,2,0)),j=0,k=0,c.mode=16184;case 16184:if(1024&c.flags){for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.length=j,c.head&&(c.head.extra_len=j),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=bk(c.check,B,2,0)),j=0,k=0}else c.head&&(c.head.extra=null);c.mode=16185;case 16185:if(1024&c.flags&&((n=c.length)>h&&(n=h),n&&(c.head&&(w=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Uint8Array(c.head.extra_len)),c.head.extra.set(d.subarray(f,f+n),w)),512&c.flags&&4&c.wrap&&(c.check=bk(c.check,d,n,f)),h-=n,f+=n,c.length-=n),c.length))break b;c.length=0,c.mode=16186;case 16186:if(2048&c.flags){if(0===h)break b;n=0;do w=d[f+n++],c.head&&w&&c.length<65536&&(c.head.name+=String.fromCharCode(w));while(w&&n<h)if(512&c.flags&&4&c.wrap&&(c.check=bk(c.check,d,n,f)),h-=n,f+=n,w)break b}else c.head&&(c.head.name=null);c.length=0,c.mode=16187;case 16187:if(4096&c.flags){if(0===h)break b;n=0;do w=d[f+n++],c.head&&w&&c.length<65536&&(c.head.comment+=String.fromCharCode(w));while(w&&n<h)if(512&c.flags&&4&c.wrap&&(c.check=bk(c.check,d,n,f)),h-=n,f+=n,w)break b}else c.head&&(c.head.comment=null);c.mode=16188;case 16188:if(512&c.flags){for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(4&c.wrap&&j!==(65535&c.check)){a.msg="header crc mismatch",c.mode=16209;break}j=0,k=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=16191;break;case 16189:for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}a.adler=c.check=cG(j),j=0,k=0,c.mode=16190;case 16190:if(0===c.havedict)return a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,cA;a.adler=c.check=1,c.mode=16191;case 16191:if(b===cw||b===cx)break b;case 16192:if(c.last){j>>>=7&k,k-=7&k,c.mode=16206;break}for(;k<3;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}switch(c.last=1&j,k-=1,3&(j>>>=1)){case 0:c.mode=16193;break;case 1:if(cL(c),c.mode=16199,b===cx){j>>>=2,k-=2;break b}break;case 2:c.mode=16196;break;case 3:a.msg="invalid block type",c.mode=16209}j>>>=2,k-=2;break;case 16193:for(j>>>=7&k,k-=7&k;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if((65535&j)!=(j>>>16^65535)){a.msg="invalid stored block lengths",c.mode=16209;break}if(c.length=65535&j,j=0,k=0,c.mode=16194,b===cx)break b;case 16194:c.mode=16195;case 16195:if(n=c.length){if(n>h&&(n=h),n>i&&(n=i),0===n)break b;e.set(d.subarray(f,f+n),g),h-=n,f+=n,i-=n,g+=n,c.length-=n;break}c.mode=16191;break;case 16196:for(;k<14;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(c.nlen=(31&j)+257,k-=5,c.ndist=(31&(j>>>=5))+1,k-=5,c.ncode=(15&(j>>>=5))+4,j>>>=4,k-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=16209;break}c.have=0,c.mode=16197;case 16197:for(;c.have<c.ncode;){for(;k<3;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.lens[C[c.have++]]=7&j,j>>>=3,k-=3}for(;c.have<19;)c.lens[C[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,y={bits:c.lenbits},x=cu(0,c.lens,0,19,c.lencode,0,c.work,y),c.lenbits=y.bits,x){a.msg="invalid code lengths set",c.mode=16209;break}c.have=0,c.mode=16198;case 16198:for(;c.have<c.nlen+c.ndist;){for(;q=(A=c.lencode[j&(1<<c.lenbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(s<16)j>>>=q,k-=q,c.lens[c.have++]=s;else{if(16===s){for(z=q+2;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(j>>>=q,k-=q,0===c.have){a.msg="invalid bit length repeat",c.mode=16209;break}w=c.lens[c.have-1],n=3+(3&j),j>>>=2,k-=2}else if(17===s){for(z=q+3;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=q,k-=q,w=0,n=3+(7&j),j>>>=3,k-=3}else{for(z=q+7;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=q,k-=q,w=0,n=11+(127&j),j>>>=7,k-=7}if(c.have+n>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=16209;break}for(;n--;)c.lens[c.have++]=w}}if(16209===c.mode)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=16209;break}if(c.lenbits=9,y={bits:c.lenbits},x=cu(1,c.lens,0,c.nlen,c.lencode,0,c.work,y),c.lenbits=y.bits,x){a.msg="invalid literal/lengths set",c.mode=16209;break}if(c.distbits=6,c.distcode=c.distdyn,y={bits:c.distbits},x=cu(2,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,y),c.distbits=y.bits,x){a.msg="invalid distances set",c.mode=16209;break}if(c.mode=16199,b===cx)break b;case 16199:c.mode=16200;case 16200:if(h>=6&&i>=258){a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,cp(a,m),g=a.next_out,e=a.output,i=a.avail_out,f=a.next_in,d=a.input,h=a.avail_in,j=c.hold,k=c.bits,16191===c.mode&&(c.back=-1);break}for(c.back=0;q=(A=c.lencode[j&(1<<c.lenbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(r&&(240&r)==0){for(t=q,u=r,v=s;q=(A=c.lencode[v+((j&(1<<t+u)-1)>>t)])>>>24,r=A>>>16&255,s=65535&A,!(t+q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=t,k-=t,c.back+=t}if(j>>>=q,k-=q,c.back+=q,c.length=s,0===r){c.mode=16205;break}if(32&r){c.back=-1,c.mode=16191;break}if(64&r){a.msg="invalid literal/length code",c.mode=16209;break}c.extra=15&r,c.mode=16201;case 16201:if(c.extra){for(z=c.extra;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.length+=j&(1<<c.extra)-1,j>>>=c.extra,k-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=16202;case 16202:for(;q=(A=c.distcode[j&(1<<c.distbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if((240&r)==0){for(t=q,u=r,v=s;q=(A=c.distcode[v+((j&(1<<t+u)-1)>>t)])>>>24,r=A>>>16&255,s=65535&A,!(t+q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=t,k-=t,c.back+=t}if(j>>>=q,k-=q,c.back+=q,64&r){a.msg="invalid distance code",c.mode=16209;break}c.offset=s,c.extra=15&r,c.mode=16203;case 16203:if(c.extra){for(z=c.extra;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.offset+=j&(1<<c.extra)-1,j>>>=c.extra,k-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=16209;break}c.mode=16204;case 16204:if(0===i)break b;if(n=m-i,c.offset>n){if((n=c.offset-n)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=16209;break}n>c.wnext?(n-=c.wnext,o=c.wsize-n):o=c.wnext-n,n>c.length&&(n=c.length),p=c.window}else p=e,o=g-c.offset,n=c.length;n>i&&(n=i),i-=n,c.length-=n;do e[g++]=p[o++];while(--n)0===c.length&&(c.mode=16200);break;case 16205:if(0===i)break b;e[g++]=c.length,i--,c.mode=16200;break;case 16206:if(c.wrap){for(;k<32;){if(0===h)break b;h--,j|=d[f++]<<k,k+=8}if(m-=i,a.total_out+=m,c.total+=m,4&c.wrap&&m&&(a.adler=c.check=c.flags?bk(c.check,e,m,g-m):bi(c.check,e,m,g-m)),m=i,4&c.wrap&&(c.flags?j:cG(j))!==c.check){a.msg="incorrect data check",c.mode=16209;break}j=0,k=0}c.mode=16207;case 16207:if(c.wrap&&c.flags){for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(4&c.wrap&&j!==(0|c.total)){a.msg="incorrect length check",c.mode=16209;break}j=0,k=0}c.mode=16208;case 16208:x=cz;break b;case 16209:x=cC;break b;case 16210:return cD;default:return cB}return a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,(c.wsize||m!==a.avail_out&&c.mode<16209&&(c.mode<16206||b!==cv))&&cM(a,a.output,a.next_out,m-a.avail_out),l-=a.avail_in,m-=a.avail_out,a.total_in+=l,a.total_out+=m,c.total+=m,4&c.wrap&&m&&(a.adler=c.check=c.flags?bk(c.check,e,m,a.next_out-m):bi(c.check,e,m,a.next_out-m)),a.data_type=c.bits+64*!!c.last+128*(16191===c.mode)+256*(16199===c.mode||16194===c.mode),(0===l&&0===m||b===cv)&&x===cy&&(x=cE),x},cO=a=>{if(cI(a))return cB;let b=a.state;return b.window&&(b.window=null),a.state=null,cy},cP=(a,b)=>{let c,d=b.length;return cI(a)||0!==(c=a.state).wrap&&16190!==c.mode?cB:16190===c.mode&&bi(1,b,d,0)!==c.check?cC:cM(a,b,d,d)?(c.mode=16210,cD):(c.havedict=1,cy)},cQ=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let cR=Object.prototype.toString,{Z_NO_FLUSH:cS,Z_FINISH:cT,Z_OK:cU,Z_STREAM_END:cV,Z_NEED_DICT:cW,Z_STREAM_ERROR:cX,Z_DATA_ERROR:cY,Z_MEM_ERROR:cZ}=bm;function c$(a){this.options=b5({chunkSize:65536,windowBits:15,to:""},a||{});let b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),b.windowBits>=0&&b.windowBits<16&&!(a&&a.windowBits)&&(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cc,this.strm.avail_out=0;let c=((a,b)=>{if(!a)return cB;let c=new cH;a.state=c,c.strm=a,c.window=null,c.mode=16180;let d=((a,b)=>{let c;if(cI(a))return cB;let d=a.state;return(b<0?(c=0,b=-b):(c=(b>>4)+5,b<48&&(b&=15)),b&&(b<8||b>15))?cB:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,cJ(a))})(a,b);return d!==cy&&(a.state=null),d})(this.strm,b.windowBits);if(c!==cU||(this.header=new cQ,((a,b)=>{if(cI(a))return;let c=a.state;return(2&c.wrap)==0||(c.head=b,b.done=!1)})(this.strm,this.header),b.dictionary&&("string"==typeof b.dictionary?b.dictionary=b9(b.dictionary):"[object ArrayBuffer]"===cR.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw)&&(c=cP(this.strm,b.dictionary))!==cU))throw Error(bl[c])}function c_(a,b){let c=new c$(b);if(c.push(a),c.err)throw c.msg||bl[c.err];return c.result}c$.prototype.push=function(a,b){let c,d,e,f=this.strm,g=this.options.chunkSize,h=this.options.dictionary;if(this.ended)return!1;for(d=b===~~b?b:!0===b?cT:cS,"[object ArrayBuffer]"===cR.call(a)?f.input=new Uint8Array(a):f.input=a,f.next_in=0,f.avail_in=f.input.length;;){for(0===f.avail_out&&(f.output=new Uint8Array(g),f.next_out=0,f.avail_out=g),(c=cN(f,d))===cW&&h&&((c=cP(f,h))===cU?c=cN(f,d):c===cY&&(c=cW));f.avail_in>0&&c===cV&&f.state.wrap>0&&0!==a[f.next_in];)cJ(f),c=cN(f,d);switch(c){case cX:case cY:case cW:case cZ:return this.onEnd(c),this.ended=!0,!1}if(e=f.avail_out,f.next_out&&(0===f.avail_out||c===cV))if("string"===this.options.to){let a=cb(f.output,f.next_out),b=f.next_out-a,c=ca(f.output,a);f.next_out=b,f.avail_out=g-b,b&&f.output.set(f.output.subarray(a,a+b),0),this.onData(c)}else this.onData(f.output.length===f.next_out?f.output:f.output.subarray(0,f.next_out));if(c!==cU||0!==e){if(c===cV)return c=cO(this.strm),this.onEnd(c),this.ended=!0,!0;if(0===f.avail_in)break}}return!0},c$.prototype.onData=function(a){this.chunks.push(a)},c$.prototype.onEnd=function(a){a===cU&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=b6(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};let{Deflate:c0,deflate:c1,deflateRaw:c2,gzip:c3}={Deflate:cn,deflate:co,deflateRaw:function(a,b){return(b=b||{}).raw=!0,co(a,b)},gzip:function(a,b){return(b=b||{}).gzip=!0,co(a,b)},constants:bm},{Inflate:c4,inflate:c5,inflateRaw:c6,ungzip:c7}={Inflate:c$,inflate:c_,inflateRaw:function(a,b){return(b=b||{}).raw=!0,c_(a,b)},ungzip:c_,constants:bm};a.i(61891);var c8=a.i(46979),c8=c8;let c9="Program log: ",da="Program data: ",db=c9.length,dc=da.length;class dd{constructor(a,b,c){this._programId=a,this._provider=b,this._eventParser=new de(a,c),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(a,b,c){var d;let e=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(a)||this._eventListeners.set(a,[]),this._eventListeners.set(a,(null!=(d=this._eventListeners.get(a))?d:[]).concat(e)),this._eventCallbacks.set(e,[a,b]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,b)=>{if(!a.err)for(let c of this._eventParser.parseLogs(a.logs)){let d=this._eventListeners.get(c.name);d&&d.forEach(d=>{let e=this._eventCallbacks.get(d);if(e){let[,d]=e;d(c.data,b.slot,a.signature)}})}},c)),e}async removeEventListener(a){let b=this._eventCallbacks.get(a);if(!b)throw Error(`Event listener ${a} doesn't exist!`);let[c]=b,d=this._eventListeners.get(c);if(!d)throw Error(`Event listeners don't exist for ${c}!`);if(this._eventCallbacks.delete(a),d=d.filter(b=>b!==a),this._eventListeners.set(c,d),0===d.length&&this._eventListeners.delete(c),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class de{constructor(a,b){this.coder=b,this.programId=a}*parseLogs(a,b=!1){let c=new dg([...a]),d=new df,e=c.next();if(null===e)return;let f=de.INVOKE_RE.exec(e);if(!f||f[2]!==de.ROOT_DEPTH)throw Error(`Unexpected first log line: ${e}`);for(d.push(f[1]);null!==c.peek();){let a=c.next();if(null===a)break;let[e,f,g]=this.handleLog(d,a,b);if(e&&(yield e),f&&d.push(f),g){d.pop();let a=c.peek();if(a&&a.endsWith("invoke [1]")){let b=de.INVOKE_RE.exec(a);b&&d.push(b[1])}}}}handleLog(a,b,c){return a.stack.length>0&&a.program()===this.programId.toString()?this.handleProgramLog(b,c):[null,...this.handleSystemLog(b)]}handleProgramLog(a,b){if(!(a.startsWith(c9)||a.startsWith(da)))return[null,...this.handleSystemLog(a)];{let c=a.startsWith(c9)?a.slice(db):a.slice(dc),d=this.coder.events.decode(c);if(b&&null===d)throw Error(`Unable to decode event ${c}`);return[d,null,!1]}}handleSystemLog(a){return a.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:a.includes("invoke")&&!a.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(a)?[null,!0]:[null,!1]}}de.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/,de.ROOT_DEPTH="1";class df{constructor(){this.stack=[]}program(){if(!this.stack.length)throw Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(a){this.stack.push(a)}pop(){if(!this.stack.length)throw Error("Expected the stack to have elements");this.stack.pop()}}class dg{constructor(a){this.logs=a,this.logs=this.logs.filter(a=>a.startsWith("Program "))}next(){if(0===this.logs.length)return null;let a=this.logs[0];return this.logs=this.logs.slice(1),a}peek(){return this.logs.length>0?this.logs[0]:null}}function dh(a,b){var c,d;let e={},f=a.args?a.args.length:0;if(b.length>f){if(b.length!==f+1)throw Error(`provided too many arguments ${b} to instruction ${null==a?void 0:a.name} expecting: ${null!=(d=null==(c=a.args)?void 0:c.map(a=>a.name))?d:[]}`);e=b.pop()}return[b,e]}a.s(["EventManager",()=>dd,"EventParser",()=>de],71628),a.s(["default",()=>dG],78987),a.s(["splitArgsAndCtx",()=>dh],93291);class di{static build(a,b,c){if("_inner"===a.name)throw new ak("the _inner name is reserved");let d=(...e)=>{let[f,g]=dh(a,[...e]);D(a.accounts,g.accounts);let h=d.accounts(g.accounts);return void 0!==g.remainingAccounts&&h.push(...g.remainingAccounts),aj("debug-logs")&&console.log("Outgoing account metas:",h),new l.TransactionInstruction({keys:h,programId:c,data:b(a.name,C(a,...f))})};return d.accounts=b=>di.accountsArray(b,a.accounts,c,a.name),d}static accountsArray(a,b,c,d){return a?b.map(b=>{let e;if(x(b)){let e=a[b.name];return di.accountsArray(e,b.accounts,c,d).flat()}try{e=E(a[b.name])}catch(a){throw Error(`Wrong input type for account "${b.name}" in the instruction accounts object${void 0!==d?' for instruction "'+d+'"':""}. Expected PublicKey or string.`)}let f=b.optional&&e.equals(c);return{pubkey:e,isWritable:!!(b.writable&&!f),isSigner:!!(b.signer&&!f)}}).flat():[]}}class dj{static build(a,b){return(...c)=>{var d,e,f;let[,g]=dh(a,[...c]),h=new l.Transaction;if(g.preInstructions&&g.instructions)throw Error("instructions is deprecated, use preInstructions");return null==(d=g.preInstructions)||d.forEach(a=>h.add(a)),null==(e=g.instructions)||e.forEach(a=>h.add(a)),h.add(b(...c)),null==(f=g.postInstructions)||f.forEach(a=>h.add(a)),h}}}class dk{static build(a,b,c,d){return async(...e)=>{var f;let g=b(...e),[,h]=dh(a,[...e]);if(void 0===d.sendAndConfirm)throw Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await d.sendAndConfirm(g,null!=(f=h.signers)?f:[],h.options)}catch(a){throw ao(a,c)}}}}var dl=a.i(3549);class dm{static build(a,b,c,d){var e;return(null!=(e=a.accounts)?e:[]).reduce((e,f)=>(e[f.name]=new dn(a,f,c,d,b),e),{})}}class dn{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(a,b,c,d,e){this._idlAccount=b,this._programId=c,this._provider=null!=d?d:af(),this._coder=null!=e?e:new ax(a),this._size=this._coder.accounts.size(b.name)}async fetchNullable(a,b){let{data:c}=await this.fetchNullableAndContext(a,b);return c}async fetchNullableAndContext(a,b){let{value:c,context:d}=await this.getAccountInfoAndContext(a,b);return{data:c&&0!==c.data.length?this._coder.accounts.decode(this._idlAccount.name,c.data):null,context:d}}async fetch(a,b){let{data:c}=await this.fetchNullableAndContext(a,b);if(null===c)throw Error(`Account does not exist or has no data ${a.toString()}`);return c}async fetchAndContext(a,b){let{data:c,context:d}=await this.fetchNullableAndContext(a,b);if(null===c)throw Error(`Account does not exist ${a.toString()}`);return{data:c,context:d}}async fetchMultiple(a,b){return(await this.fetchMultipleAndContext(a,b)).map(a=>a?a.data:null)}async fetchMultipleAndContext(a,b){return(await X(this._provider.connection,a.map(a=>E(a)),b)).map(a=>{if(null==a)return null;let{account:b,context:c}=a;return{data:this._coder.accounts.decode(this._idlAccount.name,b.data),context:c}})}async all(a){let b=this.coder.accounts.memcmp(this._idlAccount.name,a instanceof Buffer?a:void 0),c=[];return(null==b?void 0:b.offset)!=void 0&&(null==b?void 0:b.bytes)!=void 0&&c.push({memcmp:{offset:b.offset,bytes:b.bytes}}),(null==b?void 0:b.dataSize)!=void 0&&c.push({dataSize:b.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...c,...Array.isArray(a)?a:[]]})).map(({pubkey:a,account:b})=>({publicKey:a,account:this._coder.accounts.decode(this._idlAccount.name,b.data)}))}subscribe(a,b){let c=dp.get(a.toString());if(c)return c.ee;let d=new dl.default;a=E(a);let e=this._provider.connection.onAccountChange(a,a=>{let b=this._coder.accounts.decode(this._idlAccount.name,a.data);d.emit("change",b)},b);return dp.set(a.toString(),{ee:d,listener:e}),d}async unsubscribe(a){let b=dp.get(a.toString());b?dp&&await this._provider.connection.removeAccountChangeListener(b.listener).then(()=>{dp.delete(a.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(a,b){let c=this.size;if(void 0===this._provider.publicKey)throw Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return l.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:a.publicKey,space:null!=b?b:c,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=b?b:c),programId:this._programId})}async getAccountInfo(a,b){return await this._provider.connection.getAccountInfo(E(a),b)}async getAccountInfoAndContext(a,b){return await this._provider.connection.getAccountInfoAndContext(E(a),b)}}let dp=new Map;a.s(["AccountClient",()=>dn,"default",()=>dm],9505);class dq{static build(a,b,c,d,e,f,g){return async(...h)=>{var i;let j,k=b(...h),[,l]=dh(a,[...h]);if(void 0===d.simulate)throw Error("This function requires 'Provider.simulate' to be implemented.");try{j=await d.simulate(k,l.signers,null==(i=l.options)?void 0:i.commitment)}catch(a){throw ao(a,c)}if(void 0===j)throw Error("Unable to simulate transaction");let m=j.logs;if(!m)throw Error("Simulated logs not found");let n=[];if(g.events)for(let a of new de(f,e).parseLogs(m))n.push(a);return{events:n,raw:m}}}}a.s(["MethodsBuilderFactory",()=>dB,"flattenPartialAccounts",()=>dD,"isPartialAccounts",()=>dC],83824);var dr=ay,ds=az;function dt(a){return new dv(ds.blob(8),a=>dx.fromBuffer(a),a=>a.toBuffer(),a)}function du(a){return new dv(ds.blob(32),a=>new l.PublicKey(a),a=>a.toBuffer(),a)}class dv extends ds.Layout{constructor(a,b,c,d){super(a.span,d),this.layout=a,this.decoder=b,this.encoder=c}decode(a,b){return this.decoder(this.layout.decode(a,b))}encode(a,b,c){return this.layout.encode(this.encoder(a),b,c)}getSpan(a,b){return this.layout.getSpan(a,b)}}class dw extends ds.Layout{constructor(a,b){super(-1,b),this.layout=a,this.discriminator=ds.u32()}encode(a,b,c=0){return null==a?this.layout.span+this.discriminator.encode(0,b,c):(this.discriminator.encode(1,b,c),this.layout.encode(a,b,c+4)+4)}decode(a,b=0){let c=this.discriminator.decode(a,b);if(0===c)return null;if(1===c)return this.layout.decode(a,b+4);throw Error("Invalid coption "+this.layout.property)}getSpan(a,b=0){return this.layout.getSpan(a,b+4)+4}}class dx extends dr.default{toBuffer(){let a=super.toArray().reverse(),b=Buffer.from(a);if(8===b.length)return b;if(b.length>=8)throw Error("u64 too large");let c=Buffer.alloc(8);return b.copy(c),c}static fromBuffer(a){if(8!==a.length)throw Error(`Invalid buffer length: ${a.length}`);return new dx([...a].reverse().map(a=>`00${a.toString(16)}`.slice(-2)).join(""),16)}}let dy=ds.struct([du("mint"),du("owner"),dt("amount"),new dw(du(),"delegate"),((g=ds.union(ds.u8("discriminator"),null,"state")).addVariant(0,ds.struct([]),"uninitialized"),g.addVariant(1,ds.struct([]),"initialized"),g.addVariant(2,ds.struct([]),"frozen"),g),new dw(dt(),"isNative"),dt("delegatedAmount"),new dw(du(),"closeAuthority")]);class dz{constructor(a,b,c,d,e,f,g,h){this._args=a,this._accounts=b,this._provider=c,this._programId=d,this._idlIx=e,this._idlTypes=g,this._customResolver=h,this._accountStore=new dA(c,f,d)}args(a){this._args=a}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let a=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(16==++a){let a=b=>x(b)?b.accounts.some(a):!!(b.address||b.pda||b.relations),b=(a,c=[],d=[])=>{for(let e of a)x(e)?d.push(...b(e.accounts,[...c,e.name])):d.push([...c,e.name]);return d},c=b(this._idlIx.accounts.filter(a)).filter(a=>!this.get(a)).map(a=>a.reduce((a,b)=>a+"."+b)).map(a=>`\`${a}\``).join(", ");throw Error(`Reached maximum depth for account resolution. Unresolved accounts: ${c}`)}}resolveOptionals(a){Object.assign(this._accounts,this.resolveOptionalsHelper(a,this._idlIx.accounts))}get(a){let b=a.reduce((a,b)=>a&&a[b],this._accounts);if(b&&b.toBase58)return b}set(a,b){let c=this._accounts;a.forEach((d,e)=>{var f;e===a.length-1&&(c[d]=b),c[d]=null!=(f=c[d])?f:{},c=c[d]})}resolveOptionalsHelper(a,b){let c={};for(let d of b){let b=d.name,e=a[b];void 0!==e&&(dC(e)?x(d)?c[b]=this.resolveOptionalsHelper(e,d.accounts):c[b]=dD(e,!0):null!==e?c[b]=E(e):d.optional&&(c[b]=this._programId))}return c}async resolveCustom(){if(this._customResolver){let{accounts:a,resolved:b}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=a,b}return 0}resolveEventCpi(a,b=[]){for(let c in a){let d=a[c];x(d)&&this.resolveEventCpi(d.accounts,[...b,d.name]);let e=+c+1;if(e===a.length)return;let f=a[c].name,g=a[e].name;if("eventAuthority"===f&&"program"===g){let a=[...b,f],c=[...b,g];this.get(a)||this.set(a,l.PublicKey.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(c)||this.set(c,this._programId);return}}}resolveConst(a,b=[]){for(let c of a){let a=c.name;if(x(c))this.resolveConst(c.accounts,[...b,a]);else if((c.signer||c.address)&&!this.get([...b,a])){if(c.signer){if(!this._provider.publicKey)throw Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...b,a],this._provider.publicKey)}c.address&&this.set([...b,a],E(c.address))}}}async resolvePdasAndRelations(a,b=[]){let c=0;for(let d of a){let a=d.name;if(x(d))c+=await this.resolvePdasAndRelations(d.accounts,[...b,a]);else if((d.pda||d.relations)&&!this.get([...b,a])){c++;try{if(d.pda){let c=await Promise.all(d.pda.seeds.map(a=>this.toBuffer(a,b)));if(c.some(a=>!a))continue;let e=await this.parseProgramId(d,b),[f]=l.PublicKey.findProgramAddressSync(c,e);this.set([...b,a],f)}}catch{}try{if(d.relations){let c=this.get([...b,d.relations[0]]);if(c){let d=await this._accountStore.fetchAccount({publicKey:c});this.set([...b,a],d[a])}}}catch{}}}return c}async parseProgramId(a,b=[]){var c;if(!(null==(c=a.pda)?void 0:c.program))return this._programId;let d=await this.toBuffer(a.pda.program,b);if(!d)throw Error(`Program seed not resolved: ${a.name}`);return new l.PublicKey(d)}async toBuffer(a,b=[]){switch(a.kind){case"const":return this.toBufferConst(a);case"arg":return await this.toBufferArg(a);case"account":return await this.toBufferAccount(a,b);default:throw Error(`Unexpected seed: ${a}`)}}toBufferConst(a){return this.toBufferValue("bytes",a.value)}async toBufferArg(a){let[b,...c]=a.path.split("."),d=this._idlIx.args.findIndex(a=>a.name===b);if(-1===d)throw Error(`Unable to find argument for seed: ${b}`);let e=c.reduce((a,b)=>(null!=a?a:{})[b],this._args[d]);if(void 0===e)return;let f=this.getType(this._idlIx.args[d].type,c);return this.toBufferValue(f,e)}async toBufferAccount(a,b=[]){let[c,...d]=a.path.split("."),e=this.get([...b,c]);if(!e)return;if(!d.length)return this.toBufferValue("pubkey",e);if(!a.account)throw Error(`Seed account is required in order to resolve type: ${a.path}`);let f=await this._accountStore.fetchAccount({publicKey:e,name:a.account}),g=d;for(;g.length>0;)f=f[g[0]],g=g.slice(1);if(void 0===f)return;let h=this.getType({defined:{name:a.account}},d);return this.toBufferValue(h,f)}toBufferValue(a,b){switch(a){case"u8":case"i8":return Buffer.from([b]);case"u16":case"i16":return new ay.default(b).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new ay.default(b).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new ay.default(b).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new ay.default(b).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new ay.default(b).toArrayLike(Buffer,"le",32);case"string":case"bytes":return Buffer.from(b);case"pubkey":return b.toBuffer();default:if(null==a?void 0:a.array)return Buffer.from(b);throw Error(`Unexpected seed type: ${a}`)}}getType(a,b=[]){var c;let d=null==(c=null==a?void 0:a.defined)?void 0:c.name;if(d){if("tokenAccount"===d)switch(b.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw Error(`Unknown token account path: ${b}`)}let a=this._idlTypes.find(a=>a.name===d);if(!a)throw Error(`Type not found: ${d}`);let[c,...e]=b,f=a.type.fields.find(a=>a.name===c);if(!f)throw Error(`Field not found: ${c}`);return this.getType(f.type,e)}return a}}class dA{constructor(a,b,c){this._provider=a,this._cache=new Map,this._idls={},this._idls[c.toBase58()]=b}async fetchAccount({publicKey:a,name:b}){let c=a.toBase58();if(!this._cache.has(c)){let e=await this._provider.connection.getAccountInfo(a);if(null===e)throw Error(`Account not found: ${c}`);if("tokenAccount"===b){var d;let a=(d=e.data,dy.decode(d));this._cache.set(c,a)}else{let a=await this.getAccountsNs(e.owner);if(a){let b=Object.values(a)[0];if(b){let a=b.coder.accounts.decodeAny(e.data);this._cache.set(c,a)}}}}return this._cache.get(c)}async getAccountsNs(a){let b=a.toBase58();if(!this._idls[b]){let c=await dH.fetchIdl(a,this._provider);if(c){let a=new dH(c,this._provider);this._idls[b]=a.account}}return this._idls[b]}}class dB{static build(a,b,c,d,e,f,g,h,i,j,k){return(...l)=>new dE(l,d,e,f,g,h,a,b,c,i,j,k)}}function dC(a){return"object"==typeof a&&null!==a&&!("_bn"in a)}function dD(a,b){let c={};for(let d in a){let e=a[d];if(null===e){if(b)throw Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}c[d]=dC(e)?dD(e,!0):E(e)}return c}class dE{constructor(a,b,c,d,e,f,g,h,i,j,k,l){this._args=a,this._ixFn=b,this._txFn=c,this._rpcFn=d,this._simulateFn=e,this._viewFn=f,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new dz(a,this._accounts,g,h,i,j,k,l)}args(a){this._args=a,this._accountsResolver.args(a)}accounts(a){return this.accountsPartial(a)}accountsPartial(a){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(a),this}accountsStrict(a){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(a),this}signers(a){return this._signers=this._signers.concat(a),this}remainingAccounts(a){return this._remainingAccounts=this._remainingAccounts.concat(a),this}preInstructions(a,b=!1){return b?this._preInstructions=a.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(a),this}postInstructions(a){return this._postInstructions=this._postInstructions.concat(a),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(a){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:a})}async view(a){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw Error("Method does not support views. The instruction should return a value, and its accounts must be read-only");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:a})}async rpc(a){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:a})}async rpcAndKeys(a){return{signature:await this.rpc(a),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class dF{static build(a,b,c,d){let e=b.accounts.find(a=>a.writable),f=!!b.returns;if(!e&&f)return async(...e)=>{let f=await c(...e),g=`Program return: ${a} `,h=f.raw.find(a=>a.startsWith(g));if(!h)throw Error("View expected return log");let i=t(h.slice(g.length)),j=b.returns;if(!j)throw Error("View expected return type");return ar.fieldLayout({type:j},d.types).decode(i)}}}class dG{static build(a,b,c,d,e){let f={},g={},h={},i={},j={},k={},l=B(a),m=a.accounts?dm.build(a,b,c,d):{};return a.instructions.forEach(n=>{let o=di.build(n,(a,c)=>b.instruction.encode(a,c),c),p=dj.build(n,o),q=dk.build(n,p,l,d),r=dq.build(n,p,l,d,b,c,a),s=dF.build(c,n,r,a),t=dB.build(d,c,n,o,p,q,r,s,m,a.types||[],null==e?void 0:e(n)),u=n.name;g[u]=o,h[u]=p,f[u]=q,i[u]=r,j[u]=t,s&&(k[u]=s)}),[f,g,h,m,i,j,k]}}class dH{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(a,b=af(),c,d){this._idl=function(a){let b=["name","path","account","relations","generic"],c=a=>a.split(".").map(a=>(0,v.default)(a,{locale:!1})).join("."),d=a=>{for(let e in a){let f=a[e];b.includes(e)?a[e]=Array.isArray(f)?f.map(c):c(f):"object"==typeof f&&d(f)}},e=structuredClone(a);return d(e),e}(a),this._rawIdl=a,this._provider=b,this._programId=E(a.address),this._coder=null!=c?c:new ax(this._idl),this._events=new dd(this._programId,b,this._coder);const[e,f,g,h,i,j,k]=dG.build(this._idl,this._coder,this._programId,b,d);this.rpc=e,this.instruction=f,this.transaction=g,this.account=h,this.simulate=i,this.methods=j,this.views=k}static async at(a,b){let c=E(a),d=await dH.fetchIdl(c,b);if(!d)throw Error(`IDL not found for program: ${a.toString()}`);return new dH(d,b)}static async fetchIdl(a,b){var c;b=null!=b?b:af();let d=E(a),e=await y(d),f=await b.connection.getAccountInfo(e);if(!f)return null;let g=c5((c=f.data.slice(8),z.decode(c)).data);return JSON.parse(c8.decode(g))}addEventListener(a,b,c){return this._events.addEventListener(a,b,c)}async removeEventListener(a){return await this._events.removeEventListener(a)}}},66378,(a,b,c)=>{b.exports=function(){function a(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function b(){this.constructor=a}return b.prototype=Error.prototype,a.prototype=new b,{SyntaxError:a,parse:function(b){var c,d,e,f,g,h=arguments.length>1?arguments[1]:{},i={},j={start:aC},k=aC,l={type:"literal",value:"#",description:'"#"'},m=void 0,n={type:"any",description:"any character"},o={type:"literal",value:"[",description:'"["'},p={type:"literal",value:"]",description:'"]"'},q=function(a){a7(a8("ObjectPath",a,ay,az))},r=function(a){a7(a8("ArrayPath",a,ay,az))},s=function(a){return a},t={type:"literal",value:".",description:'"."'},u={type:"literal",value:"=",description:'"="'},v=function(a,b){a7(a8("Assign",b,ay,az,a))},w=function(a){return a.value},x={type:"literal",value:'"""',description:'"\\"\\"\\""'},y=function(a){return a8("String",a.join(""),ay,az)},z={type:"literal",value:'"',description:'"\\""'},A={type:"literal",value:"'''",description:"\"'''\""},B={type:"literal",value:"'",description:'"\'"'},C=function(a){return a},D={type:"literal",value:"\\",description:'"\\\\"'},E={type:"literal",value:"e",description:'"e"'},F={type:"literal",value:"E",description:'"E"'},G={type:"literal",value:"+",description:'"+"'},H=function(a){return a.join("")},I={type:"literal",value:"-",description:'"-"'},J=function(a){return"-"+a.join("")},K="true",L={type:"literal",value:"true",description:'"true"'},M="false",N={type:"literal",value:"false",description:'"false"'},O=function(a){return a},P={type:"literal",value:",",description:'","'},Q={type:"literal",value:"{",description:'"{"'},R={type:"literal",value:"}",description:'"}"'},S=function(a,b){return a8("InlineTableValue",b,ay,az,a)},T={type:"literal",value:":",description:'":"'},U=function(a){return a.join("")},V={type:"literal",value:"T",description:'"T"'},W={type:"literal",value:"Z",description:'"Z"'},X=/^[ \t]/,Y={type:"class",value:"[ \\t]",description:"[ \\t]"},Z={type:"literal",value:"\n",description:'"\\n"'},$={type:"literal",value:"\r",description:'"\\r"'},_=/^[0-9a-f]/i,aa={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},ab=/^[0-9]/,ac={type:"class",value:"[0-9]",description:"[0-9]"},ad={type:"literal",value:"_",description:'"_"'},ae=/^[A-Za-z0-9_\-]/,af={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},ag={type:"literal",value:'\\"',description:'"\\\\\\""'},ah={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ai={type:"literal",value:"\\b",description:'"\\\\b"'},aj={type:"literal",value:"\\t",description:'"\\\\t"'},ak={type:"literal",value:"\\n",description:'"\\\\n"'},al={type:"literal",value:"\\f",description:'"\\\\f"'},am={type:"literal",value:"\\r",description:'"\\\\r"'},an={type:"literal",value:"\\U",description:'"\\\\U"'},ao=function(a){return function(a,b,c){var d=parseInt("0x"+a);if(isFinite(d)&&Math.floor(d)==d&&!(d<0)&&!(d>1114111)&&(!(d>55295)||!(d<57344)))return function(){var a,b,c=[],d=-1,e=arguments.length;if(!e)return"";for(var f="";++d<e;){var g=Number(arguments[d]);g<=65535?c.push(g):(g-=65536,a=(g>>10)+55296,b=g%1024+56320,c.push(a,b)),(d+1==e||c.length>16384)&&(f+=String.fromCharCode.apply(null,c),c.length=0)}return f}(d);var e=Error("Invalid Unicode escape code: "+a);throw e.line=b,e.column=c,e}(a.join(""))},ap={type:"literal",value:"\\u",description:'"\\\\u"'},aq=0,ar=0,as=0,at={line:1,column:1,seenCR:!1},au=0,av=[],aw=0,ax={};if("startRule"in h){if(!(h.startRule in j))throw Error("Can't start parsing from rule \""+h.startRule+'".');k=j[h.startRule]}function ay(){return aA(ar).line}function az(){return aA(ar).column}function aA(a){if(as!==a){as>a&&(as=0,at={line:1,column:1,seenCR:!1});var c,d,e=at;for(c=as;c<a;c++)"\n"===(d=b.charAt(c))?(!e.seenCR&&e.line++,e.column=1,e.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1);as=a}return at}function aB(a){aq<au||(aq>au&&(au=aq,av=[]),av.push(a))}function aC(){var a,b,c,d=49*aq+0,e=ax[d];if(e)return aq=e.nextPos,e.result;for(a=aq,b=[],c=aD();c!==i;)b.push(c),c=aD();return b!==i&&(ar=a,b=a6),a=b,ax[d]={nextPos:aq,result:a},a}function aD(){var a,c,d,e,f,g,h,j,k,l,m=49*aq+1,n=ax[m];if(n)return aq=n.nextPos,n.result;for(e=aq,f=[],g=aZ();g!==i;)f.push(g),g=aZ();if(f!==i){if((g=(d=ax[c=49*aq+2])?(aq=d.nextPos,d.result):((a=aE())===i&&(a=function(){var a,c,d,e,f,g,h=49*aq+4,j=ax[h];if(j)return aq=j.nextPos,j.result;if(a=aq,91===b.charCodeAt(aq)?(c="[",aq++):(c=i,0===aw&&aB(o)),c!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();if(d!==i)if((e=aF())!==i){for(f=[],g=aZ();g!==i;)f.push(g),g=aZ();f!==i?(93===b.charCodeAt(aq)?(g="]",aq++):(g=i,0===aw&&aB(p)),g!==i?(ar=a,a=c=q(e)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;return ax[h]={nextPos:aq,result:a},a}())===i&&(a=function(){var a,c,d,e,f,g,h,j,k=49*aq+5,l=ax[k];if(l)return aq=l.nextPos,l.result;if(a=aq,91===b.charCodeAt(aq)?(c="[",aq++):(c=i,0===aw&&aB(o)),c!==i)if(91===b.charCodeAt(aq)?(d="[",aq++):(d=i,0===aw&&aB(o)),d!==i){for(e=[],f=aZ();f!==i;)e.push(f),f=aZ();if(e!==i)if((f=aF())!==i){for(g=[],h=aZ();h!==i;)g.push(h),h=aZ();g!==i?(93===b.charCodeAt(aq)?(h="]",aq++):(h=i,0===aw&&aB(p)),h!==i?(93===b.charCodeAt(aq)?(j="]",aq++):(j=i,0===aw&&aB(p)),j!==i?(ar=a,a=c=r(f)):(aq=a,a=i)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i;return ax[k]={nextPos:aq,result:a},a}())===i&&(a=function(){var a,c,d,e,f,g,h=49*aq+9,j=ax[h];if(j)return aq=j.nextPos,j.result;if(a=aq,(c=aI())!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();if(d!==i)if(61===b.charCodeAt(aq)?(e="=",aq++):(e=i,0===aw&&aB(u)),e!==i){for(f=[],g=aZ();g!==i;)f.push(g),g=aZ();f!==i&&(g=aK())!==i?(ar=a,a=c=v(c,g)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;if(a===i)if(a=aq,(c=aJ())!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();if(d!==i)if(61===b.charCodeAt(aq)?(e="=",aq++):(e=i,0===aw&&aB(u)),e!==i){for(f=[],g=aZ();g!==i;)f.push(g),g=aZ();f!==i&&(g=aK())!==i?(ar=a,a=c=v(c,g)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;return ax[h]={nextPos:aq,result:a},a}()),ax[c]={nextPos:aq,result:a},a))!==i){for(h=[],j=aZ();j!==i;)h.push(j),j=aZ();if(h!==i){for(j=[],k=aE();k!==i;)j.push(k),k=aE();if(j!==i){if(k=[],(l=a$())!==i)for(;l!==i;)k.push(l),l=a$();else k=i;k===i&&(k=a0()),k!==i?e=f=[f,g,h,j,k]:(aq=e,e=i)}else aq=e,e=i}else aq=e,e=i}else aq=e,e=i}else aq=e,e=i;if(e===i){if(e=aq,f=[],(g=aZ())!==i)for(;g!==i;)f.push(g),g=aZ();else f=i;if(f!==i){if(g=[],(h=a$())!==i)for(;h!==i;)g.push(h),h=a$();else g=i;g===i&&(g=a0()),g!==i?e=f=[f,g]:(aq=e,e=i)}else aq=e,e=i;e===i&&(e=a$())}return ax[m]={nextPos:aq,result:e},e}function aE(){var a,c,d,e,f,g,h=49*aq+3,j=ax[h];if(j)return aq=j.nextPos,j.result;if(a=aq,35===b.charCodeAt(aq)?(c="#",aq++):(c=i,0===aw&&aB(l)),c!==i){for(d=[],e=aq,f=aq,aw++,(g=a$())===i&&(g=a0()),aw--,g===i?f=m:(aq=f,f=i),f!==i?(b.length>aq?(g=b.charAt(aq),aq++):(g=i,0===aw&&aB(n)),g!==i?e=f=[f,g]:(aq=e,e=i)):(aq=e,e=i);e!==i;)d.push(e),e=aq,f=aq,aw++,(g=a$())===i&&(g=a0()),aw--,g===i?f=m:(aq=f,f=i),f!==i?(b.length>aq?(g=b.charAt(aq),aq++):(g=i,0===aw&&aB(n)),g!==i?e=f=[f,g]:(aq=e,e=i)):(aq=e,e=i);d!==i?a=c=[c,d]:(aq=a,a=i)}else aq=a,a=i;return ax[h]={nextPos:aq,result:a},a}function aF(){var a,b,c,d,e,f=49*aq+6,g=ax[f];if(g)return aq=g.nextPos,g.result;if(c=aq,d=[],(e=aH())!==i)for(;e!==i;)d.push(e),e=aH();else d=i;return d!==i&&(e=aG())!==i?(ar=c,a=d,b=e,c=d=a.concat(b)):(aq=c,c=i),c===i&&(c=aq,(d=aG())!==i&&(ar=c,d=[d]),c=d),ax[f]={nextPos:aq,result:c},c}function aG(){var a,b,c,d,e,f=49*aq+7,g=ax[f];if(g)return aq=g.nextPos,g.result;for(a=aq,b=[],c=aZ();c!==i;)b.push(c),c=aZ();if(b!==i)if((c=aI())!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();d!==i?(ar=a,a=b=s(c)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i;if(a===i){for(a=aq,b=[],c=aZ();c!==i;)b.push(c),c=aZ();if(b!==i)if((c=aJ())!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();d!==i?(ar=a,a=b=s(c)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}return ax[f]={nextPos:aq,result:a},a}function aH(){var a,c,d,e,f,g,h,j=49*aq+8,k=ax[j];if(k)return aq=k.nextPos,k.result;for(a=aq,c=[],d=aZ();d!==i;)c.push(d),d=aZ();if(c!==i)if((d=aI())!==i){for(e=[],f=aZ();f!==i;)e.push(f),f=aZ();if(e!==i)if(46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),f!==i){for(g=[],h=aZ();h!==i;)g.push(h),h=aZ();g!==i?(ar=a,a=c=s(d)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i;if(a===i){for(a=aq,c=[],d=aZ();d!==i;)c.push(d),d=aZ();if(c!==i)if((d=aJ())!==i){for(e=[],f=aZ();f!==i;)e.push(f),f=aZ();if(e!==i)if(46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),f!==i){for(g=[],h=aZ();h!==i;)g.push(h),h=aZ();g!==i?(ar=a,a=c=s(d)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i}return ax[j]={nextPos:aq,result:a},a}function aI(){var a,b,c,d=49*aq+10,e=ax[d];if(e)return aq=e.nextPos,e.result;if(a=aq,b=[],(c=a3())!==i)for(;c!==i;)b.push(c),c=a3();else b=i;return b!==i&&(ar=a,b=b.join("")),a=b,ax[d]={nextPos:aq,result:a},a}function aJ(){var a,b,c=49*aq+11,d=ax[c];return d?(aq=d.nextPos,d.result):(a=aq,(b=aL())!==i&&(ar=a,b=w(b)),(a=b)===i&&(a=aq,(b=aM())!==i&&(ar=a,b=w(b)),a=b),ax[c]={nextPos:aq,result:a},a)}function aK(){var a,c,d,e,f,g,h,j,k,l,m,n,q,r,s,t,u,v,w,z,B,C,D,H,J,O,P,S,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,as,at,au,av,aA,aC,aD,aE,aF=49*aq+12,aG=ax[aF];return aG?(aq=aG.nextPos,aG.result):((aE=(d=ax[c=49*aq+13])?(aq=d.nextPos,d.result):((a=function(){var a,c,d,e,f,g=49*aq+14,h=ax[g];if(h)return aq=h.nextPos,h.result;if(a=aq,'"""'===b.substr(aq,3)?(c='"""',aq+=3):(c=i,0===aw&&aB(x)),c!==i)if((d=a$())===i&&(d=null),d!==i){for(e=[],f=aP();f!==i;)e.push(f),f=aP();e!==i?('"""'===b.substr(aq,3)?(f='"""',aq+=3):(f=i,0===aw&&aB(x)),f!==i?(ar=a,a=c=y(e)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i;return ax[g]={nextPos:aq,result:a},a}())===i&&(a=aL())===i&&(a=function(){var a,c,d,e,f,g=49*aq+16,h=ax[g];if(h)return aq=h.nextPos,h.result;if(a=aq,"'''"===b.substr(aq,3)?(c="'''",aq+=3):(c=i,0===aw&&aB(A)),c!==i)if((d=a$())===i&&(d=null),d!==i){for(e=[],f=aQ();f!==i;)e.push(f),f=aQ();e!==i?("'''"===b.substr(aq,3)?(f="'''",aq+=3):(f=i,0===aw&&aB(A)),f!==i?(ar=a,a=c=y(e)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i;return ax[g]={nextPos:aq,result:a},a}())===i&&(a=aM()),ax[c]={nextPos:aq,result:a},a))===i&&(aE=(ai=ax[ah=49*aq+38])?(aq=ai.nextPos,ai.result):((ac=aq,(ad=aY())!==i&&(84===b.charCodeAt(aq)?(ae="T",aq++):(ae=i,0===aw&&aB(V)),ae!==i&&(af=(t=ax[s=49*aq+36])?(aq=t.nextPos,t.result):(e=aq,f=aq,(g=a2())!==i&&(h=a2())!==i?(58===b.charCodeAt(aq)?(j=":",aq++):(j=i,0===aw&&aB(T)),j!==i&&(k=a2())!==i&&(l=a2())!==i?(58===b.charCodeAt(aq)?(m=":",aq++):(m=i,0===aw&&aB(T)),m!==i&&(n=a2())!==i&&(q=a2())!==i?((r=aX())===i&&(r=null),r!==i?f=g=[g,h,j,k,l,m,n,q,r]:(aq=f,f=i)):(aq=f,f=i)):(aq=f,f=i)):(aq=f,f=i),f!==i&&(ar=e,f=U(f)),e=f,ax[s]={nextPos:aq,result:e},e))!==i&&(90===b.charCodeAt(aq)?(ag="Z",aq++):(ag=i,0===aw&&aB(W)),ag!==i)))?(ar=ac,ac=ad=a8("Date",new Date(ad+"T"+af+"Z"),ay,az)):(aq=ac,ac=i),ac===i&&((ac=aq,(ad=aY())!==i&&(84===b.charCodeAt(aq)?(ae="T",aq++):(ae=i,0===aw&&aB(V)),ae!==i&&(af=(ab=ax[aa=49*aq+37])?(aq=ab.nextPos,ab.result):(u=aq,v=aq,(w=a2())!==i&&(z=a2())!==i?(58===b.charCodeAt(aq)?(B=":",aq++):(B=i,0===aw&&aB(T)),B!==i&&(C=a2())!==i&&(D=a2())!==i?(58===b.charCodeAt(aq)?(H=":",aq++):(H=i,0===aw&&aB(T)),H!==i&&(J=a2())!==i&&(O=a2())!==i?((P=aX())===i&&(P=null),P!==i?(45===b.charCodeAt(aq)?(S="-",aq++):(S=i,0===aw&&aB(I)),S===i&&(43===b.charCodeAt(aq)?(S="+",aq++):(S=i,0===aw&&aB(G))),S!==i&&(X=a2())!==i&&(Y=a2())!==i?(58===b.charCodeAt(aq)?(Z=":",aq++):(Z=i,0===aw&&aB(T)),Z!==i&&($=a2())!==i&&(_=a2())!==i?v=w=[w,z,B,C,D,H,J,O,P,S,X,Y,Z,$,_]:(aq=v,v=i)):(aq=v,v=i)):(aq=v,v=i)):(aq=v,v=i)):(aq=v,v=i)):(aq=v,v=i),v!==i&&(ar=u,v=U(v)),u=v,ax[aa]={nextPos:aq,result:u},u))!==i))?(ar=ac,ac=ad=a8("Date",new Date(ad+"T"+af),ay,az)):(aq=ac,ac=i)),ax[ah]={nextPos:aq,result:ac},ac))===i&&(aE=(ao=ax[an=49*aq+23])?(aq=ao.nextPos,ao.result):((aj=aq,(ak=aR())===i&&(ak=aS()),ak!==i&&(101===b.charCodeAt(aq)?(al="e",aq++):(al=i,0===aw&&aB(E)),al===i&&(69===b.charCodeAt(aq)?(al="E",aq++):(al=i,0===aw&&aB(F))),al!==i&&(am=aS())!==i))?(ar=aj,aj=ak=a8("Float",parseFloat(ak+"e"+am),ay,az)):(aq=aj,aj=i),aj===i&&(aj=aq,(ak=aR())!==i&&(ar=aj,ak=a8("Float",parseFloat(ak),ay,az)),aj=ak),ax[an]={nextPos:aq,result:aj},aj))===i&&(aE=(au=ax[at=49*aq+25])?(aq=au.nextPos,au.result):(ap=aq,(as=aS())!==i&&(ar=ap,as=a8("Integer",parseInt(as,10),ay,az)),ap=as,ax[at]={nextPos:aq,result:ap},ap))===i&&(aE=(aD=ax[aC=49*aq+27])?(aq=aD.nextPos,aD.result):(av=aq,b.substr(aq,4)===K?(aA=K,aq+=4):(aA=i,0===aw&&aB(L)),aA!==i&&(ar=av,aA=a8("Boolean",!0,ay,az)),(av=aA)===i&&(av=aq,b.substr(aq,5)===M?(aA=M,aq+=5):(aA=i,0===aw&&aB(N)),aA!==i&&(ar=av,aA=a8("Boolean",!1,ay,az)),av=aA),ax[aC]={nextPos:aq,result:av},av))===i&&(aE=function(){var a,c,d,e,f,g,h,j,k=49*aq+28,l=ax[k];if(l)return aq=l.nextPos,l.result;if(e=aq,91===b.charCodeAt(aq)?(f="[",aq++):(f=i,0===aw&&aB(o)),f!==i){for(g=[],h=aV();h!==i;)g.push(h),h=aV();g!==i?(93===b.charCodeAt(aq)?(h="]",aq++):(h=i,0===aw&&aB(p)),h!==i?(ar=e,e=f=a8("Array",[],ay,az)):(aq=e,e=i)):(aq=e,e=i)}else aq=e,e=i;if(e===i&&((e=aq,91===b.charCodeAt(aq)?(f="[",aq++):(f=i,0===aw&&aB(o)),f!==i&&((g=aT())===i&&(g=null),g!==i&&(93===b.charCodeAt(aq)?(h="]",aq++):(h=i,0===aw&&aB(p)),h!==i)))?(ar=e,e=f=a8("Array",(a=g)?[a]:[],ay,az)):(aq=e,e=i),e===i)){if(e=aq,91===b.charCodeAt(aq)?(f="[",aq++):(f=i,0===aw&&aB(o)),f!==i){if(g=[],(h=aU())!==i)for(;h!==i;)g.push(h),h=aU();else g=i;g!==i&&(93===b.charCodeAt(aq)?(h="]",aq++):(h=i,0===aw&&aB(p)),h!==i)?(ar=e,e=f=a8("Array",g,ay,az)):(aq=e,e=i)}else aq=e,e=i;if(e===i)if(e=aq,91===b.charCodeAt(aq)?(f="[",aq++):(f=i,0===aw&&aB(o)),f!==i){if(g=[],(h=aU())!==i)for(;h!==i;)g.push(h),h=aU();else g=i;g!==i&&(h=aT())!==i&&(93===b.charCodeAt(aq)?(j="]",aq++):(j=i,0===aw&&aB(p)),j!==i)?(ar=e,c=g,d=h,e=f=a8("Array",c.concat(d),ay,az)):(aq=e,e=i)}else aq=e,e=i}return ax[k]={nextPos:aq,result:e},e}())===i&&(aE=function(){var a,c,d,e,f,g,h=49*aq+32,j=ax[h];if(j)return aq=j.nextPos,j.result;if(a=aq,123===b.charCodeAt(aq)?(c="{",aq++):(c=i,0===aw&&aB(Q)),c!==i){for(d=[],e=aZ();e!==i;)d.push(e),e=aZ();if(d!==i){for(e=[],f=aW();f!==i;)e.push(f),f=aW();if(e!==i){for(f=[],g=aZ();g!==i;)f.push(g),g=aZ();f!==i&&(125===b.charCodeAt(aq)?(g="}",aq++):(g=i,0===aw&&aB(R)),g!==i)?(ar=a,a=c=a8("InlineTable",e,ay,az)):(aq=a,a=i)}else aq=a,a=i}else aq=a,a=i}else aq=a,a=i;return ax[h]={nextPos:aq,result:a},a}()),ax[aF]={nextPos:aq,result:aE},aE)}function aL(){var a,c,d,e,f=49*aq+15,g=ax[f];if(g)return aq=g.nextPos,g.result;if(a=aq,34===b.charCodeAt(aq)?(c='"',aq++):(c=i,0===aw&&aB(z)),c!==i){for(d=[],e=aN();e!==i;)d.push(e),e=aN();d!==i?(34===b.charCodeAt(aq)?(e='"',aq++):(e=i,0===aw&&aB(z)),e!==i?(ar=a,a=c=y(d)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;return ax[f]={nextPos:aq,result:a},a}function aM(){var a,c,d,e,f=49*aq+17,g=ax[f];if(g)return aq=g.nextPos,g.result;if(a=aq,39===b.charCodeAt(aq)?(c="'",aq++):(c=i,0===aw&&aB(B)),c!==i){for(d=[],e=aO();e!==i;)d.push(e),e=aO();d!==i?(39===b.charCodeAt(aq)?(e="'",aq++):(e=i,0===aw&&aB(B)),e!==i?(ar=a,a=c=y(d)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;return ax[f]={nextPos:aq,result:a},a}function aN(){var a,c,d,e=49*aq+18,f=ax[e];return f?(aq=f.nextPos,f.result):((a=a5())===i&&(a=aq,c=aq,aw++,34===b.charCodeAt(aq)?(d='"',aq++):(d=i,0===aw&&aB(z)),aw--,d===i?c=m:(aq=c,c=i),c!==i?(b.length>aq?(d=b.charAt(aq),aq++):(d=i,0===aw&&aB(n)),d!==i?(ar=a,a=c=C(d)):(aq=a,a=i)):(aq=a,a=i)),ax[e]={nextPos:aq,result:a},a)}function aO(){var a,c,d,e=49*aq+19,f=ax[e];return f?(aq=f.nextPos,f.result):(a=aq,c=aq,aw++,39===b.charCodeAt(aq)?(d="'",aq++):(d=i,0===aw&&aB(B)),aw--,d===i?c=m:(aq=c,c=i),c!==i?(b.length>aq?(d=b.charAt(aq),aq++):(d=i,0===aw&&aB(n)),d!==i?(ar=a,a=c=C(d)):(aq=a,a=i)):(aq=a,a=i),ax[e]={nextPos:aq,result:a},a)}function aP(){var a,c,d,e=49*aq+20,f=ax[e];return f?(aq=f.nextPos,f.result):((a=a5())===i&&(a=function(){var a,c,d,e,f=49*aq+21,g=ax[f];if(g)return aq=g.nextPos,g.result;if(a=aq,92===b.charCodeAt(aq)?(c="\\",aq++):(c=i,0===aw&&aB(D)),c!==i)if(a$()!==i){for(d=[],e=a_();e!==i;)d.push(e),e=a_();d!==i?(ar=a,a=c=""):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i;return ax[f]={nextPos:aq,result:a},a}())===i&&((a=aq,c=aq,aw++,'"""'===b.substr(aq,3)?(d='"""',aq+=3):(d=i,0===aw&&aB(x)),aw--,d===i?c=m:(aq=c,c=i),c!==i&&(b.length>aq?(d=b.charAt(aq),aq++):(d=i,0===aw&&aB(n)),d!==i))?(ar=a,a=c=d):(aq=a,a=i)),ax[e]={nextPos:aq,result:a},a)}function aQ(){var a,c,d,e=49*aq+22,f=ax[e];return f?(aq=f.nextPos,f.result):(a=aq,c=aq,aw++,"'''"===b.substr(aq,3)?(d="'''",aq+=3):(d=i,0===aw&&aB(A)),aw--,d===i?c=m:(aq=c,c=i),c!==i?(b.length>aq?(d=b.charAt(aq),aq++):(d=i,0===aw&&aB(n)),d!==i?(ar=a,a=c=C(d)):(aq=a,a=i)):(aq=a,a=i),ax[e]={nextPos:aq,result:a},a)}function aR(){var a,c,d,e,f,g,h=49*aq+24,j=ax[h];return j?(aq=j.nextPos,j.result):(a=aq,43===b.charCodeAt(aq)?(c="+",aq++):(c=i,0===aw&&aB(G)),c===i&&(c=null),c!==i?(d=aq,(e=a4())!==i?(46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),f!==i&&(g=a4())!==i?d=e=[e,f,g]:(aq=d,d=i)):(aq=d,d=i),d!==i?(ar=a,a=c=H(d)):(aq=a,a=i)):(aq=a,a=i),a===i&&(a=aq,45===b.charCodeAt(aq)?(c="-",aq++):(c=i,0===aw&&aB(I)),c!==i?(d=aq,(e=a4())!==i?(46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),f!==i&&(g=a4())!==i?d=e=[e,f,g]:(aq=d,d=i)):(aq=d,d=i),d!==i?(ar=a,a=c=J(d)):(aq=a,a=i)):(aq=a,a=i)),ax[h]={nextPos:aq,result:a},a)}function aS(){var a,c,d,e,f,g=49*aq+26,h=ax[g];if(h)return aq=h.nextPos,h.result;if(a=aq,43===b.charCodeAt(aq)?(c="+",aq++):(c=i,0===aw&&aB(G)),c===i&&(c=null),c!==i){if(d=[],(e=a2())!==i)for(;e!==i;)d.push(e),e=a2();else d=i;d!==i?(e=aq,aw++,46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),aw--,f===i?e=m:(aq=e,e=i),e!==i?(ar=a,a=c=H(d)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;if(a===i)if(a=aq,45===b.charCodeAt(aq)?(c="-",aq++):(c=i,0===aw&&aB(I)),c!==i){if(d=[],(e=a2())!==i)for(;e!==i;)d.push(e),e=a2();else d=i;d!==i?(e=aq,aw++,46===b.charCodeAt(aq)?(f=".",aq++):(f=i,0===aw&&aB(t)),aw--,f===i?e=m:(aq=e,e=i),e!==i?(ar=a,a=c=J(d)):(aq=a,a=i)):(aq=a,a=i)}else aq=a,a=i;return ax[g]={nextPos:aq,result:a},a}function aT(){var a,b,c,d,e,f=49*aq+29,g=ax[f];if(g)return aq=g.nextPos,g.result;for(a=aq,b=[],c=aV();c!==i;)b.push(c),c=aV();if(b!==i)if((c=aK())!==i){for(d=[],e=aV();e!==i;)d.push(e),e=aV();d!==i?(ar=a,a=b=O(c)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i;return ax[f]={nextPos:aq,result:a},a}function aU(){var a,c,d,e,f,g,h,j=49*aq+30,k=ax[j];if(k)return aq=k.nextPos,k.result;for(a=aq,c=[],d=aV();d!==i;)c.push(d),d=aV();if(c!==i)if((d=aK())!==i){for(e=[],f=aV();f!==i;)e.push(f),f=aV();if(e!==i)if(44===b.charCodeAt(aq)?(f=",",aq++):(f=i,0===aw&&aB(P)),f!==i){for(g=[],h=aV();h!==i;)g.push(h),h=aV();g!==i?(ar=a,a=c=O(d)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i;return ax[j]={nextPos:aq,result:a},a}function aV(){var a,b=49*aq+31,c=ax[b];return c?(aq=c.nextPos,c.result):((a=aZ())===i&&(a=a$())===i&&(a=aE()),ax[b]={nextPos:aq,result:a},a)}function aW(){var a,c,d,e,f,g,h,j,k,l,m,n=49*aq+33,o=ax[n];if(o)return aq=o.nextPos,o.result;for(a=aq,c=[],d=aZ();d!==i;)c.push(d),d=aZ();if(c!==i)if((d=aI())!==i){for(e=[],f=aZ();f!==i;)e.push(f),f=aZ();if(e!==i)if(61===b.charCodeAt(aq)?(f="=",aq++):(f=i,0===aw&&aB(u)),f!==i){for(g=[],h=aZ();h!==i;)g.push(h),h=aZ();if(g!==i)if((h=aK())!==i){for(j=[],k=aZ();k!==i;)j.push(k),k=aZ();if(j!==i)if(44===b.charCodeAt(aq)?(k=",",aq++):(k=i,0===aw&&aB(P)),k!==i){for(l=[],m=aZ();m!==i;)l.push(m),m=aZ();l!==i?(ar=a,a=c=S(d,h)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i;if(a===i){for(a=aq,c=[],d=aZ();d!==i;)c.push(d),d=aZ();if(c!==i)if((d=aI())!==i){for(e=[],f=aZ();f!==i;)e.push(f),f=aZ();if(e!==i)if(61===b.charCodeAt(aq)?(f="=",aq++):(f=i,0===aw&&aB(u)),f!==i){for(g=[],h=aZ();h!==i;)g.push(h),h=aZ();g!==i&&(h=aK())!==i?(ar=a,a=c=S(d,h)):(aq=a,a=i)}else aq=a,a=i;else aq=a,a=i}else aq=a,a=i;else aq=a,a=i}return ax[n]={nextPos:aq,result:a},a}function aX(){var a,c,d,e=49*aq+34,f=ax[e];return f?(aq=f.nextPos,f.result):((a=aq,46===b.charCodeAt(aq)?(c=".",aq++):(c=i,0===aw&&aB(t)),c!==i&&(d=a4())!==i)?(ar=a,a=c="."+d):(aq=a,a=i),ax[e]={nextPos:aq,result:a},a)}function aY(){var a,c,d,e,f,g,h,j,k,l,m,n,o=49*aq+35,p=ax[o];return p?(aq=p.nextPos,p.result):(a=aq,c=aq,(d=a2())!==i&&(e=a2())!==i&&(f=a2())!==i&&(g=a2())!==i?(45===b.charCodeAt(aq)?(h="-",aq++):(h=i,0===aw&&aB(I)),h!==i&&(j=a2())!==i&&(k=a2())!==i?(45===b.charCodeAt(aq)?(l="-",aq++):(l=i,0===aw&&aB(I)),l!==i&&(m=a2())!==i&&(n=a2())!==i?c=d=[d,e,f,g,h,j,k,l,m,n]:(aq=c,c=i)):(aq=c,c=i)):(aq=c,c=i),c!==i&&(ar=a,c=c.join("")),a=c,ax[o]={nextPos:aq,result:a},a)}function aZ(){var a,c=49*aq+39,d=ax[c];return d?(aq=d.nextPos,d.result):(X.test(b.charAt(aq))?(a=b.charAt(aq),aq++):(a=i,0===aw&&aB(Y)),ax[c]={nextPos:aq,result:a},a)}function a$(){var a,c,d,e=49*aq+40,f=ax[e];return f?(aq=f.nextPos,f.result):(10===b.charCodeAt(aq)?(a="\n",aq++):(a=i,0===aw&&aB(Z)),a===i&&(a=aq,13===b.charCodeAt(aq)?(c="\r",aq++):(c=i,0===aw&&aB($)),c!==i?(10===b.charCodeAt(aq)?(d="\n",aq++):(d=i,0===aw&&aB(Z)),d!==i?a=c=[c,d]:(aq=a,a=i)):(aq=a,a=i)),ax[e]={nextPos:aq,result:a},a)}function a_(){var a,b=49*aq+41,c=ax[b];return c?(aq=c.nextPos,c.result):((a=a$())===i&&(a=aZ()),ax[b]={nextPos:aq,result:a},a)}function a0(){var a,c,d=49*aq+42,e=ax[d];return e?(aq=e.nextPos,e.result):(a=aq,aw++,b.length>aq?(c=b.charAt(aq),aq++):(c=i,0===aw&&aB(n)),aw--,c===i?a=m:(aq=a,a=i),ax[d]={nextPos:aq,result:a},a)}function a1(){var a,c=49*aq+43,d=ax[c];return d?(aq=d.nextPos,d.result):(_.test(b.charAt(aq))?(a=b.charAt(aq),aq++):(a=i,0===aw&&aB(aa)),ax[c]={nextPos:aq,result:a},a)}function a2(){var a,c,d=49*aq+44,e=ax[d];return e?(aq=e.nextPos,e.result):(ab.test(b.charAt(aq))?(a=b.charAt(aq),aq++):(a=i,0===aw&&aB(ac)),a===i&&(a=aq,95===b.charCodeAt(aq)?(c="_",aq++):(c=i,0===aw&&aB(ad)),c!==i&&(ar=a,c=""),a=c),ax[d]={nextPos:aq,result:a},a)}function a3(){var a,c=49*aq+45,d=ax[c];return d?(aq=d.nextPos,d.result):(ae.test(b.charAt(aq))?(a=b.charAt(aq),aq++):(a=i,0===aw&&aB(af)),ax[c]={nextPos:aq,result:a},a)}function a4(){var a,b,c,d=49*aq+46,e=ax[d];if(e)return aq=e.nextPos,e.result;if(a=aq,b=[],(c=a2())!==i)for(;c!==i;)b.push(c),c=a2();else b=i;return b!==i&&(ar=a,b=b.join("")),a=b,ax[d]={nextPos:aq,result:a},a}function a5(){var a,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r=49*aq+47,s=ax[r];return s?(aq=s.nextPos,s.result):(p=aq,'\\"'===b.substr(aq,2)?(q='\\"',aq+=2):(q=i,0===aw&&aB(ag)),q!==i&&(ar=p,q='"'),(p=q)===i&&(p=aq,"\\\\"===b.substr(aq,2)?(q="\\\\",aq+=2):(q=i,0===aw&&aB(ah)),q!==i&&(ar=p,q="\\"),(p=q)===i&&(p=aq,"\\b"===b.substr(aq,2)?(q="\\b",aq+=2):(q=i,0===aw&&aB(ai)),q!==i&&(ar=p,q="\b"),(p=q)===i&&(p=aq,"\\t"===b.substr(aq,2)?(q="\\t",aq+=2):(q=i,0===aw&&aB(aj)),q!==i&&(ar=p,q="	"),(p=q)===i&&(p=aq,"\\n"===b.substr(aq,2)?(q="\\n",aq+=2):(q=i,0===aw&&aB(ak)),q!==i&&(ar=p,q="\n"),(p=q)===i&&(p=aq,"\\f"===b.substr(aq,2)?(q="\\f",aq+=2):(q=i,0===aw&&aB(al)),q!==i&&(ar=p,q="\f"),(p=q)===i&&(p=aq,"\\r"===b.substr(aq,2)?(q="\\r",aq+=2):(q=i,0===aw&&aB(am)),q!==i&&(ar=p,q="\r"),(p=q)===i&&(p=(o=ax[n=49*aq+48])?(aq=o.nextPos,o.result):(a=aq,"\\U"===b.substr(aq,2)?(c="\\U",aq+=2):(c=i,0===aw&&aB(an)),c!==i?(d=aq,(e=a1())!==i&&(f=a1())!==i&&(g=a1())!==i&&(h=a1())!==i&&(j=a1())!==i&&(k=a1())!==i&&(l=a1())!==i&&(m=a1())!==i?d=e=[e,f,g,h,j,k,l,m]:(aq=d,d=i),d!==i?(ar=a,a=c=ao(d)):(aq=a,a=i)):(aq=a,a=i),a===i&&(a=aq,"\\u"===b.substr(aq,2)?(c="\\u",aq+=2):(c=i,0===aw&&aB(ap)),c!==i?(d=aq,(e=a1())!==i&&(f=a1())!==i&&(g=a1())!==i&&(h=a1())!==i?d=e=[e,f,g,h]:(aq=d,d=i),d!==i?(ar=a,a=c=ao(d)):(aq=a,a=i)):(aq=a,a=i)),ax[n]={nextPos:aq,result:a},a)))))))),ax[r]={nextPos:aq,result:p},p)}var a6=[];function a7(a){a6.push(a)}function a8(a,b,c,d,e){var f={type:a,value:b,line:c(),column:d()};return e&&(f.key=e),f}if((g=k())!==i&&aq===b.length)return g;throw g!==i&&aq<b.length&&aB({type:"end",description:"end of input"}),c=av,e=aA(d=au),f=d<b.length?b.charAt(d):null,null!==c&&function(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:+(a.description>b.description)});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}(c),new a(function(a,b){var c,d=Array(a.length);for(c=0;c<a.length;c++)d[c]=a[c].description;return"Expected "+(a.length>1?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0])+" but "+(b?'"'+function(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}(b)+'"':"end of input")+" found."}(c,f),c,f,d,e.line,e.column)}}}()},64589,(a,b,c)=>{"use strict";b.exports={compile:function(a){for(var b=[],c=[],d="",e=Object.create(null),f=e,g=a,h,i=0;i<g.length;i++)switch((h=g[i]).type){case"Assign":!function(a){var e,g=a.key,h=a.value,i=a.line,l=a.column;e=d?d+"."+g:g,void 0!==f[g]&&j("Cannot redefine existing key '"+e+"'.",i,l),f[g]=function a(b){return"Array"===b.type?function(b){for(var c=null,d=0;d<b.length;d++){var e=b[d];null===c?c=e.type:e.type!==c&&j("Cannot add value of type "+e.type+" to array of type "+c+".",e.line,e.column)}return b.map(a)}(b.value):"InlineTable"===b.type?function b(c){for(var d=Object.create(null),e=0;e<c.length;e++){var f=c[e];"InlineTable"===f.value.type?d[f.key]=b(f.value.value):"InlineTableValue"===f.type&&(d[f.key]=a(f.value))}return d}(b.value):b.value}(h),k(e)||(b.push(e),c.push(e))}(h);break;case"ObjectPath":!function(a){var c=a.value,g=c.map(m).join("."),h=a.line,i=a.column;k(g)&&j("Cannot redefine existing key '"+c+"'.",h,i),b.push(g),f=l(e,c,Object.create(null),h,i),d=c}(h);break;case"ArrayPath":!function(a){var c=a.value,g=c.map(m).join("."),h=a.line,i=a.column;if(k(g)||b.push(g),(b=b.filter(function(a){return 0!==a.indexOf(g)})).push(g),f=l(e,c,[],h,i),d=g,f instanceof Array){var n=Object.create(null);f.push(n),f=n}else j("Cannot redefine existing key '"+c+"'.",h,i)}(h)}return e;function j(a,b,c){var d=Error(a);throw d.line=b,d.column=c,d}function k(a){return -1!==b.indexOf(a)}function l(a,b,d,e,f){var g=[],h="";b.join(".");for(var i=a,k=0;k<b.length;k++){var l=b[k];g.push(l),h=g.join("."),void 0===i[l]?k===b.length-1?i[l]=d:i[l]=Object.create(null):k!==b.length-1&&c.indexOf(h)>-1&&j("Cannot redefine existing key '"+h+"'.",e,f),(i=i[l])instanceof Array&&i.length&&k<b.length-1&&(i=i[i.length-1])}return i}function m(a){return a.indexOf(".")>-1?'"'+a+'"':a}}}},88394,(a,b,c)=>{var d=a.r(66378),e=a.r(64589);b.exports={parse:function(a){var b=d.parse(a.toString());return e.compile(b)}}},31105,a=>{"use strict";var b=a.i(88394),c=a.i(99282),d=a.i(19993),e=a.i(71917);let f=new Proxy({},{get(f,g){var h,i;let j,k,l;if(e.isBrowser)throw Error("Workspaces aren't available in the browser");if(f[g=(0,c.default)(g)])return f[g];let m=a.r(22734),n=a.r(14747),o=b.parse(m.readFileSync("Anchor.toml")),p=o.provider.cluster,q=null==(h=o.programs)?void 0:h[p];if(q&&(j=null==(i=Object.entries(q).find(([a])=>(0,c.default)(a)===g))?void 0:i[1]),"object"==typeof j&&j.idl)k=j.idl,l=j.address;else{let a=n.join("target","idl"),b=m.readdirSync(a).find(a=>(0,c.default)(n.parse(a).name)===g);if(!b)throw Error(`Failed to find IDL of program \`${g}\``);k=n.join(a,b)}if(!m.existsSync(k))throw Error(`${k} doesn't exist. Did you run \`anchor build\`?`);let r=JSON.parse(m.readFileSync(k));return l&&(r.address=l),f[g]=new d.Program(r),f[g]}});a.s(["default",0,f])},40777,a=>{"use strict";let b,c,d;var e,f=a.i(87924),g=a.i(72131);let h=(0,g.createContext)({});function i(a){let b=(0,g.useRef)(null);return null===b.current&&(b.current=a()),b.current}let j=g.useEffect,k=(0,g.createContext)(null);function l(a){return"object"==typeof a&&null!==a}function m(a){return l(a)&&"offsetHeight"in a}var n=g;let o=(0,g.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function p(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class q extends n.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=m(a)&&a.offsetWidth||0,d=m(a)&&a.offsetHeight||0,e=this.props.sizeRef.current;e.height=b.offsetHeight||0,e.width=b.offsetWidth||0,e.top=b.offsetTop,e.left=b.offsetLeft,e.right=c-e.width-e.left,e.bottom=d-e.height-e.top}return null}componentDidUpdate(){}render(){return this.props.children}}function r({children:a,isPresent:b,anchorX:c,anchorY:d,root:e}){let h=(0,n.useId)(),i=(0,n.useRef)(null),j=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:k}=(0,n.useContext)(o),l=function(...a){return g.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=p(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():p(a[b],null)}}}}(...a),a)}(i,a.props?.ref??a?.ref);return(0,n.useInsertionEffect)(()=>{let{width:a,height:f,top:g,left:l,right:m,bottom:n}=j.current;if(b||!i.current||!a||!f)return;let o="left"===c?`left: ${l}`:`right: ${m}`,p="bottom"===d?`bottom: ${n}`:`top: ${g}`;i.current.dataset.motionPopId=h;let q=document.createElement("style");k&&(q.nonce=k);let r=e??document.head;return r.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${h}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${f}px !important;
            ${o}px !important;
            ${p}px !important;
          }
        `),()=>{r.contains(q)&&r.removeChild(q)}},[b]),(0,f.jsx)(q,{isPresent:b,childRef:i,sizeRef:j,children:n.cloneElement(a,{ref:l})})}let s=({children:a,initial:b,isPresent:c,onExitComplete:d,custom:e,presenceAffectsLayout:h,mode:j,anchorX:l,anchorY:m,root:n})=>{let o=i(t),p=(0,g.useId)(),q=!0,s=(0,g.useMemo)(()=>(q=!1,{id:p,initial:b,isPresent:c,custom:e,onExitComplete:a=>{for(let b of(o.set(a,!0),o.values()))if(!b)return;d&&d()},register:a=>(o.set(a,!1),()=>o.delete(a))}),[c,o,d]);return h&&q&&(s={...s}),(0,g.useMemo)(()=>{o.forEach((a,b)=>o.set(b,!1))},[c]),g.useEffect(()=>{c||o.size||!d||d()},[c]),"popLayout"===j&&(a=(0,f.jsx)(r,{isPresent:c,anchorX:l,anchorY:m,root:n,children:a})),(0,f.jsx)(k.Provider,{value:s,children:a})};function t(){return new Map}function u(a=!0){let b=(0,g.useContext)(k);if(null===b)return[!0,null];let{isPresent:c,onExitComplete:d,register:e}=b,f=(0,g.useId)();(0,g.useEffect)(()=>{if(a)return e(f)},[a]);let h=(0,g.useCallback)(()=>a&&d&&d(f),[f,d,a]);return!c&&d?[!1,h]:[!0]}let v=a=>a.key||"";function w(a){let b=[];return g.Children.forEach(a,a=>{(0,g.isValidElement)(a)&&b.push(a)}),b}let x=({children:a,custom:b,initial:c=!0,onExitComplete:d,presenceAffectsLayout:e=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",anchorY:n="top",root:o})=>{let[p,q]=u(l),r=(0,g.useMemo)(()=>w(a),[a]),t=l&&!p?[]:r.map(v),x=(0,g.useRef)(!0),y=(0,g.useRef)(r),z=i(()=>new Map),A=(0,g.useRef)(new Set),[B,C]=(0,g.useState)(r),[D,E]=(0,g.useState)(r);j(()=>{x.current=!1,y.current=r;for(let a=0;a<D.length;a++){let b=v(D[a]);t.includes(b)?(z.delete(b),A.current.delete(b)):!0!==z.get(b)&&z.set(b,!1)}},[D,t.length,t.join("-")]);let F=[];if(r!==B){let a=[...r];for(let b=0;b<D.length;b++){let c=D[b],d=v(c);t.includes(d)||(a.splice(b,0,c),F.push(c))}return"wait"===k&&F.length&&(a=F),E(w(a)),C(r),null}let{forceRender:G}=(0,g.useContext)(h);return(0,f.jsx)(f.Fragment,{children:D.map(a=>{let g=v(a),h=(!l||!!p)&&(r===D||t.includes(g));return(0,f.jsx)(s,{isPresent:h,initial:(!x.current||!!c)&&void 0,custom:b,presenceAffectsLayout:e,mode:k,root:o,onExitComplete:h?void 0:()=>{if(A.current.has(g)||(A.current.add(g),!z.has(g)))return;z.set(g,!0);let a=!0;z.forEach(b=>{b||(a=!1)}),a&&(G?.(),E(y.current),l&&q?.(),d&&d())},anchorX:m,anchorY:n,children:a},g)})})},y=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],z=new Set(y),A=(a,b,c)=>c>b?b:c<a?a:c,B={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},C={...B,transform:a=>A(0,1,a)},D={...B,default:1},E=a=>Math.round(1e5*a)/1e5,F=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,G=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,H=(a,b)=>c=>!!("string"==typeof c&&G.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),I=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(F);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},J={...B,transform:a=>Math.round(A(0,255,a))},K={test:H("rgb","red"),parse:I("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+J.transform(a)+", "+J.transform(b)+", "+J.transform(c)+", "+E(C.transform(d))+")"},L={test:H("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:K.transform},M=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),N=M("deg"),O=M("%"),P=M("px"),Q=M("vh"),R=M("vw"),S={...O,parse:a=>O.parse(a)/100,transform:a=>O.transform(100*a)},T={test:H("hsl","hue"),parse:I("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+O.transform(E(b))+", "+O.transform(E(c))+", "+E(C.transform(d))+")"},U={test:a=>K.test(a)||L.test(a)||T.test(a),parse:a=>K.test(a)?K.parse(a):T.test(a)?T.parse(a):L.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?K.transform(a):T.transform(a),getAnimatableNone:a=>{let b=U.parse(a);return b.alpha=0,U.transform(b)}},V=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,W="number",X="color",Y=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Z(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(Y,a=>(U.test(a)?(d.color.push(f),e.push(X),c.push(U.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(W),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function $(a){return Z(a).values}function _(a){let{split:b,types:c}=Z(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===W?e+=E(a[f]):b===X?e+=U.transform(a[f]):e+=a[f]}return e}}let aa=a=>"number"==typeof a?0:U.test(a)?U.getAnimatableNone(a):a,ab={test:function(a){return isNaN(a)&&"string"==typeof a&&(a.match(F)?.length||0)+(a.match(V)?.length||0)>0},parse:$,createTransformer:_,getAnimatableNone:function(a){let b=$(a);return _(a)(b.map(aa))}},ac=new Set(["brightness","contrast","saturate","opacity"]);function ad(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(F)||[];if(!d)return a;let e=c.replace(d,""),f=+!!ac.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let ae=/\b([a-z-]*)\(.*?\)/gu,af={...ab,getAnimatableNone:a=>{let b=a.match(ae);return b?b.map(ad).join(" "):a}},ag={...B,transform:Math.round},ah={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,inset:P,insetBlock:P,insetBlockStart:P,insetBlockEnd:P,insetInline:P,insetInlineStart:P,insetInlineEnd:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,paddingBlock:P,paddingBlockStart:P,paddingBlockEnd:P,paddingInline:P,paddingInlineStart:P,paddingInlineEnd:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,marginBlock:P,marginBlockStart:P,marginBlockEnd:P,marginInline:P,marginInlineStart:P,marginInlineEnd:P,fontSize:P,backgroundPositionX:P,backgroundPositionY:P,rotate:N,rotateX:N,rotateY:N,rotateZ:N,scale:D,scaleX:D,scaleY:D,scaleZ:D,skew:N,skewX:N,skewY:N,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:C,originX:S,originY:S,originZ:P,zIndex:ag,fillOpacity:C,strokeOpacity:C,numOctaves:ag},ai={...ah,color:U,backgroundColor:U,outlineColor:U,fill:U,stroke:U,borderColor:U,borderTopColor:U,borderRightColor:U,borderBottomColor:U,borderLeftColor:U,filter:af,WebkitFilter:af},aj=a=>ai[a],ak=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:ak(),y:ak()}),am=()=>({min:0,max:0}),an=()=>({x:am(),y:am()}),ao=a=>!!(a&&a.getVelocity),ap=new Set(["width","height","top","left","right","bottom",...y]),aq=a=>b=>b.test(a),ar=[B,P,O,N,R,Q,{test:a=>"auto"===a,parse:a=>a}],as=a=>ar.find(aq(a)),at=()=>{},au=()=>{},av=a=>b=>"string"==typeof b&&b.startsWith(a),aw=av("--"),ax=av("var(--"),ay=a=>!!ax(a)&&az.test(a.split("/*")[0].trim()),az=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function aA(a){return"string"==typeof a&&a.split("/*")[0].includes("var(--")}let aB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,aC=a=>180*a/Math.PI,aD=a=>aF(aC(Math.atan2(a[1],a[0]))),aE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:aD,rotateZ:aD,skewX:a=>aC(Math.atan(a[1])),skewY:a=>aC(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},aF=a=>((a%=360)<0&&(a+=360),a),aG=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),aH=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),aI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aG,scaleY:aH,scale:a=>(aG(a)+aH(a))/2,rotateX:a=>aF(aC(Math.atan2(a[6],a[5]))),rotateY:a=>aF(aC(Math.atan2(-a[2],a[0]))),rotateZ:aD,rotate:aD,skewX:a=>aC(Math.atan(a[4])),skewY:a=>aC(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function aJ(a){return+!!a.includes("scale")}function aK(a,b){let c,d;if(!a||"none"===a)return aJ(b);let e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(e)c=aI,d=e;else{let b=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=aE,d=b}if(!d)return aJ(b);let f=c[b],g=d[1].split(",").map(aL);return"function"==typeof f?f(g):g[f]}function aL(a){return parseFloat(a.trim())}let aM=a=>a===B||a===P,aN=new Set(["x","y","z"]),aO=y.filter(a=>!aN.has(a)),aP={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:(a,{transform:b})=>aK(b,"x"),y:(a,{transform:b})=>aK(b,"y")};aP.translateX=aP.x,aP.translateY=aP.y;let aQ=a=>a,aR={},aS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aT(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=aS.reduce((a,c)=>(a[c]=function(a,b){let c=new Set,d=new Set,e=!1,f=!1,g=new WeakSet,h={delta:0,timestamp:0,isProcessing:!1},i=0;function j(b){g.has(b)&&(k.schedule(b),a()),i++,b(h)}let k={schedule:(a,b=!1,f=!1)=>{let h=f&&e?c:d;return b&&g.add(a),h.has(a)||h.add(a),a},cancel:a=>{d.delete(a),g.delete(a)},process:a=>{if(h=a,e){f=!0;return}e=!0,[c,d]=[d,c],c.forEach(j),b,i=0,c.clear(),e=!1,f&&(f=!1,k.process(a))}};return k}(f,b?c:void 0),a),{}),{setup:h,read:i,resolveKeyframes:j,preUpdate:k,update:l,preRender:m,render:n,postRender:o}=g,p=()=>{let f=aR.useManualTiming?e.timestamp:performance.now();c=!1,aR.useManualTiming||(e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1)),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),n.process(e),o.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(p))};return{schedule:aS.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(p)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<aS.length;b++)g[aS[b]].cancel(a)},state:e,steps:g}}let{schedule:aU,cancel:aV,state:aW,steps:aX}=aT("u">typeof requestAnimationFrame?requestAnimationFrame:aQ,!0),aY=new Set,aZ=!1,a$=!1,a_=!1;function a0(){if(a$){let a=Array.from(aY).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b,d=(b=[],aO.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b);d.length&&(c.set(a,d),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{a.getValue(b)?.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}a$=!1,aZ=!1,aY.forEach(a=>a.complete(a_)),aY.clear()}function a1(){aY.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(a$=!0)})}class a2{constructor(a,b,c,d,e,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(aY.add(this),aZ||(aZ=!0,aU.read(a1),aU.resolveKeyframes(a0))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;if(null===a[0]){let e=d?.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}for(let b=1;b<a.length;b++)a[b]??(a[b]=a[b-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(a=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,a),aY.delete(this)}cancel(){"scheduled"===this.state&&(aY.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function a3(a,b){let c=aj(a);return c!==af&&(c=ab),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let a4=new Set(["auto","none","0"]);class a5 extends a2{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&ay(d=d.trim())){let e=function a(b,c,d=1){au(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[e,f]=function(a){let b=aB.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${c??d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a)?parseFloat(a):a}return ay(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ap.has(c)||2!==a.length)return;let[d,e]=a,f=as(d),g=as(e);if(aA(d)!==aA(e)&&aP[c]){this.needsMeasurement=!0;return}if(f!==g)if(aM(f)&&aM(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else aP[c]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++)(null===a[b]||function(a){if("number"==typeof a)return 0===a;if(null===a)return!0;return"none"===a||"0"===a||/^0[^.\s]+$/u.test(a)}(a[b]))&&c.push(b);c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!a4.has(b)&&Z(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=a3(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aP[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){let{element:a,name:b,unresolvedKeyframes:c}=this;if(!a||!a.current)return;let d=a.getValue(b);d&&d.jump(this.measuredOrigin,!1);let e=c.length-1,f=c[e];c[e]=aP[b](a.measureViewportBox(),window.getComputedStyle(a.current)),null!==f&&void 0===this.finalKeyframe&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([b,c])=>{a.getValue(b).set(c)}),this.resolveNoneKeyframes()}}function a6(a,b){-1===a.indexOf(b)&&a.push(b)}function a7(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class a8{constructor(){this.subscriptions=[]}add(a){return a6(this.subscriptions,a),()=>a7(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let{schedule:a9}=aT(queueMicrotask,!1);function ba(){b=void 0}let bb={now:()=>(void 0===b&&bb.set(aW.isProcessing||aR.useManualTiming?aW.timestamp:performance.now()),b),set:a=>{b=a,queueMicrotask(ba)}};class bc{constructor(a,b={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{let b=bb.now();if(this.updatedAt!==b&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=bb.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new a8);let c=this.events[a].add(b);return"change"===a?()=>{c(),aU.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a){this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(a){this.dependents||(this.dependents=new Set),this.dependents.add(a)}removeDependent(a){this.dependents&&this.dependents.delete(a)}get(){return d&&d.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=bb.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(a,b){return new bc(a,b)}let be=[...ar,U,ab],bf={current:!1},bg=new WeakMap;function bh(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}function bi(a){return"string"==typeof a||Array.isArray(a)}let bj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bk=["initial",...bj];function bl(a){return bh(a.animate)||bk.some(b=>bi(a[b]))}function bm(a){return!!(bl(a)||a.variants)}function bn(a){let b=[{},{}];return a?.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function bo(a,b,c,d){if("function"==typeof b){let[e,f]=bn(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=bn(d);b=b(void 0!==c?c:a.custom,e,f)}return b}let bp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bq={};class br{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,skipAnimations:e,blockInitialAnimation:f,visualState:g},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=a2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=bb.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,aU.render(this.render,!1,!0))};const{latestValues:i,renderState:j}=g;this.latestValues=i,this.baseTarget={...i},this.initialValues=b.initial?{...i}:{},this.renderState=j,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.skipAnimationsConfig=e,this.options=h,this.blockInitialAnimation=!!f,this.isControllingVariants=bl(b),this.isVariantNode=bm(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:k,...l}=this.scrapeMotionValuesFromProps(b,{},this);for(const a in l){const b=l[a];void 0!==i[a]&&ao(b)&&b.set(i[a])}}mount(a){this.current=a,bg.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(bf.current||(bf.current=!0),this.shouldReduceMotion=null),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in this.projection&&this.projection.unmount(),aV(this.notifyUpdate),aV(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}addChild(a){this.children.add(a),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(a)}removeChild(a){this.children.delete(a),this.enteringChildren&&this.enteringChildren.delete(a)}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=z.has(a);d&&this.onBindTransform&&this.onBindTransform();let e=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&aU.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});this.valueSubscriptions.set(a,()=>{e(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in bq){let b=bq[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<bp.length;b++){let c=bp[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(ao(e))a.addValue(d,e);else if(ao(f))a.addValue(d,bd(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,bd(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=bd(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){let c=void 0===this.latestValues[a]&&this.current?this.getBaseTargetFromProps(this.props,a)??this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=c){let d,e;if("string"==typeof c&&(d=c,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(d)||(e=c,/^0[^.\s]+$/u.test(e))))c=parseFloat(c);else{let d;d=c,!be.find(aq(d))&&ab.test(b)&&(c=a3(a,b))}this.setBaseTarget(a,ao(c)?c.get():c)}return ao(c)?c.get():c}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){let b,{initial:c}=this.props;if("string"==typeof c||"object"==typeof c){let d=bo(this.props,c,this.presenceContext?.custom);d&&(b=d[a])}if(c&&void 0!==b)return b;let d=this.getBaseTargetFromProps(this.props,a);return void 0===d||ao(d)?void 0!==this.initialValues[a]&&void 0===b?void 0:this.baseTarget[a]:d}on(a,b){return this.events[a]||(this.events[a]=new a8),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}scheduleRenderMicrotask(){a9.render(this.render)}}class bs extends br{constructor(){super(...arguments),this.KeyframeResolver=a5}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){let c=a.style;return c?c[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;ao(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function bt(a){return a.replace(/([A-Z])/g,a=>`-${a.toLowerCase()}`)}let bu=(a,b)=>b&&"number"==typeof a?b.transform(a):a,bv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bw=y.length;function bx(a,b,c){let{style:d,vars:e,transformOrigin:f}=a,g=!1,h=!1;for(let a in b){let c=b[a];if(z.has(a)){g=!0;continue}if(aw(a)){e[a]=c;continue}{let b=bu(c,ah[a]);a.startsWith("origin")?(h=!0,f[a]=b):d[a]=b}}if(!b.transform&&(g||c?d.transform=function(a,b,c){let d="",e=!0;for(let f=0;f<bw;f++){let g=y[f],h=a[g];if(void 0===h)continue;let i=!0;if("number"==typeof h)i=h===+!!g.startsWith("scale");else{let a=parseFloat(h);i=g.startsWith("scale")?1===a:0===a}if(!i||c){let a=bu(h,ah[g]);if(!i){e=!1;let b=bv[g]||g;d+=`${b}(${a}) `}c&&(b[g]=a)}}return d=d.trim(),c?d=c(b,e?"":d):e&&(d="none"),d}(b,a.transform,c):d.transform&&(d.transform="none")),h){let{originX:a="50%",originY:b="50%",originZ:c=0}=f;d.transformOrigin=`${a} ${b} ${c}`}}let by={offset:"stroke-dashoffset",array:"stroke-dasharray"},bz={offset:"strokeDashoffset",array:"strokeDasharray"},bA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bB(a,{attrX:b,attrY:c,attrScale:d,pathLength:e,pathSpacing:f=1,pathOffset:g=0,...h},i,j,k){if(bx(a,h,j),i){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:l,style:m}=a;for(let a of(l.transform&&(m.transform=l.transform,delete l.transform),(m.transform||l.transformOrigin)&&(m.transformOrigin=l.transformOrigin??"50% 50%",delete l.transformOrigin),m.transform&&(m.transformBox=k?.transformBox??"fill-box",delete l.transformBox),bA))void 0!==l[a]&&(m[a]=l[a],delete l[a]);void 0!==b&&(l.x=b),void 0!==c&&(l.y=c),void 0!==d&&(l.scale=d),void 0!==e&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?by:bz;a[f.offset]=`${-d}`,a[f.array]=`${b} ${c}`}(l,e,f,g,!1)}let bC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bD=a=>"string"==typeof a&&"svg"===a.toLowerCase();function bE(a,{style:b,vars:c},d,e){let f,g=a.style;for(f in b)g[f]=b[f];for(f in e?.applyProjectionStyles(g,d),c)g.setProperty(f,c[f])}function bF(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let bG={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!P.test(a))return a;else a=parseFloat(a);let c=bF(a,b.target.x),d=bF(a,b.target.y);return`${c}% ${d}%`}},bH=(a,b,c)=>a+(b-a)*c,bI={borderRadius:{...bG,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bG,borderTopRightRadius:bG,borderBottomLeftRadius:bG,borderBottomRightRadius:bG,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=ab.parse(a);if(d.length>5)return a;let e=ab.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=bH(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}};function bJ(a,{layout:b,layoutId:c}){return z.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!bI[a]||"opacity"===a)}function bK(a,b,c){let d=a.style,e=b?.style,f={};if(!d)return f;for(let b in d)(ao(d[b])||e&&ao(e[b])||bJ(b,a)||c?.getValue(b)?.liveStyle!==void 0)&&(f[b]=d[b]);return f}function bL(a,b,c){let d=bK(a,b,c);for(let c in a)(ao(a[c])||ao(b[c]))&&(d[-1!==y.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return d}class bM extends bs{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=an}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(z.has(b)){let a=aj(b);return a&&a.default||0}return b=bC.has(b)?b:bt(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return bL(a,b,c)}build(a,b,c){bB(a,b,this.isSVGTag,c.transformTemplate,c.style)}renderInstance(a,b,c,d){for(let c in bE(a,b,void 0,d),b.attrs)a.setAttribute(bC.has(c)?c:bt(c),b.attrs[c])}mount(a){this.isSVGTag=bD(a.tagName),super.mount(a)}}function bN({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}function bO(a){return void 0===a||1===a}function bP({scale:a,scaleX:b,scaleY:c}){return!bO(a)||!bO(b)||!bO(c)}function bQ(a){return bP(a)||bR(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function bR(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function bS(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function bT(a,b=0,c=1,d,e){a.min=bS(a.min,b,c,d,e),a.max=bS(a.max,b,c,d,e)}function bU(a,{x:b,y:c}){bT(a.x,b.translate,b.scale,b.originPoint),bT(a.y,c.translate,c.scale,c.originPoint)}function bV(a,b){a.min=a.min+b,a.max=a.max+b}function bW(a,b,c,d,e=.5){let f=bH(a.min,a.max,e);bT(a,b,c,f,d)}function bX(a,b){bW(a.x,b.x,b.scaleX,b.scale,b.originX),bW(a.y,b.y,b.scaleY,b.scale,b.originY)}function bY(a,b){return bN(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}class bZ extends bs{constructor(){super(...arguments),this.type="html",this.renderInstance=bE}readValueFromInstance(a,b){if(z.has(b))return this.projection?.isProjecting?aJ(b):((a,b)=>{let{transform:c="none"}=getComputedStyle(a);return aK(c,b)})(a,b);{let c=window.getComputedStyle(a),d=(aw(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return bY(a,b)}build(a,b,c){bx(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return bK(a,b,c)}}let b$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(a){if("string"!=typeof a||a.includes("-"));else if(b$.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}(0,g.createContext)({strict:!1});let b0=(0,g.createContext)({});function b1(a){return Array.isArray(a)?a.join(" "):a}let b2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function b3(a,b,c){for(let d in b)ao(b[d])||bJ(d,c)||(a[d]=b[d])}let b4=()=>({...b2(),attrs:{}}),b5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b6(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||b5.has(a)}let b7=a=>!b6(a);try{e=(()=>{let a=Error("Cannot find module '@emotion/is-prop-valid'");throw a.code="MODULE_NOT_FOUND",a})().default,"function"==typeof e&&(b7=a=>a.startsWith("on")?!b6(a):e(a))}catch{}function b8(a){return ao(a)?a.get():a}let b9=a=>(b,c)=>{let d=(0,g.useContext)(b0),e=(0,g.useContext)(k),f=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b},c,d,e){return{latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=b8(f[a]);let{initial:g,animate:h}=a,i=bl(a),j=bm(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!bh(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=bo(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(c,d,e,a),renderState:b()}})(a,b,d,e);return c?f():i(f)},ca=b9({scrapeMotionValuesFromProps:bK,createRenderState:b2}),cb=b9({scrapeMotionValuesFromProps:bL,createRenderState:b4}),cc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cd=!1,ce=Symbol.for("motionComponentSymbol"),cf="data-"+bt("framerAppearId"),cg=(0,g.createContext)({});function ch(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function ci(a,{forwardMotionProps:b=!1,type:c}={},d,e){d&&function(a){let b=(!function(){if(cd)return;let a={};for(let b in cc)a[b]={isEnabled:a=>cc[b].some(b=>!!a[b])};bq=a,cd=!0}(),bq);for(let c in a)b[c]={...b[c],...a[c]};bq=b}(d);let i=c?"svg"===c:b_(a),j=i?cb:ca;function k(c,d){var e;let k,l,m,n={...(0,g.useContext)(o),...c,layoutId:function({layoutId:a}){let b=(0,g.useContext)(h).id;return b&&void 0!==a?b+"-"+a:a}(c)},{isStatic:p}=n,q=function(a){let{initial:b,animate:c}=function(a,b){if(bl(a)){let{initial:b,animate:c}=a;return{initial:!1===b||bi(b)?b:void 0,animate:bi(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,g.useContext)(b0));return(0,g.useMemo)(()=>({initial:b,animate:c}),[b1(b),b1(c)])}(c),r=j(c,p);return(0,f.jsxs)(b0.Provider,{value:q,children:[k&&q.visualElement?(0,f.jsx)(k,{visualElement:q.visualElement,...n}):null,function(a,b,c,{latestValues:d},e,f=!1,h){let i=(h??b_(a)?function(a,b,c,d){let e=(0,g.useMemo)(()=>{let c=b4();return bB(c,b,bD(d),a.transformTemplate,a.style),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};b3(b,a.style,a),e.style={...b,...e.style}}return e}:function(a,b){let c,d,e={},f=(c=a.style||{},b3(d={},c,a),Object.assign(d,function({transformTemplate:a},b){return(0,g.useMemo)(()=>{let c=b2();return bx(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),d);return a.drag&&!1!==a.dragListener&&(e.draggable=!1,f.userSelect=f.WebkitUserSelect=f.WebkitTouchCallout="none",f.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=f,e})(b,d,e,a),j=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(b7(e)||!0===c&&b6(e)||!b&&!b6(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,f),k=a!==g.Fragment?{...j,...i,ref:c}:{},{children:l}=b,m=(0,g.useMemo)(()=>ao(l)?l.get():l,[l]);return(0,g.createElement)(a,{...k,children:m})}(a,c,(e=q.visualElement,l=(0,g.useRef)(d),(0,g.useInsertionEffect)(()=>{l.current=d}),m=(0,g.useRef)(null),(0,g.useCallback)(a=>{a&&r.onMount?.(a),e&&(a?e.mount(a):e.unmount());let b=l.current;if("function"==typeof b)if(a){let c=b(a);"function"==typeof c&&(m.current=c)}else m.current?(m.current(),m.current=null):b(a);else b&&(b.current=a)},[e])),r,p,b,i)]})}k.displayName=`motion.${"string"==typeof a?a:`create(${a.displayName??a.name??""})`}`;let l=(0,g.forwardRef)(k);return l[ce]=a,l}class cj{constructor(a){this.isMounted=!1,this.node=a}update(){}}function ck(a,b,c){let d=a.getProps();return bo(d,b,void 0!==c?c:d.custom,a)}function cl(a,b){return a?.[b]??a?.default??a}let cm=a=>Array.isArray(a);function cn(a,b){let c=a.getValue("willChange");if(ao(c)&&c.add)return c.add(b);if(!c&&aR.WillChange){let c=new aR.WillChange("auto");a.addValue("willChange",c),c.add(b)}}let co=a=>1e3*a,cp=(a,b)=>c=>b(a(c)),cq=(...a)=>a.reduce(cp),cr={layout:0,mainThread:0,waapi:0};function cs(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function ct(a,b){return c=>c>0?b:a}let cu=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},cv=[L,K,T];function cw(a){let b=cv.find(b=>b.test(a));if(at(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!b)return!1;let c=b.parse(a);return b===T&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=cs(h,d,a+1/3),f=cs(h,d,a),g=cs(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let cx=(a,b)=>{let c=cw(a),d=cw(b);if(!c||!d)return ct(a,b);let e={...c};return a=>(e.red=cu(c.red,d.red,a),e.green=cu(c.green,d.green,a),e.blue=cu(c.blue,d.blue,a),e.alpha=bH(c.alpha,d.alpha,a),K.transform(e))},cy=new Set(["none","hidden"]);function cz(a,b){return c=>bH(a,b,c)}function cA(a){return"number"==typeof a?cz:"string"==typeof a?ay(a)?ct:U.test(a)?cx:cD:Array.isArray(a)?cB:"object"==typeof a?U.test(a)?cx:cC:ct}function cB(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>cA(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function cC(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=cA(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let cD=(a,b)=>{let c=ab.createTransformer(b),d=Z(a),e=Z(b);if(!(d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length))return at(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ct(a,b);if(cy.has(a)&&!e.values.length||cy.has(b)&&!d.values.length)return cy.has(a)?c=>c<=0?a:b:c=>c>=1?b:a;return cq(cB(function(a,b){let c=[],d={color:0,var:0,number:0};for(let e=0;e<b.values.length;e++){let f=b.types[e],g=a.indexes[f][d[f]],h=a.values[g]??0;c[e]=h,d[f]++}return c}(d,e),e.values),c)};function cE(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?bH(a,b,c):cA(a)(a,b)}let cF=a=>{let b=({timestamp:b})=>a(b);return{start:(a=!0)=>aU.update(b,a),stop:()=>aV(b),now:()=>aW.isProcessing?aW.timestamp:bb.now()}},cG=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=Math.round(1e4*a(b/(e-1)))/1e4+", ";return`linear(${d.substring(0,d.length-2)})`};function cH(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function cI(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let cJ=.01,cK=2,cL=.005,cM=.5;function cN(a,b){return a*Math.sqrt(1-b*b)}let cO=["duration","bounce"],cP=["stiffness","damping","mass"];function cQ(a,b){return b.some(b=>void 0!==a[b])}function cR(a=.3,b=.3){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!cQ(a,cP)&&cQ(a,cO))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*A(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:1,stiffness:d,damping:e}}else{let c=function({duration:a=800,bounce:b=.3,velocity:c=0,mass:d=1}){let e,f;at(a<=co(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let g=1-b;g=A(.05,1,g),a=A(.01,10,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/cN(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=cN(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=co(a),isNaN(h))return{stiffness:100,damping:10,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:1}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,s=Math.sqrt(j/l)/1e3,t=5>Math.abs(r);if(e||(e=t?cJ:cK),f||(f=t?cL:cM),q<1){let a=cN(s,q);c=b=>h-Math.exp(-q*s*b)*((p+q*s*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-s*a)*(r+(p+s*r)*a);else{let a=s*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*s*b),d=Math.min(a*b,300);return h-c*((p+q*s*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let u={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0===a?p:0;q<1&&(d=0===a?co(p):cI(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(cH(u),2e4),b=cG(b=>u.next(a*b).value,a,30);return a+"ms "+b},toTransition:()=>{}};return u}function cS({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=cR({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:cI(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}cR.applyToOptions=a=>{let b=function(a,b=100,c){let d=c({...a,keyframes:[0,b]}),e=Math.min(cH(d),2e4);return{type:"keyframes",ease:a=>d.next(e*a).value/b,duration:e/1e3}}(a,100,cR);return a.ease=b.ease,a.duration=co(b.duration),a.type="keyframes",a};let cT=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function cU(a,b,c,d){return a===b&&c===d?aQ:e=>0===e||1===e?e:cT(function(a,b,c,d,e){let f,g,h=0;do(f=cT(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12)return g}(e,0,1,a,c),b,d)}let cV=cU(.42,0,1,1),cW=cU(0,0,.58,1),cX=cU(.42,0,.58,1),cY=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,cZ=a=>b=>1-a(1-b),c$=cU(.33,1.53,.69,.99),c_=cZ(c$),c0=cY(c_),c1=a=>(a*=2)<1?.5*c_(a):.5*(2-Math.pow(2,-10*(a-1))),c2=a=>1-Math.sin(Math.acos(a)),c3=cZ(c2),c4=cY(c2),c5=a=>Array.isArray(a)&&"number"==typeof a[0],c6={linear:aQ,easeIn:cV,easeInOut:cX,easeOut:cW,circIn:c2,circInOut:c4,circOut:c3,backIn:c_,backInOut:c0,backOut:c$,anticipate:c1},c7=a=>{if(c5(a)){au(4===a.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[b,c,d,e]=a;return cU(b,c,d,e)}return"string"==typeof a?(au(void 0!==c6[a],`Invalid easing type '${a}'`,"invalid-easing-type"),c6[a]):a},c8=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d};function c9({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f,g=Array.isArray(d)&&"number"!=typeof d[0]?d.map(c7):c7(d),h={done:!1,value:b[0]},i=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(au(f===b.length,"Both input and output ranges must be the same length","range-length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||aR.mix||cE,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=cq(Array.isArray(b)?b[c]||aQ:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=c8(a[d],a[d+1],c);return h[d](e)};return c?b=>j(A(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:(!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=c8(0,b,d);a.push(bH(c,1,e))}}(f=[0],b.length-1),f),e.map(b=>b*a)),b,{ease:Array.isArray(g)?g:b.map(()=>g||cX).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(h.value=i(b),h.done=b>=a,h)}}let da=a=>null!==a;function db(a,{repeat:b,repeatType:c="loop"},d,e=1){let f=a.filter(da),g=e<0||b&&"loop"!==c&&b%2==1?0:f.length-1;return g&&void 0!==d?d:f[g]}let dc={decay:cS,inertia:cS,tween:c9,keyframes:c9,spring:cR};function dd(a){"string"==typeof a.type&&(a.type=dc[a.type])}class de{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(a=>{this.resolve=a})}notifyFinished(){this.resolve()}then(a,b){return this.finished.then(a,b)}}let df=a=>a/100;class dg extends de{constructor(a){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:a}=this.options;a&&a.updatedAt!==bb.now()&&this.tick(bb.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},cr.mainThread++,this.options=a,this.initAnimation(),this.play(),!1===a.autoplay&&this.pause()}initAnimation(){let{options:a}=this;dd(a);let{type:b=c9,repeat:c=0,repeatDelay:d=0,repeatType:e,velocity:f=0}=a,{keyframes:g}=a,h=b||c9;h!==c9&&"number"!=typeof g[0]&&(this.mixKeyframes=cq(df,cE(g[0],g[1])),g=[0,100]);let i=h({...a,keyframes:g});"mirror"===e&&(this.mirroredGenerator=h({...a,keyframes:[...g].reverse(),velocity:-f})),null===i.calculatedDuration&&(i.calculatedDuration=cH(i));let{calculatedDuration:j}=i;this.calculatedDuration=j,this.resolvedDuration=j+d,this.totalDuration=this.resolvedDuration*(c+1)-d,this.generator=i}updateTime(a){let b=Math.round(a-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=b}tick(a,b=!1){let{generator:c,totalDuration:d,mixKeyframes:e,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:h}=this;if(null===this.startTime)return c.next(0);let{delay:i=0,keyframes:j,repeat:k,repeatType:l,repeatDelay:m,type:n,onUpdate:o,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-d/this.speed,this.startTime)),b?this.currentTime=a:this.updateTime(a);let q=this.currentTime-i*(this.playbackSpeed>=0?1:-1),r=this.playbackSpeed>=0?q<0:q>d;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=d);let s=this.currentTime,t=c;if(k){let a=Math.min(this.currentTime,d)/g,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,k+1))%2&&("reverse"===l?(c=1-c,m&&(c-=m/g)):"mirror"===l&&(t=f)),s=A(0,1,c)*g}let u=r?{done:!1,value:j[0]}:t.next(s);e&&(u.value=e(u.value));let{done:v}=u;r||null===h||(v=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return w&&n!==cS&&(u.value=db(j,this.options,p,this.speed)),o&&o(u.value),w&&this.finish(),u}then(a,b){return this.finished.then(a,b)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return this.currentTime/1e3}set time(a){a=co(a),this.currentTime=a,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(a){this.updateTime(bb.now());let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:a=cF,startTime:b}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),this.options.onPlay?.();let c=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=c):null!==this.holdTime?this.startTime=c-this.holdTime:this.startTime||(this.startTime=b??c),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bb.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,cr.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}attachTimeline(a){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),a.observe(this)}}function dh(a){let b;return()=>(void 0===b&&(b=a()),b)}let di=dh(()=>void 0!==window.ScrollTimeline),dj={},dk=(c=dh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0}),()=>dj.linearEasing??c()),dl=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,dm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dl([0,.65,.55,1]),circOut:dl([.55,0,1,.45]),backIn:dl([.31,.01,.66,-.59]),backOut:dl([.33,1.53,.69,.99])};function dn(a){return"function"==typeof a&&"applyToOptions"in a}class dp extends de{constructor(a){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!a)return;const{element:b,name:c,keyframes:d,pseudoElement:e,allowFlatten:f=!1,finalKeyframe:g,onComplete:h}=a;this.isPseudoElement=!!e,this.allowFlatten=f,this.options=a,au("string"!=typeof a.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const i=function({type:a,...b}){return dn(a)&&dk()?a.applyToOptions(b):(b.duration??(b.duration=300),b.ease??(b.ease="easeOut"),b)}(a);this.animation=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeOut",times:i}={},j){let k={[b]:c};i&&(k.offset=i);let l=function a(b,c){if(b)return"function"==typeof b?dk()?cG(b,c):"ease-out":c5(b)?dl(b):Array.isArray(b)?b.map(b=>a(b,c)||dm.easeOut):dm[b]}(h,e);Array.isArray(l)&&(k.easing=l);let m={delay:d,duration:e,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"};j&&(m.pseudoElement=j);let n=a.animate(k,m);return n}(b,c,d,i,e),!1===i.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!e){let a=db(d,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(a):c.startsWith("--")?b.style.setProperty(c,a):b.style[c]=a,this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(a){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:a}=this;"idle"!==a&&"finished"!==a&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let a=this.options?.element;!this.isPseudoElement&&a?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:a=0}=this.options||{};return this.duration+a/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(a){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=co(a)}get speed(){return this.animation.playbackRate}set speed(a){a<0&&(this.finishedTime=null),this.animation.playbackRate=a}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(a){this.manualStartTime=this.animation.startTime=a}attachTimeline({timeline:a,observe:b}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,a&&di())?(this.animation.timeline=a,aQ):b(this)}}let dq={anticipate:c1,backInOut:c0,circInOut:c4};class dr extends dp{constructor(a){!function(a){"string"==typeof a.ease&&a.ease in dq&&(a.ease=dq[a.ease])}(a),dd(a),super(a),void 0!==a.startTime&&(this.startTime=a.startTime),this.options=a}updateMotionValue(a){let{motionValue:b,onUpdate:c,onComplete:d,element:e,...f}=this.options;if(!b)return;if(void 0!==a)return void b.set(a);let g=new dg({...f,autoplay:!1}),h=Math.max(10,bb.now()-this.startTime),i=A(0,10,h-10);b.setWithVelocity(g.sample(Math.max(0,h-i)).value,g.sample(h).value,i),g.stop()}}let ds=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(ab.test(a)||"0"===a)&&!a.startsWith("url("));function dt(a){a.duration=0,a.type="keyframes"}let du=new Set(["opacity","clipPath","filter","transform"]),dv=dh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class dw extends de{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",keyframes:g,name:h,motionValue:i,element:j,...k}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bb.now();const l={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,name:h,motionValue:i,element:j,...k},m=j?.KeyframeResolver||a2;this.keyframeResolver=new m(g,(a,b,c)=>this.onKeyframesResolved(a,b,l,!c),h,i,j),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(a,b,c,d){this.keyframeResolver=void 0;let{name:e,type:f,velocity:g,delay:h,isHandoff:i,onUpdate:j}=c;this.resolvedAt=bb.now(),!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=ds(e,b),h=ds(f,b);return at(g===h,`You are trying to animate ${b} from "${e}" to "${f}". "${g?f:e}" is not an animatable value.`,"value-not-animatable"),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||dn(c))&&d)}(a,e,f,g)&&((aR.instantAnimations||!h)&&j?.(db(a,c,b)),a[0]=a[a.length-1],dt(c),c.repeat=0);let k={startTime:d?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:b,...c,keyframes:a},l=!i&&function(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!(b?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return dv()&&c&&du.has(c)&&("transform"!==c||!i)&&!h&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}(k),m=k.motionValue?.owner?.current,n=l?new dr({...k,element:m}):new dg(k);n.finished.then(()=>{this.notifyFinished()}).catch(aQ),this.pendingTimeline&&(this.stopTimeline=n.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=n}get finished(){return this._animation?this.animation.finished:this._finished}then(a,b){return this.finished.finally(a).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a_=!0,a1(),a0(),a_=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(a){this.animation.time=a}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(a){this.animation.speed=a}get startTime(){return this.animation.startTime}attachTimeline(a){return this._animation?this.stopTimeline=this.animation.attachTimeline(a):this.pendingTimeline=a,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let dx={type:"spring",stiffness:500,damping:25,restSpeed:10},dy={type:"keyframes",duration:.8},dz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dA=a=>null!==a,dB=(a,b,c,d={},e,f)=>g=>{let h=cl(d,a)||{},i=h.delay||d.delay||0,{elapsed:j=0}=d;j-=co(i);let k={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...h,delay:-j,onUpdate:a=>{b.set(a),h.onUpdate&&h.onUpdate(a)},onComplete:()=>{g(),h.onComplete&&h.onComplete()},name:a,motionValue:b,element:f?void 0:e};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(h)&&Object.assign(k,((a,{keyframes:b})=>b.length>2?dy:z.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:dx:dz)(a,k)),k.duration&&(k.duration=co(k.duration)),k.repeatDelay&&(k.repeatDelay=co(k.repeatDelay)),void 0!==k.from&&(k.keyframes[0]=k.from);let l=!1;if(!1!==k.type&&(0!==k.duration||k.repeatDelay)||(dt(k),0===k.delay&&(l=!0)),(aR.instantAnimations||aR.skipAnimations||e?.shouldSkipAnimations)&&(l=!0,dt(k),k.delay=0),k.allowFlatten=!h.type&&!h.ease,l&&!f&&void 0!==b.get()){let a=function(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(dA),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return e[f]}(k.keyframes,h);if(void 0!==a)return void aU.update(()=>{k.onUpdate(a),k.onComplete()})}return h.isSync?new dg(k):new dw(k)};function dC(a,b,{delay:c=0,transitionOverride:d,type:e}={}){let{transition:f=a.getDefaultTransition(),transitionEnd:g,...h}=b,i=f?.reduceMotion;d&&(f=d);let j=[],k=e&&a.animationState&&a.animationState.getState()[e];for(let b in h){let d=a.getValue(b,a.latestValues[b]??null),e=h[b];if(void 0===e||k&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(k,b))continue;let g={delay:c,...cl(f||{},b)},l=d.get();if(void 0!==l&&!d.isAnimating&&!Array.isArray(e)&&e===l&&!g.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){let c=a.props[cf];if(c){let a=window.MotionHandoffAnimation(c,b,aU);null!==a&&(g.startTime=a,m=!0)}}cn(a,b);let n=i??a.shouldReduceMotion;d.start(dB(b,d,e,n&&ap.has(b)?{type:!1}:g,a,m));let o=d.animation;o&&j.push(o)}return g&&Promise.all(j).then(()=>{aU.update(()=>{g&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=ck(a,b)||{};for(let b in e={...e,...c}){var f;let c=cm(f=e[b])?f[f.length-1]||0:f;a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,bd(c))}}(a,g)})}),j}function dD(a,b,c,d=0,e=1){let f=Array.from(a).sort((a,b)=>a.sortNodePosition(b)).indexOf(b),g=a.size,h=(g-1)*d;return"function"==typeof c?c(f,g):1===e?f*d:h-f*d}function dE(a,b,c={}){let d=ck(a,b,"exit"===c.type?a.presenceContext?.custom:void 0),{transition:e=a.getDefaultTransition()||{}}=d||{};c.transitionOverride&&(e=c.transitionOverride);let f=d?()=>Promise.all(dC(a,d,c)):()=>Promise.resolve(),g=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:f=0,staggerChildren:g,staggerDirection:h}=e;return function(a,b,c=0,d=0,e=0,f=1,g){let h=[];for(let i of a.variantChildren)i.notify("AnimationStart",b),h.push(dE(i,b,{...g,delay:c+("function"==typeof d?0:d)+dD(a.variantChildren,i,d,e,f)}).then(()=>i.notify("AnimationComplete",b)));return Promise.all(h)}(a,b,d,f,g,h,c)}:()=>Promise.resolve(),{when:h}=e;if(!h)return Promise.all([f(),g(c.delay)]);{let[a,b]="beforeChildren"===h?[f,g]:[g,f];return a().then(()=>b())}}let dF=bk.length;function dG(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}let dH=[...bj].reverse(),dI=bj.length;function dJ(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dK(){return{animate:dJ(!0),whileInView:dJ(),whileHover:dJ(),whileTap:dJ(),whileDrag:dJ(),whileFocus:dJ(),exit:dJ()}}let dL=0;function dM(a){return[a("x"),a("y")]}let dN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),dO=new Set(["INPUT","SELECT","TEXTAREA"]);function dP(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}let dQ={x:!1,y:!1};function dR(a){return a.max-a.min}function dS(a,b,c,d=.5){a.origin=d,a.originPoint=bH(b.min,b.max,a.origin),a.scale=dR(c)/dR(b),a.translate=bH(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function dT(a,b,c,d){dS(a.x,b.x,c.x,d?d.originX:void 0),dS(a.y,b.y,c.y,d?d.originY:void 0)}function dU(a,b,c){a.min=c.min+b.min,a.max=a.min+dR(b)}function dV(a,b,c){a.min=b.min-c.min,a.max=a.min+dR(b)}function dW(a,b,c){dV(a.x,b.x,c.x),dV(a.y,b.y,c.y)}let dX=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary;function dY(a){return{point:{x:a.pageX,y:a.pageY}}}function dZ(a,b,c,d){return dP(a,b,a=>dX(a)&&c(a,dY(a)),d)}let d$=({current:a})=>a?a.ownerDocument.defaultView:null,d_=(a,b)=>Math.abs(a-b),d0=new Set(["auto","scroll"]);class d1{constructor(a,b,{transformPagePoint:c,contextWindow:d=window,dragSnapToOrigin:e=!1,distanceThreshold:f=3,element:g}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=a=>{this.handleScroll(a.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var a,b;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let c=d4(this.lastMoveEventInfo,this.history),d=null!==this.startEvent,e=(a=c.offset,b={x:0,y:0},Math.sqrt(d_(a.x,b.x)**2+d_(a.y,b.y)**2)>=this.distanceThreshold);if(!d&&!e)return;let{point:f}=c,{timestamp:g}=aW;this.history.push({...f,timestamp:g});let{onStart:h,onMove:i}=this.handlers;d||(h&&h(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,c)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=d2(b,this.transformPagePoint),aU.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=d4("pointercancel"===a.type?this.lastMoveEventInfo:d2(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!dX(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.distanceThreshold=f,this.contextWindow=d||window;const h=d2(dY(a),this.transformPagePoint),{point:i}=h,{timestamp:j}=aW;this.history=[{...i,timestamp:j}];const{onSessionStart:k}=b;k&&k(a,d4(h,this.history)),this.removeListeners=cq(dZ(this.contextWindow,"pointermove",this.handlePointerMove),dZ(this.contextWindow,"pointerup",this.handlePointerUp),dZ(this.contextWindow,"pointercancel",this.handlePointerUp)),g&&this.startScrollTracking(g)}startScrollTracking(a){let b=a.parentElement;for(;b;){let a=getComputedStyle(b);(d0.has(a.overflowX)||d0.has(a.overflowY))&&this.scrollPositions.set(b,{x:b.scrollLeft,y:b.scrollTop}),b=b.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(a){let b=this.scrollPositions.get(a);if(!b)return;let c=a===window,d=c?{x:window.scrollX,y:window.scrollY}:{x:a.scrollLeft,y:a.scrollTop},e={x:d.x-b.x,y:d.y-b.y};(0!==e.x||0!==e.y)&&(c?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=e.x,this.lastMoveEventInfo.point.y+=e.y):this.history.length>0&&(this.history[0].x-=e.x,this.history[0].y-=e.y),this.scrollPositions.set(a,d),aU.update(this.updatePoint,!0))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),aV(this.updatePoint)}}function d2(a,b){return b?{point:b(a.point)}:a}function d3(a,b){return{x:a.x-b.x,y:a.y-b.y}}function d4({point:a},b){return{point:a,delta:d3(a,d5(b)),offset:d3(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=d5(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>co(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function d5(a){return a[a.length-1]}function d6(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function d7(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function d8(a,b,c){return{min:d9(a,b),max:d9(a,c)}}function d9(a,b){return"number"==typeof a?a:a[b]||0}let ea=new WeakMap;class eb{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=a}start(a,{snapToCursor:b=!1,distanceThreshold:c}={}){let{presenceContext:d}=this.visualElement;if(d&&!1===d.isPresent)return;let e=a=>{b?(this.stopAnimation(),this.snapToCursor(dY(a).point)):this.pauseAnimation()},f=(a,b)=>{this.stopAnimation();let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(dQ[a])return null;else return dQ[a]=!0,()=>{dQ[a]=!1};return dQ.x||dQ.y?null:(dQ.x=dQ.y=!0,()=>{dQ.x=dQ.y=!1})}(c),!this.openDragLock))return;this.latestPointerEvent=a,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dM(a=>{let b=this.getAxisMotionValue(a).get()||0;if(O.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=dR(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&aU.update(()=>e(a,b),!1,!0),cn(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},g=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b;let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&aU.update(()=>f(a,b),!1,!0)},h=(a,b)=>{this.latestPointerEvent=a,this.latestPanInfo=b,this.stop(a,b),this.latestPointerEvent=null,this.latestPanInfo=null},i=()=>dM(a=>"paused"===this.getAnimationState(a)&&this.getAxisMotionValue(a).animation?.play()),{dragSnapToOrigin:j}=this.getProps();this.panSession=new d1(a,{onSessionStart:e,onStart:f,onMove:g,onSessionEnd:h,resumeAnimation:i},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:j,distanceThreshold:c,contextWindow:d$(this.visualElement),element:this.visualElement.current})}stop(a,b){let c=a||this.latestPointerEvent,d=b||this.latestPanInfo,e=this.isDragging;if(this.cancel(),!e||!d||!c)return;let{velocity:f}=d;this.startAnimation(f);let{onDragEnd:g}=this.getProps();g&&aU.postRender(()=>g(c,d))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!ec(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?bH(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?bH(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){let{dragConstraints:a,dragElastic:b}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;a&&ch(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&c?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:d6(a.x,c,e),y:d6(a.y,b,d)}}(c.layoutBox,a):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:d8(a,"left","right"),y:d8(a,"top","bottom")}}(b),d!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&dM(a=>{var b,d;let e;!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=(b=c.layoutBox[a],d=this.constraints[a],e={},void 0!==d.min&&(e.min=d.min-b.min),void 0!==d.max&&(e.max=d.max-b.min),e))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!ch(b))return!1;let d=b.current;au(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=bY(a,c),{scroll:e}=b;return e&&(bV(d.x,e.offset.x),bV(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:d7(a.x,f.x),y:d7(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=bN(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(dM(g=>{if(!ec(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return cn(this.visualElement,a),c.start(dB(a,c,0,b,this.visualElement,!1))}stopAnimation(){dM(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){dM(a=>this.getAxisMotionValue(a).animation?.pause())}getAnimationState(a){return this.getAxisMotionValue(a).animation?.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){dM(b=>{let{drag:c}=this.getProps();if(!ec(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b],g=e.get()||0;e.set(a[b]-bH(c,f,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!ch(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};dM(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){var c,e;let f,g,h,i=b.get();d[a]=(c={min:i,max:i},e=this.constraints[a],f=.5,g=dR(c),(h=dR(e))>g?f=c8(e.min,e.max-g,c.min):g>h&&(f=c8(c.min,c.max-h,e.min)),A(0,1,f))}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),dM(b=>{if(!ec(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(bH(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;ea.set(this.visualElement,this);let a=this.visualElement.current,b=dZ(a,"pointerdown",b=>{let{drag:c,dragListener:d=!0}=this.getProps(),e=b.target,f=e!==a&&(dO.has(e.tagName)||!0===e.isContentEditable);c&&d&&!f&&this.start(b)}),c=()=>{let{dragConstraints:a}=this.getProps();ch(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,e=d.addEventListener("measure",c);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),aU.read(c);let f=dP(window,"resize",()=>this.scalePositionWithinConstraints()),g=d.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(dM(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{f(),b(),e(),g&&g()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function ec(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}let ed=a=>(b,c)=>{a&&aU.update(()=>a(b,c),!1,!0)},ee={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var ef=g;let eg=!1;class eh extends ef.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),eg&&e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ee.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,{projection:f}=c;return f&&(f.isPresent=e,a.layoutDependency!==b&&f.setOptions({...f.options,layoutDependency:b}),eg=!0,d||a.layoutDependency!==b||void 0===b||a.isPresent!==e?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||aU.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),a9.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;eg=!0,d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function ei(a){let[b,c]=u(),d=(0,ef.useContext)(h);return(0,f.jsx)(eh,{...a,layoutGroup:d,switchLayoutGroup:(0,ef.useContext)(cg),isPresent:b,safeToRemove:c})}function ej(a){return l(a)&&"ownerSVGElement"in a}let ek=["TopLeft","TopRight","BottomLeft","BottomRight"],el=ek.length,em=a=>"string"==typeof a?parseFloat(a):a,en=a=>"number"==typeof a||P.test(a);function eo(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let ep=er(0,.5,c3),eq=er(.5,.95,aQ);function er(a,b,c){return d=>d<a?0:d>b?1:c(c8(a,b,d))}function es(a,b){a.min=b.min,a.max=b.max}function et(a,b){es(a.x,b.x),es(a.y,b.y)}function eu(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function ev(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function ew(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(O.test(b)&&(b=parseFloat(b),b=bH(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=bH(f.min,f.max,d);a===f&&(h-=b),a.min=ev(a.min,b,c,h,e),a.max=ev(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let ex=["x","scaleX","originX"],ey=["y","scaleY","originY"];function ez(a,b,c,d){ew(a.x,b,ex,c?c.x:void 0,d?d.x:void 0),ew(a.y,b,ey,c?c.y:void 0,d?d.y:void 0)}function eA(a){return 0===a.translate&&1===a.scale}function eB(a){return eA(a.x)&&eA(a.y)}function eC(a,b){return a.min===b.min&&a.max===b.max}function eD(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function eE(a,b){return eD(a.x,b.x)&&eD(a.y,b.y)}function eF(a){return dR(a.x)/dR(a.y)}function eG(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}class eH{constructor(){this.members=[]}add(a){a6(this.members,a),a.scheduleRender()}remove(a){if(a7(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender();let d=c.options.layoutDependency,e=a.options.layoutDependency;(void 0===d||void 0===e||d!==e)&&(a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0));let{crossfade:f}=a.options;!1===f&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let eI=(a,b)=>a.depth-b.depth;class eJ{constructor(){this.children=[],this.isDirty=!1}add(a){a6(this.children,a),this.isDirty=!0}remove(a){a7(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(eI),this.isDirty=!1,this.children.forEach(a)}}let eK=["","X","Y","Z"],eL=0;function eM(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function eN({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=b?.()){this.id=eL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eQ),this.nodes.forEach(eX),this.nodes.forEach(eY),this.nodes.forEach(eR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new eJ)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new a8),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b){if(this.instance)return;this.isSVG=ej(b)&&!(ej(b)&&"svg"===b.tagName),this.instance=b;let{layoutId:c,layout:d,visualElement:e}=this.options;if(e&&!e.current&&e.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),a){let c,d=0,e=()=>this.root.updateBlockedByResize=!1;aU.read(()=>{d=window.innerWidth}),a(b,()=>{let a=window.innerWidth;if(a!==d){let b,f;d=a,this.root.updateBlockedByResize=!0,c&&c(),b=bb.now(),f=({timestamp:a})=>{let c=a-b;c>=250&&(aV(f),e(c-250))},aU.setup(f,!0),c=()=>aV(f),ee.hasAnimatedSinceResize&&(ee.hasAnimatedSinceResize=!1,this.nodes.forEach(eW))}})}c&&this.root.registerSharedNode(c,this),!1!==this.options.animate&&e&&(c||d)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeLayoutChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let f=this.options.transition||e.getDefaultTransition()||e2,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=e.getProps(),i=!this.targetLayout||!eE(this.targetLayout,d),j=!b&&c;if(this.options.layoutRoot||this.resumeFrom||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let b={...cl(f,"layout"),onPlay:g,onComplete:h};(e.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(a,j)}else b||eW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aV(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eZ),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[cf];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",aU,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eT);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(eU);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eV),this.nodes.forEach(eO),this.nodes.forEach(eP)):this.nodes.forEach(eU),this.clearAllSnapshots();let a=bb.now();aW.delta=A(0,1e3/60,a-aW.timestamp),aW.timestamp=a,aW.isProcessing=!0,aX.update.process(aW),aX.preRender.process(aW),aX.render.process(aW),aW.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eS),this.sharedNodes.forEach(e$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aU.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aU.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||dR(this.snapshot.measuredBox.x)||dR(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b&&this.instance){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!eB(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(b||bQ(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),e5((b=d).x),e5(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:a}=this.options;if(!a)return an();let b=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(e7))){let{scroll:a}=this.root;a&&(bV(b.x,a.offset.x),bV(b.y,a.offset.y))}return b}removeElementScroll(a){let b=an();if(et(b,a),this.scroll?.wasRoot)return b;for(let c=0;c<this.path.length;c++){let d=this.path[c],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&et(b,a),bV(b.x,e.offset.x),bV(b.y,e.offset.y))}return b}applyTransform(a,b=!1){let c=an();et(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bX(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bQ(d.latestValues)&&bX(c,d.latestValues)}return bQ(this.latestValues)&&bX(c,this.latestValues),c}removeTransform(a){let b=an();et(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!bQ(c.latestValues))continue;bP(c.latestValues)&&c.updateSnapshot();let d=an();et(d,c.measurePageBox()),ez(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return bQ(this.latestValues)&&ez(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==aW.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){let b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);let c=!!this.resumingFrom||this!==b;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:d,layoutId:e}=this.options;if(!this.layout||!(d||e))return;this.resolvedRelativeTargetAt=aW.timestamp;let f=this.getClosestProjectingParent();if(f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var g,h,i;this.forceRelativeParentToResolveTarget(),g=this.target,h=this.relativeTarget,i=this.relativeParent.target,dU(g.x,h.x,i.x),dU(g.y,h.y,i.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):et(this.target,this.layout.layoutBox),bU(this.target,this.targetDelta)):et(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||bP(this.parent.latestValues)||bR(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,b,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),dW(this.relativeTargetOrigin,b,c),et(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let a=this.getLead(),b=!!this.resumingFrom||this!==a,c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===aW.timestamp&&(c=!1),c)return;let{layout:d,layoutId:e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||e))return;et(this.layoutCorrected,this.layout.layoutBox);let f=this.treeScale.x,g=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&bX(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,bU(a,f)),d&&bQ(e.latestValues)&&bX(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,b),a.layout&&!a.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=an());let{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(eu(this.prevProjectionDelta.x,this.projectionDelta.x),eu(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dT(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.treeScale.x===f&&this.treeScale.y===g&&eG(this.projectionDelta.x,this.prevProjectionDelta.x)&&eG(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=al();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=an(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(e1));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(e_(g.x,a.x,d),e_(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;dW(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,e0(n.x,o.x,p.x,q),e0(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,eC(j.x,m.x)&&eC(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=an()),et(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=bH(0,c.opacity??1,ep(d)),a.opacityExit=bH(b.opacity??1,0,eq(d))):f&&(a.opacity=bH(b.opacity??1,c.opacity??1,d));for(let e=0;e<el;e++){let f=`border${ek[e]}Radius`,g=eo(b,f),h=eo(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||en(g)===en(h)?(a[f]=Math.max(bH(em(g),em(h),d),0),(O.test(h)||O.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=bH(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(aV(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aU.update(()=>{var b,c,d;let e;ee.hasAnimatedSinceResize=!0,cr.layout++,this.motionValue||(this.motionValue=bd(0)),this.currentAnimation=(b=this.motionValue,c=[0,1e3],d={...a,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onStop:()=>{cr.layout--},onComplete:()=>{cr.layout--,a.onComplete&&a.onComplete(),this.completeAnimation()}},(e=ao(b)?b:bd(b)).start(dB("",e,c,d)),e.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&e6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||an();let b=dR(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=dR(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}et(b,c),bX(b,e),dT(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eH),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){let{layoutId:a}=this.options;return a&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&eM("z",a,d,this.animationValues);for(let b=0;b<eK.length;b++)eM(`rotate${eK[b]}`,a,d,this.animationValues),eM(`skew${eK[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}applyProjectionStyles(a,b){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}let c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=b8(b?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}let d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,a.pointerEvents=b8(b?.pointerEvents)||""),this.hasProjected&&!bQ(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";let e=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=c?.z||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,e);c&&(f=c(e,f)),a.transform=f;let{x:g,y:h}=this.projectionDelta;for(let b in a.transformOrigin=`${100*g.origin}% ${100*h.origin}% 0`,d.animationValues?a.opacity=d===this?e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:e.opacityExit:a.opacity=d===this?void 0!==e.opacity?e.opacity:"":void 0!==e.opacityExit?e.opacityExit:0,bI){if(void 0===e[b])continue;let{correct:c,applyTo:g,isCSSVariable:h}=bI[b],i="none"===f?e[b]:c(e[b],d);if(g){let b=g.length;for(let c=0;c<b;c++)a[g[c]]=i}else h?this.options.visualElement.renderState.vars[b]=i:a[b]=i}this.options.layoutId&&(a.pointerEvents=d===this?b8(b?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(eT),this.root.sharedNodes.clear()}}}function eO(a){a.updateLayout()}function eP(a){let b=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&b&&a.hasListeners("didUpdate")){let{layoutBox:c,measuredBox:d}=a.layout,{animationType:e}=a.options,f=b.source!==a.layout.source;"size"===e?dM(a=>{let d=f?b.measuredBox[a]:b.layoutBox[a],e=dR(d);d.min=c[a].min,d.max=d.min+e}):e6(e,b.layoutBox,c)&&dM(d=>{let e=f?b.measuredBox[d]:b.layoutBox[d],g=dR(c[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=al();dT(g,c,b.layoutBox);let h=al();f?dT(h,a.applyTransform(d,!0),b.measuredBox):dT(h,c,b.layoutBox);let i=!eB(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=an();dW(g,b.layoutBox,e.layoutBox);let h=an();dW(h,c,f.layoutBox),eE(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:b,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeLayoutChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function eQ(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function eR(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function eS(a){a.clearSnapshot()}function eT(a){a.clearMeasurements()}function eU(a){a.isLayoutDirty=!1}function eV(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function eW(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function eX(a){a.resolveTargetDelta()}function eY(a){a.calcProjection()}function eZ(a){a.resetSkewAndRotation()}function e$(a){a.removeLeadSnapshot()}function e_(a,b,c){a.translate=bH(b.translate,0,c),a.scale=bH(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function e0(a,b,c,d){a.min=bH(b.min,c.min,d),a.max=bH(b.max,c.max,d)}function e1(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let e2={duration:.45,ease:[.4,0,.1,1]},e3=a=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),e4=e3("applewebkit/")&&!e3("chrome/")?Math.round:aQ;function e5(a){a.min=e4(a.min),a.max=e4(a.max)}function e6(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(eF(b)-eF(c)))}function e7(a){return a!==a.root&&a.scroll?.wasRoot}let e8=eN({attachResizeListener:(a,b)=>dP(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),e9={current:void 0},fa=eN({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!e9.current){let a=new e8({});a.mount(window),a.setOptions({layoutScroll:!0}),e9.current=a}return e9.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function fb(a,b){let c=function(a,b,c){if(null==a)return[];if(a instanceof EventTarget)return[a];if("string"==typeof a){let b=document,c=(void 0)??b.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a).filter(a=>null!=a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function fc(a){return!("touch"===a.pointerType||dQ.x||dQ.y)}function fd(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&aU.postRender(()=>e(b,dY(b)))}let fe=(a,b)=>!!b&&(a===b||fe(a,b.parentElement)),ff=new WeakSet;function fg(a){return b=>{"Enter"===b.key&&a(b)}}function fh(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function fi(a){return dX(a)&&!(dQ.x||dQ.y)}function fj(a,b,c){let{props:d}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&aU.postRender(()=>e(b,dY(b)))}let fk=new WeakMap,fl=new WeakMap,fm=a=>{let b=fk.get(a.target);b&&b(a)},fn=a=>{a.forEach(fm)},fo={some:0,all:1},fp=function(a,b){if("u"<typeof Proxy)return ci;let c=new Map,d=(c,d)=>ci(c,d,a,b);return new Proxy((a,b)=>d(a,b),{get:(e,f)=>"create"===f?d:(c.has(f)||c.set(f,ci(f,void 0,a,b)),c.get(f))})}({animation:{Feature:class extends cj{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>dE(a,b,c)));else if("string"==typeof b)d=dE(a,b,c);else{let e="function"==typeof b?ck(a,b,c.custom):b;d=Promise.all(dC(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=dK(),d=!0,e=b=>(c,d)=>{let e=ck(a,d,"exit"===b?a.presenceContext?.custom:void 0);if(e){let{transition:a,transitionEnd:b,...d}=e;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<dF;a++){let d=bk[a],e=b.props[d];(bi(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<dI;b++){var m,n;let o=dH[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=bi(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||bh(q)||"boolean"==typeof q)continue;let u=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!dG(n,m)),v=u||o===f&&p.isActive&&!t&&r||b>l&&r,w=!1,x=Array.isArray(q)?q:[q],y=x.reduce(e(o),{});!1===s&&(y={});let{prevResolvedValues:z={}}=p,A={...z,...y},B=b=>{v=!0,j.has(b)&&(w=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in A){let b=y[a],c=z[a];if(!k.hasOwnProperty(a))(cm(b)&&cm(c)?dG(b,c):b===c)?void 0!==b&&j.has(a)?B(a):p.protectedKeys[a]=!0:null!=b?B(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=y,p.isActive&&(k={...k,...y}),d&&a.blockInitialAnimation&&(v=!1);let C=t&&u,D=!C||w;v&&D&&i.push(...x.map(b=>{let c={type:o};if("string"==typeof b&&d&&!C&&a.manuallyAnimateOnMount&&a.parent){let{parent:d}=a,e=ck(d,b);if(d.enteringChildren&&e){let{delayChildren:b}=e.transition||{};c.delay=dD(d.enteringChildren,a,b)}}return{animation:b,options:c}}))}if(j.size){let b={};if("boolean"!=typeof g.initial){let c=ck(a,Array.isArray(g.initial)?g.initial[0]:g.initial);c&&c.transition&&(b.transition=c.transition)}j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=d??null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){if(c[b].isActive===d)return Promise.resolve();a.variantChildren?.forEach(a=>a.animationState?.setActive(b,d)),c[b].isActive=d;let e=f(b);for(let a in c)c[a].protectedKeys={};return e},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=dK()}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();bh(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends cj{constructor(){super(...arguments),this.id=dL++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>{b(this.id)})}mount(){let{register:a,onExitComplete:b}=this.node.presenceContext||{};b&&b(this.id),a&&(this.unmount=a(this.id))}unmount(){}}},inView:{Feature:class extends cj{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var a;let b;this.unmount();let{viewport:c={}}=this.node.getProps(),{root:d,margin:e,amount:f="some",once:g}=c,h={root:d?d.current:void 0,rootMargin:e,threshold:"number"==typeof f?f:fo[f]},i=a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,g&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),e=b?c:d;e&&e(a)};return a=this.node.current,b=function({root:a,...b}){let c=a||document;fl.has(c)||fl.set(c,{});let d=fl.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(fn,{root:a,...b})),d[e]}(h),fk.set(a,i),b.observe(a),()=>{fk.delete(a),b.unobserve(a)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends cj{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=fb(a,c),g=a=>{let d=a.currentTarget;if(!fi(a))return;ff.add(d);let f=b(d,a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),ff.has(d)&&ff.delete(d),fi(a)&&"function"==typeof f&&f(a,{success:b})},h=a=>{g(a,d===window||d===document||c.useGlobalTarget||fe(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{((c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),m(a))&&(a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=fg(()=>{if(ff.has(c))return;fh(c,"down");let a=fg(()=>{fh(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>fh(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e)),dN.has(a.tagName)||!0===a.isContentEditable||a.hasAttribute("tabindex")||(a.tabIndex=0))}),f}(a,(a,b)=>(fj(this.node,b,"Start"),(a,{success:b})=>fj(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends cj{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cq(dP(this.node.current,"focus",()=>this.onFocus()),dP(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends cj{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=fb(a,c),g=a=>{if(!fc(a))return;let{target:c}=a,d=b(c,a);if("function"!=typeof d||!c)return;let f=a=>{fc(a)&&(d(a),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,e)};return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,(a,b)=>(fd(this.node,b,"Start"),a=>fd(this.node,a,"End"))))}unmount(){}}},pan:{Feature:class extends cj{constructor(){super(...arguments),this.removePointerDownListener=aQ}onPointerDown(a){this.session=new d1(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d$(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:ed(a),onStart:ed(b),onMove:ed(c),onEnd:(a,b)=>{delete this.session,d&&aU.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=dZ(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends cj{constructor(a){super(a),this.removeGroupControls=aQ,this.removeListeners=aQ,this.controls=new eb(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||aQ}update(){let{dragControls:a}=this.node.getProps(),{dragControls:b}=this.node.prevProps||{};a!==b&&(this.removeGroupControls(),a&&(this.removeGroupControls=a.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:fa,MeasureLayout:ei},layout:{ProjectionNode:fa,MeasureLayout:ei}},(a,b)=>b.isSVG??b_(a)?new bM(b):new bZ(b,{allowProjection:a!==g.Fragment}));var fq=a.i(19272),fr=a.i(10510),fs=a.i(71917);a.i(31247);var ft=a.i(71404);a.i(13440),a.i(46736),a.i(72854),a.i(874),a.i(30683),new fr.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new fr.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a.i(39704),a.i(72765);var fu=a.i(32198);fu.rustEnum([fu.struct([],"uninitialized"),fu.struct([fu.option(fu.publicKey(),"authorityAddress")],"buffer"),fu.struct([fu.publicKey("programdataAddress")],"program"),fu.struct([fu.u64("slot"),fu.option(fu.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,fu.u32());var fv=a.i(19993);a.i(73134),new fr.PublicKey("11111111111111111111111111111111"),fs.isBrowser||(exports.workspace=a.r(31105).default,exports.Wallet=a.r(31858).default);var fw=fv;a.i(97466),a.i(93291),a.i(71628);var fx=a.i(78987),fy=a.i(9505),fz=a.i(83824);a.s(["AccountClient",()=>fy.AccountClient,"MethodsBuilderFactory",()=>fz.MethodsBuilderFactory,"default",()=>fx.default],64660),a.i(64660);var fw=fv;let fA=new fr.PublicKey("11111111111111111111111111111111"),fB=(a,b)=>{let c,d=(c=new fr.Connection((0,fr.clusterApiUrl)("devnet"),"confirmed"),new ft.AnchorProvider(c,a,ft.AnchorProvider.defaultOptions())),e={...b,address:fA.toBase58()};return new fw.Program(e,d)},fC=async a=>{let b=await a.arrayBuffer();return new Uint8Array(await crypto.subtle.digest("SHA-256",b))},fD=async a=>"Qm"+Math.random().toString(36).substring(2,46),fE=async(a,b)=>{let c=fB(a,b);try{return(await c.account.realityProof.all([{memcmp:{offset:8,bytes:a.publicKey.toBase58()}}])).map(a=>({id:a.publicKey.toBase58(),owner:a.account.owner.toBase58(),hash:Buffer.from(a.account.imageHash).toString("hex"),cid:a.account.ipfsCid,timestamp:a.account.timestamp.toNumber(),url:`https://gateway.pinata.cloud/ipfs/${a.account.ipfsCid}`,isMinted:!0,rotation:(Math.random()-.5)*10}))}catch(a){return[]}},fF=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),fG=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var fH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let fI=(0,g.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:h,...i},j)=>(0,g.createElement)("svg",{ref:j,...fH,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:fF("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(i)&&{"aria-hidden":"true"},...i},[...h.map(([a,b])=>(0,g.createElement)(a,b)),...Array.isArray(f)?f:[f]])),fJ=(a,b)=>{let c=(0,g.forwardRef)(({className:c,...d},e)=>(0,g.createElement)(fI,{ref:e,iconNode:b,className:fF(`lucide-${fG(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=fG(a),c},fK=fJ("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fL=fJ("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var fM=a.i(40448),fN=a.i(61702);function fO({walletIcon:a,walletName:b,...c}){return g.default.createElement(fM.Button,{...c,className:"wallet-adapter-button-trigger",startIcon:a&&b?g.default.createElement(fN.WalletIcon,{wallet:{adapter:{icon:a,name:b}}}):void 0})}var fP=a.i(86969);function fQ({children:a,labels:b,...c}){let{setVisible:d}=(0,fP.useWalletModal)(),{buttonState:e,onConnect:f,onDisconnect:h,publicKey:i,walletIcon:j,walletName:k}=function({onSelectWallet:a}){let b,{connect:c,connected:d,connecting:e,disconnect:f,disconnecting:h,publicKey:i,select:j,wallet:k,wallets:l}=(0,fq.useWallet)();b=e?"connecting":d?"connected":h?"disconnecting":k?"has-wallet":"no-wallet";let m=(0,g.useCallback)(()=>{c().catch(()=>{})},[c]),n=(0,g.useCallback)(()=>{f().catch(()=>{})},[f]);return{buttonState:b,onConnect:"has-wallet"===b?m:void 0,onDisconnect:"disconnecting"!==b&&"no-wallet"!==b?n:void 0,onSelectWallet:(0,g.useCallback)(()=>{a({onSelectWallet:j,wallets:l})},[a,j,l]),publicKey:i??void 0,walletIcon:k?.adapter.icon,walletName:k?.adapter.name}}({onSelectWallet(){d(!0)}}),[l,m]=(0,g.useState)(!1),[n,o]=(0,g.useState)(!1),p=(0,g.useRef)(null);(0,g.useEffect)(()=>{let a=a=>{let b=p.current;!b||b.contains(a.target)||o(!1)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}},[]);let q=(0,g.useMemo)(()=>{if(a)return a;if(i){let a=i.toBase58();return a.slice(0,4)+".."+a.slice(-4)}return"connecting"===e||"has-wallet"===e?b[e]:b["no-wallet"]},[e,a,b,i]);return g.default.createElement("div",{className:"wallet-adapter-dropdown"},g.default.createElement(fO,{...c,"aria-expanded":n,style:{pointerEvents:n?"none":"auto",...c.style},onClick:()=>{switch(e){case"no-wallet":d(!0);break;case"has-wallet":f&&f();break;case"connected":o(!0)}},walletIcon:j,walletName:k},q),g.default.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${n&&"wallet-adapter-dropdown-list-active"}`,ref:p,role:"menu"},i?g.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(i.toBase58()),m(!0),setTimeout(()=>m(!1),400)},role:"menuitem"},l?b.copied:b["copy-address"]):null,g.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{d(!0),o(!1)},role:"menuitem"},b["change-wallet"]),h?g.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{h(),o(!1)},role:"menuitem"},b.disconnect):null))}let fR={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function fS(a){return g.default.createElement(fQ,{...a,labels:fR})}let fT=({onClick:a,children:b,variant:c="primary",className:d=""})=>(0,f.jsx)("button",{onClick:a,className:`px-6 py-4 rounded-xl font-bold transition-all active:scale-95 shadow-lg flex items-center justify-center gap-3 uppercase tracking-widest text-[10px] ${{primary:"bg-[#2A2A2A] text-[#F6F3EE] hover:bg-black",secondary:"bg-[#F6F3EE] text-[#2A2A2A] border border-[#D9D4CC] hover:bg-[#EFE9E1]",danger:"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100",ghost:"bg-transparent text-[#2A2A2A] hover:bg-black/5"}[c]} ${d}`,children:b}),fU=({setScreen:a,galleryLength:b,connected:c,publicKey:d,disconnect:e})=>(0,f.jsxs)(fp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col items-center justify-center p-8 desk-bg relative overflow-hidden",children:[(0,f.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20 pointer-events-none",children:[(0,f.jsx)("div",{className:"absolute top-[10%] left-[-10%] rotate-[-12deg] w-48 h-56 bg-white shadow-2xl border border-gray-100 p-2",children:(0,f.jsx)("div",{className:"w-full aspect-square bg-[#EFE9E1]"})}),(0,f.jsx)("div",{className:"absolute top-[40%] right-[-15%] rotate-[8deg] w-52 h-60 bg-white shadow-2xl border border-gray-100 p-2",children:(0,f.jsx)("div",{className:"w-full aspect-square bg-[#EAE3D9]"})}),(0,f.jsx)("div",{className:"absolute bottom-[5%] left-[5%] rotate-[15deg] w-44 h-52 bg-white shadow-2xl border border-gray-100 p-2",children:(0,f.jsx)("div",{className:"w-full aspect-square bg-[#F1EBE2]"})})]}),(0,f.jsxs)("div",{className:"z-10 text-center flex flex-col items-center w-full max-w-xs",children:[(0,f.jsxs)("header",{className:"mb-12 flex flex-col items-center",children:[(0,f.jsx)("img",{src:"/logo.png",alt:"Keep It Real Logo",className:"w-48 h-auto mb-6 opacity-90 drop-shadow-sm"}),(0,f.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,f.jsx)("span",{className:"h-[1px] w-4 bg-[#D9D4CC]"}),(0,f.jsx)("p",{className:"text-[#A09E96] tracking-[0.4em] uppercase text-[7px] font-bold",children:"Authentic Memories"}),(0,f.jsx)("span",{className:"h-[1px] w-4 bg-[#D9D4CC]"})]})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-6 w-full",children:[(0,f.jsxs)(fT,{onClick:()=>a("camera"),className:"w-full h-16 shadow-[0_20px_40px_-10px_rgba(0,0,0,0.15)] bg-[#2A2A2A] hover:bg-black transition-all",children:[(0,f.jsx)(fK,{size:18,strokeWidth:2.5})," Capture Real Moment"]}),(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)("p",{className:"text-[#A09E96] text-[8px] uppercase tracking-[0.2em] font-bold",children:"Only real-time photos allowed"})}),(0,f.jsx)("div",{className:"mt-4 pt-8 border-t border-[#D9D4CC]/50",children:(0,f.jsxs)(fT,{onClick:()=>a("gallery"),variant:"secondary",className:"w-full h-12 bg-white/50 border-none shadow-sm",children:[(0,f.jsx)(fL,{size:14})," View Scrapbook (",b,")"]})})]}),c?(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2 mt-8",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/40 rounded-full border border-white/50",children:[(0,f.jsx)("div",{className:"w-1.5 h-1.5 bg-[#3FA37C] rounded-full"}),(0,f.jsxs)("span",{className:"text-[8px] font-bold text-[#A09E96] uppercase tracking-widest leading-none",children:[d?.toBase58().slice(0,4),"...",d?.toBase58().slice(-4)]})]}),(0,f.jsx)("button",{onClick:()=>e(),className:"text-[9px] uppercase tracking-widest font-bold text-[#A09E96] hover:text-[#2A2A2A] transition-colors",children:"Disconnect"})]}):(0,f.jsx)("div",{className:"mt-12 scale-90 opacity-80 transition-opacity hover:opacity-100",children:(0,f.jsx)(fS,{className:"!bg-[#2A2A2A] !rounded-xl !h-12 !font-bold !text-[9px] !uppercase !tracking-widest"})})]})]},"home"),fV=fJ("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fW=fJ("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fX=fJ("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fY=fJ("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),fZ=fJ("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f$=({setScreen:a,videoRef:b,canvasRef:c,cameraSettings:d,setCameraSettings:e,capturePhoto:g})=>(0,f.jsxs)(fp.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"flex-1 bg-[#1a1a1a] flex flex-col relative overflow-hidden",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center px-6 pt-12 pb-6 text-[#F6F3EE] z-20",children:[(0,f.jsx)("button",{onClick:()=>a("home"),className:"w-10 h-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,f.jsx)(fV,{size:20})}),(0,f.jsxs)("div",{className:"flex gap-3 bg-black/30 backdrop-blur-xl p-1.5 rounded-full border border-white/10",children:[(0,f.jsx)("button",{onClick:()=>e(a=>({...a,flash:!a.flash})),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all ${d.flash?"bg-[#3FA37C] text-white shadow-[0_0_15px_rgba(63,163,124,0.4)]":"hover:bg-white/10 text-white/60"}`,children:(0,f.jsx)(fW,{size:18,fill:d.flash?"currentColor":"none"})}),(0,f.jsx)("button",{onClick:()=>e(a=>({...a,timer:3*(0===a.timer)})),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all ${d.timer>0?"bg-[#3FA37C] text-white":"hover:bg-white/10 text-white/60"}`,children:(0,f.jsx)(fX,{size:18})})]})]}),(0,f.jsx)("div",{className:"flex-1 relative flex items-center justify-center p-8",children:(0,f.jsxs)("div",{className:"w-full max-w-sm aspect-square relative border-[16px] border-[#F6F3EE] shadow-[0_40px_80px_-20px_rgba(0,0,0,0.6)] rounded-[4px] overflow-hidden group",children:[(0,f.jsx)("video",{ref:b,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover grayscale-[0.2] contrast-[1.1]"}),(0,f.jsx)("div",{className:"absolute inset-0 border-[1px] border-black/10 pointer-events-none"}),(0,f.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/20 pointer-events-none"}),(0,f.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 px-2.5 py-1.5 bg-black/60 backdrop-blur-md rounded-full",children:[(0,f.jsx)(fp.div,{animate:{opacity:[1,.4,1]},transition:{repeat:1/0,duration:1.5},className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),(0,f.jsx)("span",{className:"text-[7px] text-white font-black tracking-[0.2em] uppercase",children:"Real Time Only"})]}),(0,f.jsx)("div",{className:"absolute bottom-4 right-4 text-white/40",children:(0,f.jsx)(fY,{size:14})})]})}),(0,f.jsxs)("div",{className:"h-56 bg-[#0a0a0a] flex flex-col items-center justify-center gap-6 relative",children:[(0,f.jsx)("div",{className:"absolute top-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,f.jsxs)("div",{className:"flex items-center gap-12",children:[(0,f.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/10 flex items-center justify-center grayscale opacity-40",children:(0,f.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/20"})}),(0,f.jsxs)("button",{onClick:g,className:"group relative w-24 h-24",children:[(0,f.jsx)("div",{className:"absolute inset-0 rounded-full bg-[#333] shadow-inner scale-110"}),(0,f.jsx)("div",{className:"absolute inset-1.5 rounded-full bg-[#fcfcfc] border-[6px] border-[#D9D4CC] shadow-[0_10px_30px_rgba(0,0,0,0.5)] group-active:scale-95 group-active:bg-gray-200 transition-all flex items-center justify-center",children:(0,f.jsx)("div",{className:"w-12 h-12 rounded-full border border-black/5"})})]}),(0,f.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/10 flex items-center justify-center grayscale opacity-40",children:(0,f.jsx)(fZ,{size:20,className:"text-white"})})]}),(0,f.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,f.jsx)("p",{className:"text-white/40 text-[8px] uppercase tracking-[0.4em] font-black",children:"Real. Unfiltered. Permanent."}),(0,f.jsx)("div",{className:"h-1 w-12 bg-[#3FA37C]/40 rounded-full"})]})]}),(0,f.jsx)("canvas",{ref:c,className:"hidden"})]},"camera"),f_=({value:a,onChange:b,placeholder:c="Write a memory...",className:d=""})=>(0,f.jsxs)("div",{className:`relative ${d}`,children:[(0,f.jsx)("textarea",{value:a,onChange:a=>b(a.target.value),placeholder:c,className:"w-full bg-transparent border-none outline-none font-typewriter text-[#2A2A2A]/80 resize-none min-h-[60px] p-0 text-center text-sm leading-relaxed placeholder:text-[#2A2A2A]/20",maxLength:100}),(0,f.jsx)("div",{className:"absolute -bottom-1 left-0 right-0 h-[1px] bg-[#2A2A2A]/10 scale-x-75 mx-auto"})]}),f0=({imageSrc:a,caption:b="",isDeveloping:c=!1,timestamp:d,isMinted:e=!1,rotation:g=(Math.random()-.5)*4,className:h="",onCaptionChange:i,editable:j=!1})=>(0,f.jsxs)("div",{className:`polaroid-card paper-texture transition-transform duration-500 scale-100 hover:scale-[1.02] ${h}`,style:{transform:`rotate(${g}deg)`,boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1), 0 10px 20px -5px rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.02)"},children:[(0,f.jsxs)("div",{className:"polaroid-image-container",children:[(0,f.jsx)("img",{src:a,className:`w-full h-full object-cover ${c?"developing-effect":""}`,alt:"Moment"}),(0,f.jsx)("div",{className:`verified-stamp ${e?"active":""}`,children:"Verified"})]}),(0,f.jsxs)("div",{className:"mt-6 flex flex-col items-center px-4",children:[j?(0,f.jsx)(f_,{value:b,onChange:a=>i?.(a),placeholder:"Tap to write...",className:"w-full"}):(0,f.jsx)("p",{className:"font-typewriter text-xl text-[#2A2A2A] text-center min-h-[1.2rem] leading-relaxed break-words w-full px-2 opacity-90",children:b}),d&&(0,f.jsxs)("p",{className:"mt-6 text-[8px] uppercase tracking-[0.2em] text-[#A09E96]/60 font-bold font-typewriter",children:[new Date(d).toLocaleDateString()," // ",new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),f1=({currentPhoto:a,tempCaption:b,setTempCaption:c,setScreen:d,includeDateTime:e,setIncludeDateTime:g})=>(0,f.jsxs)(fp.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 desk-bg flex flex-col items-center p-6",children:[(0,f.jsx)("div",{className:"flex-1 w-full flex items-center justify-center",children:(0,f.jsx)(fp.div,{initial:{y:320,rotate:-8},animate:{y:0,rotate:(Math.random()-.5)*6},transition:{type:"spring",damping:18,stiffness:120},children:a&&(0,f.jsx)(f0,{imageSrc:a,isDeveloping:!0,caption:b,onCaptionChange:c,editable:!0,timestamp:e?Date.now():void 0,className:"max-w-[320px] shadow-[0_40px_80px_-20px_rgba(0,0,0,0.2)]"})})}),(0,f.jsxs)("div",{className:"w-full flex flex-col gap-4 pb-12 mt-8 max-w-sm",children:[(0,f.jsx)("div",{className:"flex justify-end px-2 mb-2",children:(0,f.jsxs)("button",{onClick:()=>g(!e),className:`flex items-center gap-2 text-[10px] uppercase font-bold tracking-widest transition-colors ${e?"text-emerald-600":"text-[#A09E96]"}`,children:[(0,f.jsx)(fX,{size:14}),e?"Time Included":"Add Time"]})}),(0,f.jsx)(fT,{onClick:()=>d("metadata"),className:"w-full h-14 bg-[#2A2A2A] shadow-xl",children:"Secure Moment"}),(0,f.jsxs)("div",{className:"flex gap-4",children:[(0,f.jsxs)(fT,{onClick:()=>d("camera"),variant:"secondary",className:"flex-1 py-3 bg-white/50 border-none shadow-md",children:[(0,f.jsx)(fZ,{size:14})," Retake"]}),(0,f.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-3 bg-white/20 rounded-xl border border-white/40",children:(0,f.jsx)("span",{className:"text-[7px] uppercase tracking-[0.2em] font-black text-[#A09E96]",children:"Authentic Capture"})})]})]})]},"preview"),f2=({publicKey:a,mintPhoto:b,setScreen:c})=>(0,f.jsx)(fp.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"flex-1 desk-bg flex flex-col items-center justify-center p-6",children:(0,f.jsxs)("div",{className:"w-full max-w-sm glass-panel p-10 rounded-[2.5rem] flex flex-col gap-8 text-[#2A2A2A]",children:[(0,f.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,f.jsx)("div",{className:"w-12 h-12 bg-[#2A2A2A] rounded-2xl flex items-center justify-center shadow-lg",children:(0,f.jsx)(fY,{size:24,className:"text-[#F6F3EE]"})}),(0,f.jsx)("h3",{className:"text-3xl font-serif italic text-center mt-2",children:"Verify Reality"})]}),(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsxs)("p",{className:"text-[10px] text-center text-[#A09E96] uppercase tracking-[0.25em] leading-relaxed",children:["This moment will be hashed and secured on-chain.",(0,f.jsx)("br",{}),(0,f.jsx)("span",{className:"font-black text-[#2A2A2A]/40 mt-1 block",children:"Immutable. Authentic. Yours."})]}),(0,f.jsxs)("div",{className:"space-y-4 font-typewriter text-[9px] bg-[#F6F3EE]/50 p-6 rounded-2xl border border-white/50 relative overflow-hidden group",children:[(0,f.jsx)("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:(0,f.jsx)(fY,{size:40})}),(0,f.jsxs)("div",{className:"flex justify-between border-b border-[#D9D4CC]/30 pb-3",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Provenance"}),(0,f.jsx)("span",{className:"font-bold text-[#2A2A2A]",children:a?a.toBase58().slice(0,6)+"..."+a.toBase58().slice(-6):"Anonymous"})]}),(0,f.jsxs)("div",{className:"flex justify-between border-b border-[#D9D4CC]/30 pb-3",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Entropy Source"}),(0,f.jsx)("div",{className:"flex gap-1 overflow-hidden max-w-[120px]",children:[1,2,3,4,5].map(a=>(0,f.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:4}).map((b,c)=>{let d=window.crypto.getRandomValues(new Uint8Array(1))[0];return(0,f.jsx)("div",{className:`w-1 h-1 rounded-sm ${d>127?"bg-[#3FA37C]/60":"bg-[#2A2A2A]/20"} animate-pulse`,style:{animationDelay:`${100*a+50*c}ms`}},c)})},a))})]}),(0,f.jsxs)("div",{className:"space-y-2 opacity-60",children:[(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Temporal Log"}),(0,f.jsxs)("span",{className:"font-bold text-[#2A2A2A]",children:[new Date().toLocaleTimeString()," (UTC",-(new Date().getTimezoneOffset()/60),")"]})]}),(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Atmospheric Seed"}),(0,f.jsx)("span",{className:"font-bold text-[#2A2A2A] uppercase font-mono",children:Array.from(window.crypto.getRandomValues(new Uint8Array(4))).map(a=>a.toString(16).padStart(2,"0")).join("")})]}),(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Dither Factor"}),(0,f.jsx)("span",{className:"font-bold text-[#2A2A2A]",children:(performance.now()%1).toFixed(4)})]}),(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Reality Hash"}),(0,f.jsxs)("span",{className:"font-bold text-[#2A2A2A] flex gap-1",children:[(0,f.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#3FA37C] mt-1 shadow-[0_0_8px_#3FA37C]"}),"Verified"]})]})]})]})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,f.jsx)(fT,{onClick:b,className:"w-full h-14 bg-[#3FA37C] hover:bg-emerald-700 border-none shadow-[0_15px_30px_-5px_rgba(63,163,124,0.3)]",children:"Verify & Mint Proof"}),(0,f.jsx)("button",{onClick:()=>c("preview"),className:"text-[9px] uppercase tracking-[0.3em] text-[#A09E96] font-black hover:text-[#2A2A2A] transition-colors",children:"Discard & Retake"})]})]})},"metadata"),f3=["Capturing the essence...","Hashing pixels into truth...","Securing memory on chain...","Authenticity verified."],f4=({mintStatus:a})=>(0,f.jsxs)(fp.div,{className:"flex-1 desk-bg flex flex-col items-center justify-center p-8 text-center",children:[(0,f.jsxs)("div",{className:"relative w-32 h-32 mb-16",children:[(0,f.jsx)(fp.div,{animate:{rotate:360},transition:{repeat:1/0,duration:8,ease:"linear"},className:"absolute inset-0 border-2 border-dashed border-[#3FA37C] rounded-full opacity-20"}),(0,f.jsx)("div",{className:"absolute inset-4 bg-white/40 backdrop-blur-md rounded-full shadow-2xl flex items-center justify-center border border-white",children:(0,f.jsx)(fY,{size:48,className:"text-[#3FA37C] animate-pulse"})}),(0,f.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-tr from-[#3FA37C]/20 to-transparent rounded-full animate-spin-slow"})]}),(0,f.jsx)(fp.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-3xl font-serif italic mb-4 text-[#2A2A2A]",children:f3[a]},a),(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("p",{className:"text-[10px] uppercase tracking-[0.4em] text-[#A09E96] font-black",children:"Validating Reality on Solana"}),(0,f.jsx)("div",{className:"h-1 w-24 bg-[#D9D4CC] rounded-full overflow-hidden",children:(0,f.jsx)(fp.div,{initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:1.2,repeat:1/0},className:"w-full h-full bg-[#3FA37C]"})})]})]},"minting"),f5=({currentPhoto:a,tempCaption:b,includeDateTime:c})=>(0,f.jsxs)(fp.div,{className:"flex-1 desk-bg flex flex-col items-center justify-start pt-12",children:[(0,f.jsxs)("div",{className:"w-full max-w-sm h-40 relative z-20 px-8",children:[(0,f.jsx)("div",{className:"w-full h-24 bg-[#1a1a1a] rounded-xl shadow-2xl border-b-[8px] border-black/20 flex items-end justify-center pb-2 px-6",children:(0,f.jsx)("div",{className:"w-full h-2.5 bg-black rounded-full shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)]"})}),(0,f.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 w-48 h-12 bg-black/10 blur-2xl"})]}),(0,f.jsx)("div",{className:"w-full flex justify-center z-10 -mt-16 overflow-hidden px-8",children:(0,f.jsx)(fp.div,{initial:{y:-450},animate:{y:0},transition:{duration:4.5,ease:[.22,1,.36,1],delay:.5},children:(0,f.jsx)(f0,{imageSrc:a,caption:b,isMinted:!0,timestamp:c?Date.now():void 0,className:"max-w-[300px] shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)]"})})}),(0,f.jsxs)(fp.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:3},className:"mt-16 flex flex-col items-center gap-2",children:[(0,f.jsx)("p",{className:"text-[10px] uppercase tracking-[0.5em] text-[#A09E96] font-black italic",children:"Physicalizing Reality"}),(0,f.jsx)("div",{className:"flex gap-1.5",children:[0,1,2].map(a=>(0,f.jsx)(fp.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{repeat:1/0,duration:1.5,delay:.2*a},className:"w-1 h-1 bg-[#3FA37C] rounded-full"},a))})]})]},"printing"),f6=fJ("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),f7=fJ("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),f8=({currentPhoto:a,tempCaption:b,setScreen:c,setCurrentPhoto:d,setTempCaption:e,includeDateTime:g})=>(0,f.jsxs)(fp.div,{className:"flex-1 desk-bg flex flex-col items-center justify-center p-8 text-center",children:[(0,f.jsxs)("div",{className:"relative group",children:[(0,f.jsx)(f0,{imageSrc:a,caption:b,isMinted:!0,timestamp:g?Date.now():void 0,className:"max-w-[300px] mb-12 rotate-3 shadow-[0_30px_60px_-10px_rgba(0,0,0,0.25)]"}),(0,f.jsx)(fp.div,{initial:{scale:2,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8,type:"spring"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 pointer-events-none",children:(0,f.jsx)("div",{className:"w-32 h-32 border-[6px] border-[#3FA37C] rounded-full flex items-center justify-center text-[#3FA37C] font-black uppercase tracking-[0.2em] rotate-[-25deg] shadow-[0_10px_30px_rgba(63,163,124,0.4)] bg-[#F6F3EE]/10 backdrop-blur-[2px]",children:(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,f.jsx)("span",{className:"text-[14px]",children:"Verified"}),(0,f.jsx)(f6,{size:24,strokeWidth:4})]})})})]}),(0,f.jsxs)(fp.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-white/60 backdrop-blur-xl p-10 rounded-[3rem] border border-white shadow-2xl max-w-xs relative overflow-hidden",children:[(0,f.jsx)("img",{src:"/logo.png",alt:"Keep It Real Logo",className:"w-32 h-auto mb-6 opacity-80 mx-auto"}),(0,f.jsx)("h2",{className:"text-3xl font-serif italic mb-2 text-[#2A2A2A]",children:"Moment Secured."}),(0,f.jsx)("p",{className:"text-[9px] uppercase tracking-[0.4em] text-[#A09E96] font-black mb-10",children:"Proof of reality permanent"}),(0,f.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,f.jsx)(fT,{onClick:()=>c("gallery"),className:"w-full h-14 bg-[#2A2A2A]",children:"View in Scrapbook"}),(0,f.jsxs)("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:"Keep It Real",text:`I just secured a verified moment: "${b}"`,url:window.location.href})}catch(a){}else alert("Sharing not supported on this browser. Your moment is secured in your scrapbook!")},className:"flex items-center justify-center gap-2 w-full h-12 border border-[#2A2A2A]/10 rounded-2xl text-[9px] uppercase tracking-[0.2em] font-black text-[#2A2A2A] hover:bg-[#2A2A2A]/5 transition-colors",children:[(0,f.jsx)(f7,{size:12})," Share Moment"]}),(0,f.jsx)("button",{onClick:()=>{c("home"),d(null),e("")},className:"text-[9px] uppercase tracking-[0.3em] text-[#A09E96] font-black hover:text-[#2A2A2A] py-2",children:"Return Home"})]})]})]},"success"),f9=fJ("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ga=fJ("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),gb=fJ("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gc=fJ("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gd=fJ("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ge=fJ("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),gf=({gallery:a,setScreen:b})=>{let[c,d]=(0,g.useState)(null),e=async a=>{if(navigator.share)try{await navigator.share({title:"Keep It Real Memory",text:a.caption||"Check out this authentic memory!",url:window.location.href})}catch(a){}else alert("Sharing is not supported on this browser. You can copy the link manually.")},h=()=>{null!==c&&c<a.length-1&&d(c+1)},i=()=>{null!==c&&c>0&&d(c-1)};return(0,f.jsxs)(fp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 desk-bg flex flex-col min-h-screen relative",children:[(0,f.jsxs)("header",{className:"sticky top-0 z-30 bg-[#F6F3EE]/80 backdrop-blur-md px-6 py-6 border-b border-[#D9D4CC]/50 flex justify-between items-center",children:[(0,f.jsxs)("div",{className:"flex items-center gap-4",children:[(0,f.jsx)("button",{onClick:()=>b("home"),className:"w-10 h-10 flex items-center justify-center bg-white shadow-sm rounded-xl hover:shadow-md transition-all active:scale-95",children:(0,f.jsx)(f9,{size:18})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-serif italic text-[#2A2A2A]",children:"Scrapbook"}),(0,f.jsxs)("p",{className:"text-[7px] uppercase tracking-[0.4em] text-[#A09E96] font-black",children:[a.length," Authentic Moments"]})]})]}),(0,f.jsx)("div",{className:"flex gap-2",children:(0,f.jsx)("button",{className:"w-10 h-10 flex items-center justify-center bg-white shadow-sm rounded-xl active:scale-95 transition-all",children:(0,f.jsx)(ga,{size:16,className:"text-[#A09E96]"})})})]}),(0,f.jsx)("div",{className:"flex-1 p-6 pb-32",children:a.length>0?(0,f.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-w-4xl mx-auto",children:a.map((a,b)=>(0,f.jsxs)(fp.div,{layoutId:`photo-${a.id}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*b},onClick:()=>d(b),className:"aspect-square relative cursor-pointer overflow-hidden rounded-lg shadow-sm hover:shadow-xl transition-all group",children:[(0,f.jsx)("img",{src:a.url,alt:a.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),(0,f.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,f.jsx)(ge,{size:20,className:"text-white"})})]},a.id))}):(0,f.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-40 opacity-30 select-none",children:[(0,f.jsx)("div",{className:"w-24 h-24 mb-6 border-2 border-dashed border-[#2A2A2A] rounded-full flex items-center justify-center",children:(0,f.jsx)(fK,{size:32})}),(0,f.jsx)("p",{className:"text-[10px] uppercase tracking-[0.5em] font-black",children:"No memories captured yet"})]})}),(0,f.jsx)(x,{children:null!==c&&(0,f.jsxs)(fp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-2xl flex flex-col",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center p-6 text-white",children:[(0,f.jsx)("button",{onClick:()=>d(null),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-all",children:(0,f.jsx)(fV,{size:20})}),(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] font-bold text-white/60",children:new Date(a[c].timestamp).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})}),(0,f.jsx)("p",{className:"text-[8px] uppercase tracking-[0.1em] text-white/40",children:a[c].location.label||"Unknown Reality"})]}),(0,f.jsx)("button",{onClick:()=>e(a[c]),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-all",children:(0,f.jsx)(f7,{size:18})})]}),(0,f.jsxs)("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden",children:[(0,f.jsx)("button",{onClick:i,disabled:0===c,className:`absolute left-4 z-10 w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white transition-all ${0===c?"opacity-0":"hover:bg-white/20"}`,children:(0,f.jsx)(gb,{size:24})}),(0,f.jsx)(fp.div,{layoutId:`photo-${a[c].id}`,initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(a,{offset:b})=>{let c=b.x;c<-100?h():c>100&&i()},className:"w-full max-w-lg px-6",children:(0,f.jsx)(f0,{...a[c],imageSrc:a[c].url,isMinted:!0,className:"mx-auto shadow-[0_50px_100px_rgba(0,0,0,0.5)] rotate-0"})},a[c].id),(0,f.jsx)("button",{onClick:h,disabled:c===a.length-1,className:`absolute right-4 z-10 w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white transition-all ${c===a.length-1?"opacity-0":"hover:bg-white/10"}`,children:(0,f.jsx)(gc,{size:24})})]}),(0,f.jsxs)("div",{className:"p-8 pb-12 flex justify-center gap-8",children:[(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("button",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white/60 hover:text-white transition-all",children:(0,f.jsx)(gd,{size:20})}),(0,f.jsx)("span",{className:"text-[7px] uppercase tracking-widest text-white/40",children:"Save"})]}),(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,f.jsx)("button",{onClick:()=>e(a[c]),className:"w-12 h-12 flex items-center justify-center rounded-full bg-white text-black hover:bg-white/90 transition-all",children:(0,f.jsx)(f7,{size:20})}),(0,f.jsx)("span",{className:"text-[7px] uppercase tracking-widest text-white/60",children:"Share"})]})]})]})}),(0,f.jsx)("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40",children:(0,f.jsxs)(fp.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b("camera"),className:"bg-[#2A2A2A] text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 border border-white/10",children:[(0,f.jsx)(fK,{size:18}),(0,f.jsx)("span",{className:"text-[10px] uppercase tracking-[0.3em] font-black",children:"Hold the Moment"})]})})]},"gallery")},gg=fJ("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),gh=({connected:a,setScreen:b})=>(0,f.jsx)(fp.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 desk-bg flex items-center justify-center p-8",children:(0,f.jsxs)("div",{className:"w-full max-w-sm glass-panel p-10 rounded-3xl text-center relative",children:[(0,f.jsx)("button",{onClick:()=>b("home"),className:"absolute top-6 right-6 text-[#A09E96] hover:text-[#2A2A2A] transition-colors",children:(0,f.jsx)(f9,{size:20})}),(0,f.jsx)("div",{className:"w-16 h-16 bg-[#2A2A2A] rounded-2xl flex items-center justify-center mb-8 mx-auto shadow-xl",children:(0,f.jsx)(gg,{size:32,className:"text-[#F6F3EE]"})}),(0,f.jsx)("h2",{className:"text-2xl font-serif italic mb-2 text-[#2A2A2A]",children:"Connect Identity"}),(0,f.jsx)("p",{className:"text-[10px] text-[#A09E96] uppercase tracking-[0.2em] mb-12",children:"Required to sign the proof of reality"}),(0,f.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,f.jsx)(fS,{className:"!bg-[#2A2A2A] !rounded-xl !h-14 !w-full !flex !items-center !justify-center !font-bold !text-[12px] !uppercase !tracking-widest"}),a&&(0,f.jsx)(fT,{onClick:()=>b("home"),className:"w-full",children:"Continue"})]})]})},"wallet");var gi=a.i(88847);function gj(){let[a,b]=(0,g.useState)("home"),[c,d]=(0,g.useState)([]),[e,h]=(0,g.useState)(null),[i,j]=(0,g.useState)(null),[k,l]=(0,g.useState)(""),[m]=(0,g.useState)({latitude:null,longitude:null}),[n]=(0,g.useState)(!0),[o,p]=(0,g.useState)(!1),[q,r]=(0,g.useState)(0),[s,t]=(0,g.useState)(!1),[u,v]=(0,g.useState)({flash:!1,timer:0}),{publicKey:w,connected:y,disconnect:z}=(0,fq.useWallet)(),A=(0,g.useRef)(null),B=(0,g.useRef)(null),C=(0,g.useRef)(null);(0,g.useEffect)(()=>{let a=localStorage.getItem("keep_it_real_gallery");a&&d(JSON.parse(a))},[]),(0,g.useEffect)(()=>{localStorage.setItem("keep_it_real_gallery",JSON.stringify(c))},[c]),(0,g.useEffect)(()=>{(async()=>{if(y&&w){t(!0);try{let a=await fE({publicKey:w},gi.default);d(b=>{let c=new Set(b.map(a=>a.id));return[...a.filter(a=>!c.has(a.id)),...b]})}catch(a){}finally{t(!1)}}})()},[y,w]);let D=async()=>{try{let a=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",aspectRatio:1},audio:!1});A.current&&(A.current.srcObject=a),C.current=a.getVideoTracks()[0]}catch(a){alert("Camera access is required for Keep It Real.")}},E=()=>{A.current?.srcObject&&A.current.srcObject.getTracks().forEach(a=>a.stop()),C.current=null};(0,g.useEffect)(()=>("camera"===a?D():E(),()=>E()),[a]);let F=async()=>{try{if(!y||!w)return void b("wallet");let a=i;if(!a&&e){let b=await fetch(e);a=await b.blob(),j(a)}if(!a)return void alert("Photo data not found. Please try retaking the photo.");b("minting"),r(0);let c=await fC(a);await new Promise(a=>setTimeout(a,800)),r(1);let f=await fD(a);await new Promise(a=>setTimeout(a,800)),r(2);let g=fB({publicKey:w,signTransaction:a=>a,signAllTransactions:a=>a},gi.default),h=Date.now(),[l]=fr.PublicKey.findProgramAddressSync([Buffer.from("memory"),w.toBuffer(),Buffer.from(c)],g.programId);await new Promise(a=>setTimeout(a,1200)),r(3),await new Promise(a=>setTimeout(a,500));let p={id:Math.random().toString(36).substr(2,9),url:e,caption:k,timestamp:o?h:void 0,location:n?{...m}:{latitude:null,longitude:null},hash:Buffer.from(c).toString("hex"),cid:f,isMinted:!0,rotation:(Math.random()-.5)*10,owner:w.toBase58()};d(a=>[p,...a]),b("printing"),setTimeout(()=>{b("success")},4e3)}catch(a){alert("Verification failed: "+(a instanceof Error?a.message:String(a))),b("metadata")}};return(0,f.jsxs)("div",{className:"max-w-md mx-auto min-h-[100dvh] bg-[#F6F3EE] shadow-2xl overflow-hidden font-sans relative flex flex-col",children:[(0,f.jsxs)(x,{mode:"wait",children:["home"===a&&(0,f.jsx)(fU,{setScreen:b,galleryLength:c.length,connected:y,publicKey:w,disconnect:z}),"camera"===a&&(0,f.jsx)(f$,{setScreen:b,videoRef:A,canvasRef:B,cameraSettings:u,setCameraSettings:v,capturePhoto:()=>{if(A.current&&B.current){let a=A.current,c=B.current,d=Math.min(a.videoWidth,a.videoHeight);c.width=d,c.height=d;let e=c.getContext("2d");if(e){let f=(a.videoWidth-d)/2,g=(a.videoHeight-d)/2;e.drawImage(a,f,g,d,d,0,0,d,d),h(c.toDataURL("image/jpeg",.9)),c.toBlob(a=>{a&&j(a)},"image/jpeg",.9),b("preview")}}}}),"preview"===a&&(0,f.jsx)(f1,{currentPhoto:e,tempCaption:k,setTempCaption:l,setScreen:b,includeDateTime:o,setIncludeDateTime:p}),"metadata"===a&&(0,f.jsx)(f2,{publicKey:w,mintPhoto:F,setScreen:b}),"minting"===a&&(0,f.jsx)(f4,{mintStatus:q}),"printing"===a&&(0,f.jsx)(f5,{currentPhoto:e,tempCaption:k,includeDateTime:o}),"success"===a&&(0,f.jsx)(f8,{currentPhoto:e,tempCaption:k,setScreen:b,setCurrentPhoto:h,setTempCaption:l,includeDateTime:o}),"gallery"===a&&(0,f.jsx)(gf,{gallery:c,setScreen:b}),"wallet"===a&&(0,f.jsx)(gh,{connected:y,setScreen:b})]}),s&&(0,f.jsxs)(fp.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed top-8 left-1/2 -translate-x-1/2 z-[100] bg-black/80 backdrop-blur-md text-white px-6 py-2 rounded-full flex items-center gap-3 border border-white/20 scale-75 shadow-2xl",children:[(0,f.jsx)("div",{className:"w-2 h-2 bg-[#3FA37C] rounded-full animate-pulse"}),(0,f.jsx)("span",{className:"text-[10px] uppercase tracking-[0.2em] font-black",children:"Syncing memories..."})]})]})}a.s(["default",()=>gj],40777)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4ce5fcc3._.js.map