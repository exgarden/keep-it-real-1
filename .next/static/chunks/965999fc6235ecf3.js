(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45796,(t,e,r)=>{"use strict";let i=/[\p{Lu}]/u,n=/[\p{Ll}]/u,s=/^[\p{Lu}](?![\p{Lu}])/gu,a=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,l=RegExp("^"+o.source),u=RegExp(o.source+a.source,"gu"),c=RegExp("\\d+"+a.source,"gu"),h=(t,e)=>{var r,a;if(!("string"==typeof t||Array.isArray(t)))throw TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},0===(t=Array.isArray(t)?t.map(t=>t.trim()).filter(t=>t.length).join("-"):t.trim()).length)return"";let o=!1===e.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e.locale),h=!1===e.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(e.locale);return 1===t.length?e.pascalCase?h(t):o(t):((t!==o(t)&&(t=((t,e,r)=>{let s=!1,a=!1,o=!1;for(let l=0;l<t.length;l++){let u=t[l];s&&i.test(u)?(t=t.slice(0,l)+"-"+t.slice(l),s=!1,o=a,a=!0,l++):a&&o&&n.test(u)?(t=t.slice(0,l-1)+"-"+t.slice(l-1),o=a,a=!1,s=!0):(s=e(u)===u&&r(u)!==u,o=a,a=r(u)===u&&e(u)!==u)}return t})(t,o,h)),t=t.replace(l,""),e.preserveConsecutiveUppercase)?(r=t,s.lastIndex=0,t=r.replace(s,t=>o(t))):t=o(t),e.pascalCase&&(t=h(t.charAt(0))+t.slice(1)),a=t,u.lastIndex=0,c.lastIndex=0,a.replace(u,(t,e)=>h(e)).replace(c,t=>h(t)))};e.exports=h,e.exports.default=h},33663,(t,e,r)=>{"use strict";var i=t.i(57960);class n{constructor(t,e){if(!Number.isInteger(t))throw TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw Error("Layout is abstract")}encode(t,e,r){throw Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function s(t,e){return e.property?t+"["+e.property+"]":t}r.Layout=n,r.nameWithProperty=s,r.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw Error("Class is already bound to a layout");if(!(e&&e instanceof n))throw TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})};class a extends n{isCount(){throw Error("ExternalLayout is abstract")}}class o extends a{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){return void 0===e&&(e=0),Math.floor((t.length-e)/this.elementSpan)}encode(t,e,r){return 0}}class l extends a{constructor(t,e,r){if(!(t instanceof n))throw TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof c}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class u extends n{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class c extends n{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class h extends n{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class d extends n{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}function p(t){let e=Math.floor(t/0x100000000);return{hi32:e,lo32:t-0x100000000*e}}function f(t,e){return 0x100000000*t+e}class m extends n{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);let r=t.readUInt32LE(e);return f(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);let i=p(t);return e.writeUInt32LE(i.lo32,r),e.writeUInt32LE(i.hi32,r+4),8}}class g extends n{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);let i=p(t);return e.writeUInt32BE(i.hi32,r),e.writeUInt32BE(i.lo32,r+4),8}}class y extends n{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);let r=t.readUInt32LE(e);return f(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);let i=p(t);return e.writeUInt32LE(i.lo32,r),e.writeInt32LE(i.hi32,r+4),8}}class _ extends n{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),f(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);let i=p(t);return e.writeInt32BE(i.hi32,r),e.writeUInt32BE(i.lo32,r+4),8}}class v extends n{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class w extends n{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class x extends n{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class b extends n{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class A extends n{constructor(t,e,r){if(!(t instanceof n))throw TypeError("elementLayout must be a Layout");if(!(e instanceof a&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;e instanceof a||!(0<t.span)||(i=e*t.span),super(i,r),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,i=this.count;if(i instanceof a&&(i=i.decode(t,e)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(t,e+r),++n}return r}decode(t,e){void 0===e&&(e=0);let r=[],i=0,n=this.count;for(n instanceof a&&(n=n.decode(t,e));i<n;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return r}encode(t,e,r){void 0===r&&(r=0);let i=this.elementLayout,n=t.reduce((t,n)=>t+i.encode(n,e,r+t),0);return this.count instanceof a&&this.count.encode(t.length,e,r),n}}class R extends n{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((t,e)=>t&&e instanceof n,!0)))throw TypeError("fields must be array of Layout instances");for(const i of("boolean"==typeof e&&void 0===r&&(r=e,e=void 0),t))if(0>i.span&&void 0===i.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((t,e)=>t+e.getSpan(),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce((r,i)=>{let n=i.getSpan(t,e);return e+=n,r+n},0)}catch(t){throw RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);let r=this.makeDestinationObject();for(let i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);let i=r,n=0,s=0;for(let i of this.fields){let a=i.span;if(s=0<a?a:0,void 0!==i.property){let n=t[i.property];void 0!==n&&(s=i.encode(n,e,r),0>a&&(a=i.getSpan(e,r)))}n=r,r+=a}return n+s-i}fromArray(t){let e=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw TypeError("property must be string");let e=0;for(let r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class E{constructor(t){this.property=t}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class T extends E{constructor(t,e){if(!(t instanceof a&&t.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class N extends n{constructor(t,e,r){const i=t instanceof u||t instanceof c;if(i)t=new T(new l(t));else if(t instanceof a&&t.isCount())t=new T(t);else if(!(t instanceof E))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof n))throw TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let s=-1;e&&0<=(s=e.span)&&i&&(s+=t.layout.span),super(s,r),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=this.getVariant(t,e);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(let e in this.registry){let r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);let i=this.discriminator,n=i.decode(t,e),s=this.registry[n];if(void 0===s){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),(r=this.makeDestinationObject())[i.property]=n,r[s.property]=this.defaultLayout.decode(t,e+a)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);let i=this.getSourceVariant(t);if(void 0===i){let i=this.discriminator,n=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(t[i.property],e,r),s+n.encode(t[n.property],e,r+s)}return i.encode(t,e,r)}addVariant(t,e,r){let i=new O(this,t,e,r);return this.registry[t]=i,i}getVariant(t,e){let r=t;return i.Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class O extends n{constructor(t,e,r,i){if(!(t instanceof N))throw TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof n))throw TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof i)throw TypeError("variant must have a String property")}let s=t.span;0>t.span&&0<=(s=r?r.span:0)&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span),super(s,i),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){let r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let n=i;if(this.layout&&(this.layout.encode(t[this.property],e,r+i),n+=this.layout.getSpan(e,r+i),0<=this.union.span&&n>this.union.span))throw Error("encoded variant overruns containing union");return n}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function S(t){return 0>t&&(t+=0x100000000),t}class C extends n{constructor(t,e,r){if(!(t instanceof u||t instanceof c))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(t){return i=S(t),this},this._packedGetValue=function(){return i}}decode(t,e){let r=this.makeDestinationObject();void 0===e&&(e=0);let i=this.word.decode(t,e);for(let t of(this._packedSetValue(i),this.fields))void 0!==t.property&&(r[t.property]=t.decode(i));return r}encode(t,e,r){void 0===r&&(r=0);let i=this.word.decode(e,r);for(let e of(this._packedSetValue(i),this.fields))if(void 0!==e.property){let r=t[e.property];void 0!==r&&e.encode(r)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){let r=new k(this,t,e);return this.fields.push(r),r}addBoolean(t){let e=new I(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}}class k{constructor(t,e,r){if(!(t instanceof C))throw TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw TypeError("bits must be positive integer");const i=8*t.span,n=t.fields.reduce((t,e)=>t+e.bits,0);if(e+n>i)throw Error("bits too long for span remainder ("+(i-n)+" of "+i+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=0xffffffff),this.start=n,this.container.msb&&(this.start=i-n-e),this.wordMask=S(this.valueMask<<this.start),this.property=r}decode(){return S(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==S(t&this.valueMask))throw TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),r=S(t<<this.start);this.container._packedSetValue(S(e&~this.wordMask)|r)}}class I extends k{constructor(t,e){super(t,1,e)}decode(t,e){return!!k.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t*=1),k.prototype.encode.call(this,t)}}class P extends n{constructor(t,e){if(!(t instanceof a&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof a||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof a&&(n=t.length),!(i.Buffer.isBuffer(t)&&n===t.length))throw TypeError(s("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>e.length)throw RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof a&&this.length.encode(n,e,r),n}}class j extends n{constructor(t){super(-1,t)}getSpan(t,e){if(!i.Buffer.isBuffer(t))throw TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let i=this.getSpan(t,e);return t.slice(e,e+i-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());let n=new i.Buffer(t,"utf8"),s=n.length;if(r+s>e.length)throw RangeError("encoding overruns Buffer");return n.copy(e,r),e[r+s]=0,s+1}}class D extends n{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!i.Buffer.isBuffer(t))throw TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let i=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<i)throw RangeError("text length exceeds maxSpan");return t.slice(e,e+i).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());let n=new i.Buffer(t,"utf8"),s=n.length;if(0<=this.maxSpan&&this.maxSpan<s)throw RangeError("text length exceeds maxSpan");if(r+s>e.length)throw RangeError("encoding overruns Buffer");return n.copy(e,r),s}}class M extends n{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}r.ExternalLayout=a,r.GreedyCount=o,r.OffsetLayout=l,r.UInt=u,r.UIntBE=c,r.Int=h,r.IntBE=d,r.Float=v,r.FloatBE=w,r.Double=x,r.DoubleBE=b,r.Sequence=A,r.Structure=R,r.UnionDiscriminator=E,r.UnionLayoutDiscriminator=T,r.Union=N,r.VariantLayout=O,r.BitStructure=C,r.BitField=k,r.Boolean=I,r.Blob=P,r.CString=j,r.UTF8=D,r.Constant=M,r.greedy=(t,e)=>new o(t,e),r.offset=(t,e,r)=>new l(t,e,r),r.u8=t=>new u(1,t),r.u16=t=>new u(2,t),r.u24=t=>new u(3,t),r.u32=t=>new u(4,t),r.u40=t=>new u(5,t),r.u48=t=>new u(6,t),r.nu64=t=>new m(t),r.u16be=t=>new c(2,t),r.u24be=t=>new c(3,t),r.u32be=t=>new c(4,t),r.u40be=t=>new c(5,t),r.u48be=t=>new c(6,t),r.nu64be=t=>new g(t),r.s8=t=>new h(1,t),r.s16=t=>new h(2,t),r.s24=t=>new h(3,t),r.s32=t=>new h(4,t),r.s40=t=>new h(5,t),r.s48=t=>new h(6,t),r.ns64=t=>new y(t),r.s16be=t=>new d(2,t),r.s24be=t=>new d(3,t),r.s32be=t=>new d(4,t),r.s40be=t=>new d(5,t),r.s48be=t=>new d(6,t),r.ns64be=t=>new _(t),r.f32=t=>new v(t),r.f32be=t=>new w(t),r.f64=t=>new x(t),r.f64be=t=>new b(t),r.struct=(t,e,r)=>new R(t,e,r),r.bits=(t,e,r)=>new C(t,e,r),r.seq=(t,e,r)=>new A(t,e,r),r.union=(t,e,r)=>new N(t,e,r),r.unionLayoutDiscriminator=(t,e)=>new T(t,e),r.blob=(t,e)=>new P(t,e),r.cstr=t=>new j(t),r.utf8=(t,e)=>new D(t,e),r.const=(t,e)=>new M(t,e)},6529,(t,e,r)=>{"use strict";var i=t.i(57960),n=t.e&&t.e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0,r.u64=c,r.i64=function(t){return new u(8,!0,t)},r.u128=function(t){return new u(16,!1,t)},r.i128=function(t){return new u(16,!0,t)},r.u256=function(t){return new u(32,!1,t)},r.i256=function(t){return new u(32,!0,t)},r.publicKey=function(t){return new h((0,s.blob)(32),t=>new a.PublicKey(t),t=>t.toBuffer(),t)},r.option=function(t,e){return new d(t,e)},r.bool=function(t){return new h((0,s.u8)(),p,f,t)},r.vec=function(t,e){let r=(0,s.u32)("length");return new h((0,s.struct)([r,(0,s.seq)(t,(0,s.offset)(r,-r.span),"values")]),({values:t})=>t,t=>({values:t}),e)},r.tagged=function(t,e,r){return new h((0,s.struct)([c("tag"),e.replicate("data")]),function({tag:e,data:r}){if(!e.eq(t))throw Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return r},e=>({tag:t,data:e}),r)},r.vecU8=m,r.str=function(t){return new h(m(),t=>t.toString("utf-8"),t=>i.Buffer.from(t,"utf-8"),t)},r.rustEnum=function(t,e,r){let i=(0,s.union)(null!=r?r:(0,s.u8)(),e);return t.forEach((t,e)=>i.addVariant(e,t,t.property)),i},r.array=function(t,e,r){return new h((0,s.struct)([(0,s.seq)(t,e,"values")]),({values:t})=>t,t=>({values:t}),r)},r.map=function(t,e,r){let i=(0,s.u32)("length");return new h((0,s.struct)([i,(0,s.seq)(new g(t,e),(0,s.offset)(i,-i.span),"values")]),({values:t})=>new Map(t),t=>({values:Array.from(t.entries())}),r)};let s=t.r(33663),a=t.r(27261),o=n(t.r(59341));var l=t.r(33663);Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return l.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return l.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return l.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return l.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return l.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return l.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return l.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return l.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return l.struct}});class u extends s.Layout{constructor(t,e,r){super(t,r),this.blob=(0,s.blob)(t),this.signed=e}decode(t,e=0){let r=new o.default(this.blob.decode(t,e),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(t,e,r=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(i.Buffer,"le",this.span),e,r)}}function c(t){return new u(8,!1,t)}class h extends s.Layout{constructor(t,e,r,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class d extends s.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,s.u8)()}encode(t,e,r=0){return null==t?this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+1)+1)}decode(t,e=0){let r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+1);throw Error("Invalid option "+this.property)}getSpan(t,e=0){let r=this.discriminator.decode(t,e);if(0===r)return 1;if(1===r)return this.layout.getSpan(t,e+1)+1;throw Error("Invalid option "+this.property)}}function p(t){if(0===t)return!1;if(1===t)return!0;throw Error("Invalid bool: "+t)}function f(t){return+!!t}function m(t){let e=(0,s.u32)("length");return new h((0,s.struct)([e,(0,s.blob)((0,s.offset)(e,-e.span),"data")]),({data:t})=>t,t=>({data:t}),t)}class g extends s.Layout{constructor(t,e,r){super(t.span+e.span,r),this.keyLayout=t,this.valueLayout=e}decode(t,e){return e=e||0,[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,r){r=r||0;let i=this.keyLayout.encode(t[0],e,r),n=this.valueLayout.encode(t[1],e,r+i);return i+n}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}},78492,(t,e,r)=>{"use strict";var i=Object.prototype.hasOwnProperty,n="~";function s(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,r,i,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new a(r,i||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=Array(s);i<s;i++)a[i]=r[i].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,s,a){var o=n?n+t:t;if(!this._events[o])return!1;var l,u,c=this._events[o],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,s),!0;case 6:return c.fn.call(c.context,e,r,i,s,a),!0}for(u=1,l=Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,r);break;case 4:c[u].fn.call(c[u].context,e,r,i);break;default:if(!l)for(d=1,l=Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return l(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||l(this,s);else{for(var o=0,u=[],c=a.length;o<c;o++)(a[o].fn!==e||i&&!a[o].once||r&&a[o].context!==r)&&u.push(a[o]);u.length?this._events[s]=1===u.length?u[0]:u:l(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&l(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u},52683,t=>{"use strict";let e,r,i,n,s,a,o,l,u;var c,h,d,p,f,m,g,y,_,v,w=t.i(57960),x=t.i(43476),b=t.i(71645),A=t.i(47167);let R=(0,b.createContext)({});function E(t){let e=(0,b.useRef)(null);return null===e.current&&(e.current=t()),e.current}let T="u">typeof window,N=T?b.useLayoutEffect:b.useEffect,O=(0,b.createContext)(null);function S(t){return"object"==typeof t&&null!==t}function C(t){return S(t)&&"offsetHeight"in t}var k=b;let I=(0,b.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function P(t,e){if("function"==typeof t)return t(e);null!=t&&(t.current=e)}class j extends k.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=e.offsetParent,r=C(t)&&t.offsetWidth||0,i=C(t)&&t.offsetHeight||0,n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft,n.right=r-n.width-n.left,n.bottom=i-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function D({children:t,isPresent:e,anchorX:r,anchorY:i,root:n}){let s=(0,k.useId)(),a=(0,k.useRef)(null),o=(0,k.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=(0,k.useContext)(I),u=function(...t){return b.useCallback(function(...t){return e=>{let r=!1,i=t.map(t=>{let i=P(t,e);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let e=0;e<i.length;e++){let r=i[e];"function"==typeof r?r():P(t[e],null)}}}}(...t),t)}(a,t.props?.ref??t?.ref);return(0,k.useInsertionEffect)(()=>{let{width:t,height:u,top:c,left:h,right:d,bottom:p}=o.current;if(e||!a.current||!t||!u)return;let f="left"===r?`left: ${h}`:`right: ${d}`,m="bottom"===i?`bottom: ${p}`:`top: ${c}`;a.current.dataset.motionPopId=s;let g=document.createElement("style");l&&(g.nonce=l);let y=n??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${t}px !important;
            height: ${u}px !important;
            ${f}px !important;
            ${m}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[e]),(0,x.jsx)(j,{isPresent:e,childRef:a,sizeRef:o,children:k.cloneElement(t,{ref:u})})}let M=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:n,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:u})=>{let c=E(L),h=(0,b.useId)(),d=!0,p=(0,b.useMemo)(()=>(d=!1,{id:h,initial:e,isPresent:r,custom:n,onExitComplete:t=>{for(let e of(c.set(t,!0),c.values()))if(!e)return;i&&i()},register:t=>(c.set(t,!1),()=>c.delete(t))}),[r,c,i]);return s&&d&&(p={...p}),(0,b.useMemo)(()=>{c.forEach((t,e)=>c.set(e,!1))},[r]),b.useEffect(()=>{r||c.size||!i||i()},[r]),"popLayout"===a&&(t=(0,x.jsx)(D,{isPresent:r,anchorX:o,anchorY:l,root:u,children:t})),(0,x.jsx)(O.Provider,{value:p,children:t})};function L(){return new Map}function U(t=!0){let e=(0,b.useContext)(O);if(null===e)return[!0,null];let{isPresent:r,onExitComplete:i,register:n}=e,s=(0,b.useId)();(0,b.useEffect)(()=>{if(t)return n(s)},[t]);let a=(0,b.useCallback)(()=>t&&i&&i(s),[s,i,t]);return!r&&i?[!1,a]:[!0]}let B=t=>t.key||"";function V(t){let e=[];return b.Children.forEach(t,t=>{(0,b.isValidElement)(t)&&e.push(t)}),e}let z=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:n=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:u})=>{let[c,h]=U(a),d=(0,b.useMemo)(()=>V(t),[t]),p=a&&!c?[]:d.map(B),f=(0,b.useRef)(!0),m=(0,b.useRef)(d),g=E(()=>new Map),y=(0,b.useRef)(new Set),[_,v]=(0,b.useState)(d),[w,A]=(0,b.useState)(d);N(()=>{f.current=!1,m.current=d;for(let t=0;t<w.length;t++){let e=B(w[t]);p.includes(e)?(g.delete(e),y.current.delete(e)):!0!==g.get(e)&&g.set(e,!1)}},[w,p.length,p.join("-")]);let T=[];if(d!==_){let t=[...d];for(let e=0;e<w.length;e++){let r=w[e],i=B(r);p.includes(i)||(t.splice(e,0,r),T.push(r))}return"wait"===s&&T.length&&(t=T),A(V(t)),v(d),null}let{forceRender:O}=(0,b.useContext)(R);return(0,x.jsx)(x.Fragment,{children:w.map(t=>{let _=B(t),v=(!a||!!c)&&(d===w||p.includes(_));return(0,x.jsx)(M,{isPresent:v,initial:(!f.current||!!r)&&void 0,custom:e,presenceAffectsLayout:n,mode:s,root:u,onExitComplete:v?void 0:()=>{if(y.current.has(_)||(y.current.add(_),!g.has(_)))return;g.set(_,!0);let t=!0;g.forEach(e=>{e||(t=!1)}),t&&(O?.(),A(m.current),a&&h?.(),i&&i())},anchorX:o,anchorY:l,children:t},_)})})},H=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],F=new Set(H),$=(t,e,r)=>r>e?e:r<t?t:r,K={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},W={...K,transform:t=>$(0,1,t)},G={...K,default:1},Y=t=>Math.round(1e5*t)/1e5,Z=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,X=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q=(t,e)=>r=>!!("string"==typeof r&&X.test(r)&&r.startsWith(t)||e&&null!=r&&Object.prototype.hasOwnProperty.call(r,e)),Q=(t,e,r)=>i=>{if("string"!=typeof i)return i;let[n,s,a,o]=i.match(Z);return{[t]:parseFloat(n),[e]:parseFloat(s),[r]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},J={...K,transform:t=>Math.round($(0,255,t))},tt={test:q("rgb","red"),parse:Q("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+J.transform(t)+", "+J.transform(e)+", "+J.transform(r)+", "+Y(W.transform(i))+")"},te={test:q("#"),parse:function(t){let e="",r="",i="",n="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),n=t.substring(4,5),e+=e,r+=r,i+=i,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}},transform:tt.transform},tr=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),ti=tr("deg"),tn=tr("%"),ts=tr("px"),ta=tr("vh"),to=tr("vw"),tl={...tn,parse:t=>tn.parse(t)/100,transform:t=>tn.transform(100*t)},tu={test:q("hsl","hue"),parse:Q("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+tn.transform(Y(e))+", "+tn.transform(Y(r))+", "+Y(W.transform(i))+")"},tc={test:t=>tt.test(t)||te.test(t)||tu.test(t),parse:t=>tt.test(t)?tt.parse(t):tu.test(t)?tu.parse(t):te.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?tt.transform(t):tu.transform(t),getAnimatableNone:t=>{let e=tc.parse(t);return e.alpha=0,tc.transform(e)}},th=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,td="number",tp="color",tf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tm(t){let e=t.toString(),r=[],i={color:[],number:[],var:[]},n=[],s=0,a=e.replace(tf,t=>(tc.test(t)?(i.color.push(s),n.push(tp),r.push(tc.parse(t))):t.startsWith("var(")?(i.var.push(s),n.push("var"),r.push(t)):(i.number.push(s),n.push(td),r.push(parseFloat(t))),++s,"${}")).split("${}");return{values:r,split:a,indexes:i,types:n}}function tg(t){return tm(t).values}function ty(t){let{split:e,types:r}=tm(t),i=e.length;return t=>{let n="";for(let s=0;s<i;s++)if(n+=e[s],void 0!==t[s]){let e=r[s];e===td?n+=Y(t[s]):e===tp?n+=tc.transform(t[s]):n+=t[s]}return n}}let t_=t=>"number"==typeof t?0:tc.test(t)?tc.getAnimatableNone(t):t,tv={test:function(t){return isNaN(t)&&"string"==typeof t&&(t.match(Z)?.length||0)+(t.match(th)?.length||0)>0},parse:tg,createTransformer:ty,getAnimatableNone:function(t){let e=tg(t);return ty(t)(e.map(t_))}},tw=new Set(["brightness","contrast","saturate","opacity"]);function tx(t){let[e,r]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[i]=r.match(Z)||[];if(!i)return t;let n=r.replace(i,""),s=+!!tw.has(e);return i!==r&&(s*=100),e+"("+s+n+")"}let tb=/\b([a-z-]*)\(.*?\)/gu,tA={...tv,getAnimatableNone:t=>{let e=t.match(tb);return e?e.map(tx).join(" "):t}},tR={...K,transform:Math.round},tE={borderWidth:ts,borderTopWidth:ts,borderRightWidth:ts,borderBottomWidth:ts,borderLeftWidth:ts,borderRadius:ts,borderTopLeftRadius:ts,borderTopRightRadius:ts,borderBottomRightRadius:ts,borderBottomLeftRadius:ts,width:ts,maxWidth:ts,height:ts,maxHeight:ts,top:ts,right:ts,bottom:ts,left:ts,inset:ts,insetBlock:ts,insetBlockStart:ts,insetBlockEnd:ts,insetInline:ts,insetInlineStart:ts,insetInlineEnd:ts,padding:ts,paddingTop:ts,paddingRight:ts,paddingBottom:ts,paddingLeft:ts,paddingBlock:ts,paddingBlockStart:ts,paddingBlockEnd:ts,paddingInline:ts,paddingInlineStart:ts,paddingInlineEnd:ts,margin:ts,marginTop:ts,marginRight:ts,marginBottom:ts,marginLeft:ts,marginBlock:ts,marginBlockStart:ts,marginBlockEnd:ts,marginInline:ts,marginInlineStart:ts,marginInlineEnd:ts,fontSize:ts,backgroundPositionX:ts,backgroundPositionY:ts,rotate:ti,rotateX:ti,rotateY:ti,rotateZ:ti,scale:G,scaleX:G,scaleY:G,scaleZ:G,skew:ti,skewX:ti,skewY:ti,distance:ts,translateX:ts,translateY:ts,translateZ:ts,x:ts,y:ts,z:ts,perspective:ts,transformPerspective:ts,opacity:W,originX:tl,originY:tl,originZ:ts,zIndex:tR,fillOpacity:W,strokeOpacity:W,numOctaves:tR},tT={...tE,color:tc,backgroundColor:tc,outlineColor:tc,fill:tc,stroke:tc,borderColor:tc,borderTopColor:tc,borderRightColor:tc,borderBottomColor:tc,borderLeftColor:tc,filter:tA,WebkitFilter:tA},tN=t=>tT[t],tO=()=>({translate:0,scale:1,origin:0,originPoint:0}),tS=()=>({x:tO(),y:tO()}),tC=()=>({min:0,max:0}),tk=()=>({x:tC(),y:tC()}),tI=t=>!!(t&&t.getVelocity),tP=new Set(["width","height","top","left","right","bottom",...H]),tj=t=>e=>e.test(t),tD=[K,ts,tn,ti,to,ta,{test:t=>"auto"===t,parse:t=>t}],tM=t=>tD.find(tj(t)),tL=()=>{},tU=()=>{};A.default;let tB=t=>e=>"string"==typeof e&&e.startsWith(t),tV=tB("--"),tz=tB("var(--"),tH=t=>!!tz(t)&&tF.test(t.split("/*")[0].trim()),tF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function t$(t){return"string"==typeof t&&t.split("/*")[0].includes("var(--")}let tK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,tW=t=>180*t/Math.PI,tG=t=>tZ(tW(Math.atan2(t[1],t[0]))),tY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tG,rotateZ:tG,skewX:t=>tW(Math.atan(t[1])),skewY:t=>tW(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tZ=t=>((t%=360)<0&&(t+=360),t),tX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tq=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tX,scaleY:tq,scale:t=>(tX(t)+tq(t))/2,rotateX:t=>tZ(tW(Math.atan2(t[6],t[5]))),rotateY:t=>tZ(tW(Math.atan2(-t[2],t[0]))),rotateZ:tG,rotate:tG,skewX:t=>tW(Math.atan(t[4])),skewY:t=>tW(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tJ(t){return+!!t.includes("scale")}function t0(t,e){let r,i;if(!t||"none"===t)return tJ(e);let n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)r=tQ,i=n;else{let e=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tY,i=e}if(!i)return tJ(e);let s=r[e],a=i[1].split(",").map(t1);return"function"==typeof s?s(a):a[s]}function t1(t){return parseFloat(t.trim())}let t2=t=>t===K||t===ts,t5=new Set(["x","y","z"]),t6=H.filter(t=>!t5.has(t)),t3={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>t0(e,"x"),y:(t,{transform:e})=>t0(e,"y")};t3.translateX=t3.x,t3.translateY=t3.y;let t4=t=>t,t8={},t9=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t7(t,e){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=t9.reduce((t,r)=>(t[r]=function(t,e){let r=new Set,i=new Set,n=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(e){a.has(e)&&(c.schedule(e),t()),l++,e(o)}let c={schedule:(t,e=!1,s=!1)=>{let o=s&&n?r:i;return e&&a.add(t),o.has(t)||o.add(t),t},cancel:t=>{i.delete(t),a.delete(t)},process:t=>{if(o=t,n){s=!0;return}n=!0,[r,i]=[i,r],r.forEach(u),e,l=0,r.clear(),n=!1,s&&(s=!1,c.process(t))}};return c}(s,e?r:void 0),t),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:p,postRender:f}=a,m=()=>{let s=t8.useManualTiming?n.timestamp:performance.now();r=!1,t8.useManualTiming||(n.delta=i?1e3/60:Math.max(Math.min(s-n.timestamp,40),1)),n.timestamp=s,n.isProcessing=!0,o.process(n),l.process(n),u.process(n),c.process(n),h.process(n),d.process(n),p.process(n),f.process(n),n.isProcessing=!1,r&&e&&(i=!1,t(m))};return{schedule:t9.reduce((e,s)=>{let o=a[s];return e[s]=(e,s=!1,a=!1)=>(!r&&(r=!0,i=!0,n.isProcessing||t(m)),o.schedule(e,s,a)),e},{}),cancel:t=>{for(let e=0;e<t9.length;e++)a[t9[e]].cancel(t)},state:n,steps:a}}let{schedule:et,cancel:ee,state:er,steps:ei}=t7("u">typeof requestAnimationFrame?requestAnimationFrame:t4,!0),en=new Set,es=!1,ea=!1,eo=!1;function el(){if(ea){let t=Array.from(en).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),r=new Map;e.forEach(t=>{let e,i=(e=[],t6.forEach(r=>{let i=t.getValue(r);void 0!==i&&(e.push([r,i.get()]),i.set(+!!r.startsWith("scale")))}),e);i.length&&(r.set(t,i),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=r.get(t);e&&e.forEach(([e,r])=>{t.getValue(e)?.set(r)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}ea=!1,es=!1,en.forEach(t=>t.complete(eo)),en.clear()}function eu(){en.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ea=!0)})}class ec{constructor(t,e,r,i,n,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=i,this.element=n,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(en.add(this),es||(es=!0,et.read(eu),et.resolveKeyframes(el))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:r,motionValue:i}=this;if(null===t[0]){let n=i?.get(),s=t[t.length-1];if(void 0!==n)t[0]=n;else if(r&&e){let i=r.readValue(e,s);null!=i&&(t[0]=i)}void 0===t[0]&&(t[0]=s),i&&void 0===n&&i.set(t[0])}for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),en.delete(this)}cancel(){"scheduled"===this.state&&(en.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function eh(t,e){let r=tN(t);return r!==tA&&(r=tv),r.getAnimatableNone?r.getAnimatableNone(e):void 0}let ed=new Set(["auto","none","0"]);class ep extends ec{constructor(t,e,r,i,n){super(t,e,r,i,n,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let r=0;r<t.length;r++){let i=t[r];if("string"==typeof i&&tH(i=i.trim())){let n=function t(e,r,i=1){tU(i<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[n,s]=function(t){let e=tK.exec(t);if(!e)return[,];let[,r,i,n]=e;return[`--${r??i}`,n]}(e);if(!n)return;let a=window.getComputedStyle(r).getPropertyValue(n);if(a){let t=a.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t)?parseFloat(t):t}return tH(s)?t(s,r,i+1):s}(i,e.current);void 0!==n&&(t[r]=n),r===t.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!tP.has(r)||2!==t.length)return;let[i,n]=t,s=tM(i),a=tM(n);if(t$(i)!==t$(n)&&t3[r]){this.needsMeasurement=!0;return}if(s!==a)if(t2(s)&&t2(a))for(let e=0;e<t.length;e++){let r=t[e];"string"==typeof r&&(t[e]=parseFloat(r))}else t3[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,r=[];for(let e=0;e<t.length;e++)(null===t[e]||function(t){if("number"==typeof t)return 0===t;if(null===t)return!0;return"none"===t||"0"===t||/^0[^.\s]+$/u.test(t)}(t[e]))&&r.push(e);r.length&&function(t,e,r){let i,n=0;for(;n<t.length&&!i;){let e=t[n];"string"==typeof e&&!ed.has(e)&&tm(e).values.length&&(i=t[n]),n++}if(i&&r)for(let n of e)t[n]=eh(r,i)}(t,r,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=t3[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let i=e[e.length-1];void 0!==i&&t.getValue(r,i).jump(i,!1)}measureEndState(){let{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let i=t.getValue(e);i&&i.jump(this.measuredOrigin,!1);let n=r.length-1,s=r[n];r[n]=t3[e](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([e,r])=>{t.getValue(e).set(r)}),this.resolveNoneKeyframes()}}function ef(t,e){-1===t.indexOf(e)&&t.push(e)}function em(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}class eg{constructor(){this.subscriptions=[]}add(t){return ef(this.subscriptions,t),()=>em(this.subscriptions,t)}notify(t,e,r){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](t,e,r);else for(let n=0;n<i;n++){let i=this.subscriptions[n];i&&i(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let{schedule:ey}=t7(queueMicrotask,!1);function e_(){e=void 0}let ev={now:()=>(void 0===e&&ev.set(er.isProcessing||t8.useManualTiming?er.timestamp:performance.now()),e),set:t=>{e=t,queueMicrotask(e_)}};class ew{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{let e=ev.now();if(this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let t of this.dependents)t.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ev.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new eg);let r=this.events[t].add(e);return"change"===t?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return u&&u.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=ev.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ex(t,e){return new ew(t,e)}let eb=[...tD,tc,tv],eA={current:null},eR={current:!1},eE="u">typeof window,eT=new WeakMap;function eN(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}function eO(t){return"string"==typeof t||Array.isArray(t)}let eS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eC=["initial",...eS];function ek(t){return eN(t.animate)||eC.some(e=>eO(t[e]))}function eI(t){return!!(ek(t)||t.variants)}function eP(t){let e=[{},{}];return t?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function ej(t,e,r,i){if("function"==typeof e){let[n,s]=eP(i);e=e(void 0!==r?r:t.custom,n,s)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[n,s]=eP(i);e=e(void 0!==r?r:t.custom,n,s)}return e}let eD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eM={};class eL{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:i,skipAnimations:n,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ec,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=ev.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,et.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=n,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ek(e),this.isVariantNode=eI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(e,{},this);for(const t in h){const e=h[t];void 0!==l[t]&&tI(e)&&e.set(l[t])}}mount(t){this.current=t,eT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(eR.current||function(){if(eR.current=!0,eE)if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eA.current=t.matches;t.addEventListener("change",e),e()}else eA.current=!1}(),this.shouldReduceMotion=eA.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in this.projection&&this.projection.unmount(),ee(this.notifyUpdate),ee(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){let r;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let i=F.has(t);i&&this.onBindTransform&&this.onBindTransform();let n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{n(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in eM){let e=eM[t];if(!e)continue;let{isEnabled:r,Feature:i}=e;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tk()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<eD.length;e++){let r=eD[e];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=t["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(t,e,r){for(let i in e){let n=e[i],s=r[i];if(tI(n))t.addValue(i,n);else if(tI(s))t.addValue(i,ex(n,{owner:t}));else if(s!==n)if(t.hasValue(i)){let e=t.getValue(i);!0===e.liveStyle?e.jump(n):e.hasAnimated||e.set(n)}else{let e=t.getStaticValue(i);t.addValue(i,ex(void 0!==e?e:n,{owner:t}))}}for(let i in r)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return void 0===r&&void 0!==e&&(r=ex(null===e?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];if(null!=r){let i,n;if("string"==typeof r&&(i=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(n=r,/^0[^.\s]+$/u.test(n))))r=parseFloat(r);else{let i;i=r,!eb.find(tj(i))&&tv.test(e)&&(r=eh(t,e))}this.setBaseTarget(t,tI(r)?r.get():r)}return tI(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){let e,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=ej(this.props,r,this.presenceContext?.custom);i&&(e=i[t])}if(r&&void 0!==e)return e;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||tI(i)?void 0!==this.initialValues[t]&&void 0===e?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new eg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){ey.render(this.render)}}class eU extends eL{constructor(){super(...arguments),this.KeyframeResolver=ep}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){let r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;tI(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function eB(t){return t.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}let eV=(t,e)=>e&&"number"==typeof t?e.transform(t):t,ez={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eH=H.length;function eF(t,e,r){let{style:i,vars:n,transformOrigin:s}=t,a=!1,o=!1;for(let t in e){let r=e[t];if(F.has(t)){a=!0;continue}if(tV(t)){n[t]=r;continue}{let e=eV(r,tE[t]);t.startsWith("origin")?(o=!0,s[t]=e):i[t]=e}}if(!e.transform&&(a||r?i.transform=function(t,e,r){let i="",n=!0;for(let s=0;s<eH;s++){let a=H[s],o=t[a];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!a.startsWith("scale");else{let t=parseFloat(o);l=a.startsWith("scale")?1===t:0===t}if(!l||r){let t=eV(o,tE[a]);if(!l){n=!1;let e=ez[a]||a;i+=`${e}(${t}) `}r&&(e[a]=t)}}return i=i.trim(),r?i=r(e,n?"":i):n&&(i="none"),i}(e,t.transform,r):i.transform&&(i.transform="none")),o){let{originX:t="50%",originY:e="50%",originZ:r=0}=s;i.transformOrigin=`${t} ${e} ${r}`}}let e$={offset:"stroke-dashoffset",array:"stroke-dasharray"},eK={offset:"strokeDashoffset",array:"strokeDasharray"},eW=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eG(t,{attrX:e,attrY:r,attrScale:i,pathLength:n,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(eF(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:h,style:d}=t;for(let t of(h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),eW))void 0!==h[t]&&(d[t]=h[t],delete h[t]);void 0!==e&&(h.x=e),void 0!==r&&(h.y=r),void 0!==i&&(h.scale=i),void 0!==n&&function(t,e,r=1,i=0,n=!0){t.pathLength=1;let s=n?e$:eK;t[s.offset]=`${-i}`,t[s.array]=`${e} ${r}`}(h,n,s,a,!1)}let eY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),eZ=t=>"string"==typeof t&&"svg"===t.toLowerCase();function eX(t,{style:e,vars:r},i,n){let s,a=t.style;for(s in e)a[s]=e[s];for(s in n?.applyProjectionStyles(a,i),r)a.setProperty(s,r[s])}function eq(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let eQ={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t)if(!ts.test(t))return t;else t=parseFloat(t);let r=eq(t,e.target.x),i=eq(t,e.target.y);return`${r}% ${i}%`}},eJ=(t,e,r)=>t+(e-t)*r,e0={borderRadius:{...eQ,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eQ,borderTopRightRadius:eQ,borderBottomLeftRadius:eQ,borderBottomRightRadius:eQ,boxShadow:{correct:(t,{treeScale:e,projectionDelta:r})=>{let i=tv.parse(t);if(i.length>5)return t;let n=tv.createTransformer(t),s=+("number"!=typeof i[0]),a=r.x.scale*e.x,o=r.y.scale*e.y;i[0+s]/=a,i[1+s]/=o;let l=eJ(a,o,.5);return"number"==typeof i[2+s]&&(i[2+s]/=l),"number"==typeof i[3+s]&&(i[3+s]/=l),n(i)}}};function e1(t,{layout:e,layoutId:r}){return F.has(t)||t.startsWith("origin")||(e||void 0!==r)&&(!!e0[t]||"opacity"===t)}function e2(t,e,r){let i=t.style,n=e?.style,s={};if(!i)return s;for(let e in i)(tI(i[e])||n&&tI(n[e])||e1(e,t)||r?.getValue(e)?.liveStyle!==void 0)&&(s[e]=i[e]);return s}function e5(t,e,r){let i=e2(t,e,r);for(let r in t)(tI(t[r])||tI(e[r]))&&(i[-1!==H.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]);return i}class e6 extends eU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tk}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(F.has(e)){let t=tN(e);return t&&t.default||0}return e=eY.has(e)?e:eB(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return e5(t,e,r)}build(t,e,r){eG(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,i){for(let r in eX(t,e,void 0,i),e.attrs)t.setAttribute(eY.has(r)?r:eB(r),e.attrs[r])}mount(t){this.isSVGTag=eZ(t.tagName),super.mount(t)}}function e3({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function e4(t){return void 0===t||1===t}function e8({scale:t,scaleX:e,scaleY:r}){return!e4(t)||!e4(e)||!e4(r)}function e9(t){return e8(t)||e7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function e7(t){var e,r;return(e=t.x)&&"0%"!==e||(r=t.y)&&"0%"!==r}function rt(t,e,r,i,n){return void 0!==n&&(t=i+n*(t-i)),i+r*(t-i)+e}function re(t,e=0,r=1,i,n){t.min=rt(t.min,e,r,i,n),t.max=rt(t.max,e,r,i,n)}function rr(t,{x:e,y:r}){re(t.x,e.translate,e.scale,e.originPoint),re(t.y,r.translate,r.scale,r.originPoint)}function ri(t,e){t.min=t.min+e,t.max=t.max+e}function rn(t,e,r,i,n=.5){let s=eJ(t.min,t.max,n);re(t,e,r,s,i)}function rs(t,e){rn(t.x,e.x,e.scaleX,e.scale,e.originX),rn(t.y,e.y,e.scaleY,e.scale,e.originY)}function ra(t,e){return e3(function(t,e){if(!e)return t;let r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(t.getBoundingClientRect(),e))}class ro extends eU{constructor(){super(...arguments),this.type="html",this.renderInstance=eX}readValueFromInstance(t,e){if(F.has(e))return this.projection?.isProjecting?tJ(e):((t,e)=>{let{transform:r="none"}=getComputedStyle(t);return t0(r,e)})(t,e);{let r=window.getComputedStyle(t),i=(tV(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:e}){return ra(t,e)}build(t,e,r){eF(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return e2(t,e,r)}}let rl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ru(t){if("string"!=typeof t||t.includes("-"));else if(rl.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}let rc=(0,b.createContext)({strict:!1}),rh=(0,b.createContext)({});function rd(t){return Array.isArray(t)?t.join(" "):t}let rp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rf(t,e,r){for(let i in e)tI(e[i])||e1(i,r)||(t[i]=e[i])}let rm=()=>({...rp(),attrs:{}}),rg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ry(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rg.has(t)}let r_=t=>!ry(t);try{c=(()=>{let t=Error("Cannot find module '@emotion/is-prop-valid'");throw t.code="MODULE_NOT_FOUND",t})().default,"function"==typeof c&&(r_=t=>t.startsWith("on")?!ry(t):c(t))}catch{}function rv(t){return tI(t)?t.get():t}let rw=t=>(e,r)=>{let i=(0,b.useContext)(rh),n=(0,b.useContext)(O),s=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,n){return{latestValues:function(t,e,r,i){let n={},s=i(t,{});for(let t in s)n[t]=rv(s[t]);let{initial:a,animate:o}=t,l=ek(t),u=eI(t);e&&u&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===o&&(o=e.animate));let c=!!r&&!1===r.initial,h=(c=c||!1===a)?o:a;if(h&&"boolean"!=typeof h&&!eN(h)){let e=Array.isArray(h)?h:[h];for(let r=0;r<e.length;r++){let i=ej(t,e[r]);if(i){let{transitionEnd:t,transition:e,...r}=i;for(let t in r){let e=r[t];if(Array.isArray(e)){let t=c?e.length-1:0;e=e[t]}null!==e&&(n[t]=e)}for(let e in t)n[e]=t[e]}}}return n}(r,i,n,t),renderState:e()}})(t,e,i,n);return r?s():E(s)},rx=rw({scrapeMotionValuesFromProps:e2,createRenderState:rp}),rb=rw({scrapeMotionValuesFromProps:e5,createRenderState:rm}),rA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rR=!1;function rE(){return!function(){if(rR)return;let t={};for(let e in rA)t[e]={isEnabled:t=>rA[e].some(e=>!!t[e])};eM=t,rR=!0}(),eM}let rT=Symbol.for("motionComponentSymbol"),rN="data-"+eB("framerAppearId"),rO=(0,b.createContext)({});function rS(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function rC(t,{forwardMotionProps:e=!1,type:r}={},i,n){i&&function(t){let e=rE();for(let r in t)e[r]={...e[r],...t[r]};eM=e}(i);let s=r?"svg"===r:ru(t),a=s?rb:rx;function o(r,i){var o;let l,u,c,h={...(0,b.useContext)(I),...r,layoutId:function({layoutId:t}){let e=(0,b.useContext)(R).id;return e&&void 0!==t?e+"-"+t:t}(r)},{isStatic:d}=h,p=function(t){let{initial:e,animate:r}=function(t,e){if(ek(t)){let{initial:e,animate:r}=t;return{initial:!1===e||eO(e)?e:void 0,animate:eO(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,b.useContext)(rh));return(0,b.useMemo)(()=>({initial:e,animate:r}),[rd(e),rd(r)])}(r),f=a(r,d);if(!d&&T){(0,b.useContext)(rc).strict;let e=function(t){let{drag:e,layout:r}=rE();if(!e&&!r)return{};let i={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(h);l=e.MeasureLayout,p.visualElement=function(t,e,r,i,n,s){let{visualElement:a}=(0,b.useContext)(rh),o=(0,b.useContext)(rc),l=(0,b.useContext)(O),u=(0,b.useContext)(I),c=u.reducedMotion,h=u.skipAnimations,d=(0,b.useRef)(null),p=(0,b.useRef)(!1);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c,skipAnimations:h,isSVG:s}),p.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));let f=d.current,m=(0,b.useContext)(rO);f&&!f.projection&&n&&("html"===f.type||"svg"===f.type)&&function(t,e,r,i){let{layoutId:n,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:n,layout:s,alwaysMeasureLayout:!!a||o&&rS(o),visualElement:t,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}(d.current,r,n,m);let g=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{f&&g.current&&f.update(r,l)});let y=r[rN],_=(0,b.useRef)(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return N(()=>{p.current=!0,f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),_.current&&f.animationState&&f.animationState.animateChanges())}),(0,b.useEffect)(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),_.current=!1),f.enteringChildren=void 0)}),f}(t,f,h,n,e.ProjectionNode,s)}return(0,x.jsxs)(rh.Provider,{value:p,children:[l&&p.visualElement?(0,x.jsx)(l,{visualElement:p.visualElement,...h}):null,function(t,e,r,{latestValues:i},n,s=!1,a){let o=(a??ru(t)?function(t,e,r,i){let n=(0,b.useMemo)(()=>{let r=rm();return eG(r,e,eZ(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){let e={};rf(e,t.style,t),n.style={...e,...n.style}}return n}:function(t,e){let r,i,n={},s=(r=t.style||{},rf(i={},r,t),Object.assign(i,function({transformTemplate:t},e){return(0,b.useMemo)(()=>{let r=rp();return eF(r,e,t),Object.assign({},r.vars,r.style)},[e])}(t,e)),i);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n})(e,i,n,t),l=function(t,e,r){let i={};for(let n in t)("values"!==n||"object"!=typeof t.values)&&(r_(n)||!0===r&&ry(n)||!e&&!ry(n)||t.draggable&&n.startsWith("onDrag"))&&(i[n]=t[n]);return i}(e,"string"==typeof t,s),u=t!==b.Fragment?{...l,...o,ref:r}:{},{children:c}=e,h=(0,b.useMemo)(()=>tI(c)?c.get():c,[c]);return(0,b.createElement)(t,{...u,children:h})}(t,r,(o=p.visualElement,u=(0,b.useRef)(i),(0,b.useInsertionEffect)(()=>{u.current=i}),c=(0,b.useRef)(null),(0,b.useCallback)(t=>{t&&f.onMount?.(t),o&&(t?o.mount(t):o.unmount());let e=u.current;if("function"==typeof e)if(t){let r=e(t);"function"==typeof r&&(c.current=r)}else c.current?(c.current(),c.current=null):e(t);else e&&(e.current=t)},[o])),f,d,e,s)]})}o.displayName=`motion.${"string"==typeof t?t:`create(${t.displayName??t.name??""})`}`;let l=(0,b.forwardRef)(o);return l[rT]=t,l}class rk{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rI(t,e,r){let i=t.getProps();return ej(i,e,void 0!==r?r:i.custom,t)}function rP(t,e){return t?.[e]??t?.default??t}let rj=t=>Array.isArray(t);function rD(t,e){let r=t.getValue("willChange");if(tI(r)&&r.add)return r.add(e);if(!r&&t8.WillChange){let r=new t8.WillChange("auto");t.addValue("willChange",r),r.add(e)}}let rM=t=>1e3*t,rL=(t,e)=>r=>e(t(r)),rU=(...t)=>t.reduce(rL),rB={layout:0,mainThread:0,waapi:0};function rV(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function rz(t,e){return r=>r>0?e:t}let rH=(t,e,r)=>{let i=t*t,n=r*(e*e-i)+i;return n<0?0:Math.sqrt(n)},rF=[te,tt,tu];function r$(t){let e=rF.find(e=>e.test(t));if(tL(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let r=e.parse(t);return e===tu&&(r=function({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,r/=100;let n=0,s=0,a=0;if(e/=100){let i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;n=rV(o,i,t+1/3),s=rV(o,i,t),a=rV(o,i,t-1/3)}else n=s=a=r;return{red:Math.round(255*n),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}let rK=(t,e)=>{let r=r$(t),i=r$(e);if(!r||!i)return rz(t,e);let n={...r};return t=>(n.red=rH(r.red,i.red,t),n.green=rH(r.green,i.green,t),n.blue=rH(r.blue,i.blue,t),n.alpha=eJ(r.alpha,i.alpha,t),tt.transform(n))},rW=new Set(["none","hidden"]);function rG(t,e){return r=>eJ(t,e,r)}function rY(t){return"number"==typeof t?rG:"string"==typeof t?tH(t)?rz:tc.test(t)?rK:rq:Array.isArray(t)?rZ:"object"==typeof t?tc.test(t)?rK:rX:rz}function rZ(t,e){let r=[...t],i=r.length,n=t.map((t,r)=>rY(t)(t,e[r]));return t=>{for(let e=0;e<i;e++)r[e]=n[e](t);return r}}function rX(t,e){let r={...t,...e},i={};for(let n in r)void 0!==t[n]&&void 0!==e[n]&&(i[n]=rY(t[n])(t[n],e[n]));return t=>{for(let e in i)r[e]=i[e](t);return r}}let rq=(t,e)=>{let r=tv.createTransformer(e),i=tm(t),n=tm(e);if(!(i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length))return tL(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rz(t,e);if(rW.has(t)&&!n.values.length||rW.has(e)&&!i.values.length)return rW.has(t)?r=>r<=0?t:e:r=>r>=1?e:t;return rU(rZ(function(t,e){let r=[],i={color:0,var:0,number:0};for(let n=0;n<e.values.length;n++){let s=e.types[n],a=t.indexes[s][i[s]],o=t.values[a]??0;r[n]=o,i[s]++}return r}(i,n),n.values),r)};function rQ(t,e,r){return"number"==typeof t&&"number"==typeof e&&"number"==typeof r?eJ(t,e,r):rY(t)(t,e)}let rJ=t=>{let e=({timestamp:e})=>t(e);return{start:(t=!0)=>et.update(e,t),stop:()=>ee(e),now:()=>er.isProcessing?er.timestamp:ev.now()}},r0=(t,e,r=10)=>{let i="",n=Math.max(Math.round(e/r),2);for(let e=0;e<n;e++)i+=Math.round(1e4*t(e/(n-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`};function r1(t){let e=0,r=t.next(e);for(;!r.done&&e<2e4;)e+=50,r=t.next(e);return e>=2e4?1/0:e}function r2(t,e,r){var i,n;let s=Math.max(e-5,0);return i=r-t(s),(n=e-s)?1e3/n*i:0}let r5=.01,r6=2,r3=.005,r4=.5;function r8(t,e){return t*Math.sqrt(1-e*e)}let r9=["duration","bounce"],r7=["stiffness","damping","mass"];function it(t,e){return e.some(e=>void 0!==t[e])}function ie(t=.3,e=.3){let r,i="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t,{restSpeed:n,restDelta:s}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:f}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!it(t,r7)&&it(t,r9))if(t.visualDuration){let r=2*Math.PI/(1.2*t.visualDuration),i=r*r,n=2*$(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:1,stiffness:i,damping:n}}else{let r=function({duration:t=800,bounce:e=.3,velocity:r=0,mass:i=1}){let n,s;tL(t<=rM(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-e;a=$(.05,1,a),t=$(.01,10,t/1e3),a<1?(n=e=>{let i=e*a,n=i*t;return .001-(i-r)/r8(e,a)*Math.exp(-n)},s=e=>{let i=e*a*t,s=Math.pow(a,2)*Math.pow(e,2)*t,o=Math.exp(-i),l=r8(Math.pow(e,2),a);return(i*r+r-s)*o*(-n(e)+.001>0?-1:1)/l}):(n=e=>-.001+Math.exp(-e*t)*((e-r)*t+1),s=e=>t*t*(r-e)*Math.exp(-e*t));let o=function(t,e,r){let i=r;for(let r=1;r<12;r++)i-=t(i)/e(i);return i}(n,s,5/t);if(t=rM(t),isNaN(o))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(o,2)*i;return{stiffness:e,damping:2*a*Math.sqrt(i*e),duration:t}}}(t);(e={...e,...r,mass:1}).isResolvedFromDuration=!0}return e}({...i,velocity:-((i.velocity||0)/1e3)}),m=p||0,g=c/(2*Math.sqrt(u*h)),y=o-a,_=Math.sqrt(u/h)/1e3,v=5>Math.abs(y);if(n||(n=v?r5:r6),s||(s=v?r3:r4),g<1){let t=r8(_,g);r=e=>o-Math.exp(-g*_*e)*((m+g*_*y)/t*Math.sin(t*e)+y*Math.cos(t*e))}else if(1===g)r=t=>o-Math.exp(-_*t)*(y+(m+_*y)*t);else{let t=_*Math.sqrt(g*g-1);r=e=>{let r=Math.exp(-g*_*e),i=Math.min(t*e,300);return o-r*((m+g*_*y)*Math.sinh(i)+t*y*Math.cosh(i))/t}}let w={calculatedDuration:f&&d||null,next:t=>{let e=r(t);if(f)l.done=t>=d;else{let i=0===t?m:0;g<1&&(i=0===t?rM(m):r2(r,t,e));let a=Math.abs(o-e)<=s;l.done=Math.abs(i)<=n&&a}return l.value=l.done?o:e,l},toString:()=>{let t=Math.min(r1(w),2e4),e=r0(e=>w.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return w}function ir({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d,p=t[0],f={done:!1,value:p},m=r*e,g=p+m,y=void 0===a?g:a(g);y!==g&&(m=y-p);let _=t=>-m*Math.exp(-t/i),v=t=>y+_(t),w=t=>{let e=_(t),r=v(t);f.done=Math.abs(e)<=u,f.value=f.done?y:r},x=t=>{let e;if(e=f.value,void 0!==o&&e<o||void 0!==l&&e>l){var r;h=t,d=ie({keyframes:[f.value,(r=f.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:r2(v,t,f.value),damping:n,stiffness:s,restDelta:u,restSpeed:c})}};return x(0),{calculatedDuration:null,next:t=>{let e=!1;return(d||void 0!==h||(e=!0,w(t),x(t)),void 0!==h&&t>=h)?d.next(t-h):(e||w(t),f)}}}ie.applyToOptions=t=>{let e=function(t,e=100,r){let i=r({...t,keyframes:[0,e]}),n=Math.min(r1(i),2e4);return{type:"keyframes",ease:t=>i.next(n*t).value/e,duration:n/1e3}}(t,100,ie);return t.ease=e.ease,t.duration=rM(e.duration),t.type="keyframes",t};let ii=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t;function is(t,e,r,i){return t===e&&r===i?t4:n=>0===n||1===n?n:ii(function(t,e,r,i,n){let s,a,o=0;do(s=ii(a=e+(r-e)/2,i,n)-t)>0?r=a:e=a;while(Math.abs(s)>1e-7&&++o<12)return a}(n,0,1,t,r),e,i)}let ia=is(.42,0,1,1),io=is(0,0,.58,1),il=is(.42,0,.58,1),iu=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ic=t=>e=>1-t(1-e),ih=is(.33,1.53,.69,.99),id=ic(ih),ip=iu(id),im=t=>(t*=2)<1?.5*id(t):.5*(2-Math.pow(2,-10*(t-1))),ig=t=>1-Math.sin(Math.acos(t)),iy=ic(ig),i_=iu(ig),iv=t=>Array.isArray(t)&&"number"==typeof t[0],iw={linear:t4,easeIn:ia,easeInOut:il,easeOut:io,circIn:ig,circInOut:i_,circOut:iy,backIn:id,backInOut:ip,backOut:ih,anticipate:im},ix=t=>{if(iv(t)){tU(4===t.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[e,r,i,n]=t;return is(e,r,i,n)}return"string"==typeof t?(tU(void 0!==iw[t],`Invalid easing type '${t}'`,"invalid-easing-type"),iw[t]):t},ib=(t,e,r)=>{let i=e-t;return 0===i?1:(r-t)/i};function iA({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){var n;let s,a=Array.isArray(i)&&"number"!=typeof i[0]?i.map(ix):ix(i),o={done:!1,value:e[0]},l=function(t,e,{clamp:r=!0,ease:i,mixer:n}={}){let s=t.length;if(tU(s===e.length,"Both input and output ranges must be the same length","range-length"),1===s)return()=>e[0];if(2===s&&e[0]===e[1])return()=>e[1];let a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());let o=function(t,e,r){let i=[],n=r||t8.mix||rQ,s=t.length-1;for(let r=0;r<s;r++){let s=n(t[r],t[r+1]);e&&(s=rU(Array.isArray(e)?e[r]||t4:e,s)),i.push(s)}return i}(e,i,n),l=o.length,u=r=>{if(a&&r<t[0])return e[0];let i=0;if(l>1)for(;i<t.length-2&&!(r<t[i+1]);i++);let n=ib(t[i],t[i+1],r);return o[i](n)};return r?e=>u($(t[0],t[s-1],e)):u}((n=r&&r.length===e.length?r:(!function(t,e){let r=t[t.length-1];for(let i=1;i<=e;i++){let n=ib(0,e,i);t.push(eJ(r,1,n))}}(s=[0],e.length-1),s),n.map(e=>e*t)),e,{ease:Array.isArray(a)?a:e.map(()=>a||il).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}let iR=t=>null!==t;function iE(t,{repeat:e,repeatType:r="loop"},i,n=1){let s=t.filter(iR),a=n<0||e&&"loop"!==r&&e%2==1?0:s.length-1;return a&&void 0!==i?i:s[a]}let iT={decay:ir,inertia:ir,tween:iA,keyframes:iA,spring:ie};function iN(t){"string"==typeof t.type&&(t.type=iT[t.type])}class iO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}let iS=t=>t/100;class iC extends iO{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:t}=this.options;t&&t.updatedAt!==ev.now()&&this.tick(ev.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},rB.mainThread++,this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){let{options:t}=this;iN(t);let{type:e=iA,repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:s=0}=t,{keyframes:a}=t,o=e||iA;o!==iA&&"number"!=typeof a[0]&&(this.mixKeyframes=rU(iS,rQ(a[0],a[1])),a=[0,100]);let l=o({...t,keyframes:a});"mirror"===n&&(this.mirroredGenerator=o({...t,keyframes:[...a].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=r1(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(t){let e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){let{generator:r,totalDuration:i,mixKeyframes:n,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let _=this.currentTime,v=r;if(c){let t=Math.min(this.currentTime,i)/a,e=Math.floor(t),r=t%1;!r&&t>=1&&(r=1),1===r&&e--,(e=Math.min(e,c+1))%2&&("reverse"===h?(r=1-r,d&&(r-=d/a)):"mirror"===h&&(v=s)),_=$(0,1,r)*a}let w=y?{done:!1,value:u[0]}:v.next(_);n&&(w.value=n(w.value));let{done:x}=w;y||null===o||(x=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let b=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return b&&p!==ir&&(w.value=iE(u,this.options,m,this.speed)),f&&f(w.value),b&&this.finish(),w}then(t,e){return this.finished.then(t,e)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+t/1e3}get time(){return this.currentTime/1e3}set time(t){t=rM(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ev.now());let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:t=rJ,startTime:e}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ev.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,rB.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ik(t){let e;return()=>(void 0===e&&(e=t()),e)}let iI=ik(()=>void 0!==window.ScrollTimeline),iP={},ij=(o=ik(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),()=>iP.linearEasing??o()),iD=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,iM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iD([0,.65,.55,1]),circOut:iD([.55,0,1,.45]),backIn:iD([.31,.01,.66,-.59]),backOut:iD([.33,1.53,.69,.99])};function iL(t){return"function"==typeof t&&"applyToOptions"in t}class iU extends iO{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:i,pseudoElement:n,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=t;this.isPseudoElement=!!n,this.allowFlatten=s,this.options=t,tU("string"!=typeof t.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:t,...e}){return iL(t)&&ij()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}(t);this.animation=function(t,e,r,{delay:i=0,duration:n=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u){let c={[e]:r};l&&(c.offset=l);let h=function t(e,r){if(e)return"function"==typeof e?ij()?r0(e,r):"ease-out":iv(e)?iD(e):Array.isArray(e)?e.map(e=>t(e,r)||iM.easeOut):iM[e]}(o,n);Array.isArray(h)&&(c.easing=h);let d={delay:i,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};u&&(d.pseudoElement=u);let p=t.animate(c,d);return p}(e,r,i,l,n),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){let t=iE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(t):r.startsWith("--")?e.style.setProperty(r,t):e.style[r]=t,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+t/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=rM(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&iI())?(this.animation.timeline=t,t4):e(this)}}let iB={anticipate:im,backInOut:ip,circInOut:i_};class iV extends iU{constructor(t){!function(t){"string"==typeof t.ease&&t.ease in iB&&(t.ease=iB[t.ease])}(t),iN(t),super(t),void 0!==t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){let{motionValue:e,onUpdate:r,onComplete:i,element:n,...s}=this.options;if(!e)return;if(void 0!==t)return void e.set(t);let a=new iC({...s,autoplay:!1}),o=Math.max(10,ev.now()-this.startTime),l=$(0,10,o-10);e.setWithVelocity(a.sample(Math.max(0,o-l)).value,a.sample(o).value,l),a.stop()}}let iz=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(tv.test(t)||"0"===t)&&!t.startsWith("url("));function iH(t){t.duration=0,t.type="keyframes"}let iF=new Set(["opacity","clipPath","filter","transform"]),i$=ik(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class iK extends iO{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:s="loop",keyframes:a,name:o,motionValue:l,element:u,...c}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ev.now();const h={autoplay:t,delay:e,type:r,repeat:i,repeatDelay:n,repeatType:s,name:o,motionValue:l,element:u,...c},d=u?.KeyframeResolver||ec;this.keyframeResolver=new d(a,(t,e,r)=>this.onKeyframesResolved(t,e,h,!r),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,i){this.keyframeResolver=void 0;let{name:n,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:u}=r;this.resolvedAt=ev.now(),!function(t,e,r,i){let n=t[0];if(null===n)return!1;if("display"===e||"visibility"===e)return!0;let s=t[t.length-1],a=iz(n,e),o=iz(s,e);return tL(a===o,`You are trying to animate ${e} from "${n}" to "${s}". "${a?s:n}" is not an animatable value.`,"value-not-animatable"),!!a&&!!o&&(function(t){let e=t[0];if(1===t.length)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}(t)||("spring"===r||iL(r))&&i)}(t,n,s,a)&&((t8.instantAnimations||!o)&&u?.(iE(t,r,e)),t[0]=t[t.length-1],iH(r),r.repeat=0);let c={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},h=!l&&function(t){let{motionValue:e,name:r,repeatDelay:i,repeatType:n,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=e.owner.getProps();return i$()&&r&&iF.has(r)&&("transform"!==r||!l)&&!o&&!i&&"mirror"!==n&&0!==s&&"inertia"!==a}(c),d=c.motionValue?.owner?.current,p=h?new iV({...c,element:d}):new iC(c);p.finished.then(()=>{this.notifyFinished()}).catch(t4),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eo=!0,eu(),el(),eo=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let iW={type:"spring",stiffness:500,damping:25,restSpeed:10},iG={type:"keyframes",duration:.8},iY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iZ=t=>null!==t,iX=(t,e,r,i={},n,s)=>a=>{let o=rP(i,t)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=rM(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:n};!function({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(o)&&Object.assign(c,((t,{keyframes:e})=>e.length>2?iG:F.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:iW:iY)(t,c)),c.duration&&(c.duration=rM(c.duration)),c.repeatDelay&&(c.repeatDelay=rM(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(iH(c),0===c.delay&&(h=!0)),(t8.instantAnimations||t8.skipAnimations||n?.shouldSkipAnimations)&&(h=!0,iH(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,h&&!s&&void 0!==e.get()){let t=function(t,{repeat:e,repeatType:r="loop"},i){let n=t.filter(iZ),s=e&&"loop"!==r&&e%2==1?0:n.length-1;return n[s]}(c.keyframes,o);if(void 0!==t)return void et.update(()=>{c.onUpdate(t),c.onComplete()})}return o.isSync?new iC(c):new iK(c)};function iq(t,e,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e,l=s?.reduceMotion;i&&(s=i);let u=[],c=n&&t.animationState&&t.animationState.getState()[n];for(let e in o){let i=t.getValue(e,t.latestValues[e]??null),n=o[e];if(void 0===n||c&&function({protectedKeys:t,needsAnimating:e},r){let i=t.hasOwnProperty(r)&&!0!==e[r];return e[r]=!1,i}(c,e))continue;let a={delay:r,...rP(s||{},e)},h=i.get();if(void 0!==h&&!i.isAnimating&&!Array.isArray(n)&&n===h&&!a.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let r=t.props[rN];if(r){let t=window.MotionHandoffAnimation(r,e,et);null!==t&&(a.startTime=t,d=!0)}}rD(t,e);let p=l??t.shouldReduceMotion;i.start(iX(e,i,n,p&&tP.has(e)?{type:!1}:a,t,d));let f=i.animation;f&&u.push(f)}return a&&Promise.all(u).then(()=>{et.update(()=>{a&&function(t,e){let{transitionEnd:r={},transition:i={},...n}=rI(t,e)||{};for(let e in n={...n,...r}){var s;let r=rj(s=n[e])?s[s.length-1]||0:s;t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ex(r))}}(t,a)})}),u}function iQ(t,e,r,i=0,n=1){let s=Array.from(t).sort((t,e)=>t.sortNodePosition(e)).indexOf(e),a=t.size,o=(a-1)*i;return"function"==typeof r?r(s,a):1===n?s*i:o-s*i}function iJ(t,e,r={}){let i=rI(t,e,"exit"===r.type?t.presenceContext?.custom:void 0),{transition:n=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);let s=i?()=>Promise.all(iq(t,i,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(i=0)=>{let{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=n;return function(t,e,r=0,i=0,n=0,s=1,a){let o=[];for(let l of t.variantChildren)l.notify("AnimationStart",e),o.push(iJ(l,e,{...a,delay:r+("function"==typeof i?0:i)+iQ(t.variantChildren,l,i,n,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}(t,e,i,s,a,o,r)}:()=>Promise.resolve(),{when:o}=n;if(!o)return Promise.all([s(),a(r.delay)]);{let[t,e]="beforeChildren"===o?[s,a]:[a,s];return t().then(()=>e())}}let i0=eC.length;function i1(t,e){if(!Array.isArray(e))return!1;let r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}let i2=[...eS].reverse(),i5=eS.length;function i6(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i3(){return{animate:i6(!0),whileInView:i6(),whileHover:i6(),whileTap:i6(),whileDrag:i6(),whileFocus:i6(),exit:i6()}}let i4=0;function i8(t){return[t("x"),t("y")]}let i9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),i7=new Set(["INPUT","SELECT","TEXTAREA"]);function nt(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}let ne={x:!1,y:!1};function nr(t){return t.max-t.min}function ni(t,e,r,i=.5){t.origin=i,t.originPoint=eJ(e.min,e.max,t.origin),t.scale=nr(r)/nr(e),t.translate=eJ(r.min,r.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function nn(t,e,r,i){ni(t.x,e.x,r.x,i?i.originX:void 0),ni(t.y,e.y,r.y,i?i.originY:void 0)}function ns(t,e,r){t.min=r.min+e.min,t.max=t.min+nr(e)}function na(t,e,r){t.min=e.min-r.min,t.max=t.min+nr(e)}function no(t,e,r){na(t.x,e.x,r.x),na(t.y,e.y,r.y)}let nl=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function nu(t){return{point:{x:t.pageX,y:t.pageY}}}function nc(t,e,r,i){return nt(t,e,t=>nl(t)&&r(t,nu(t)),i)}let nh=({current:t})=>t?t.ownerDocument.defaultView:null,nd=(t,e)=>Math.abs(t-e),np=new Set(["auto","scroll"]);class nf{constructor(t,e,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:n=!1,distanceThreshold:s=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=t=>{this.handleScroll(t.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=ny(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,n=(t=r.offset,e={x:0,y:0},Math.sqrt(nd(t.x,e.x)**2+nd(t.y,e.y)**2)>=this.distanceThreshold);if(!i&&!n)return;let{point:s}=r,{timestamp:a}=er;this.history.push({...s,timestamp:a});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=nm(e,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:n}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=ny("pointercancel"===t.type?this.lastMoveEventInfo:nm(e,this.transformPagePoint),this.history);this.startEvent&&r&&r(t,s),i&&i(t,s)},!nl(t))return;this.dragSnapToOrigin=n,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const o=nm(nu(t),this.transformPagePoint),{point:l}=o,{timestamp:u}=er;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=e;c&&c(t,ny(o,this.history)),this.removeListeners=rU(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let e=t.parentElement;for(;e;){let t=getComputedStyle(e);(np.has(t.overflowX)||np.has(t.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){let e=this.scrollPositions.get(t);if(!e)return;let r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},n={x:i.x-e.x,y:i.y-e.y};(0!==n.x||0!==n.y)&&(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=n.x,this.lastMoveEventInfo.point.y+=n.y):this.history.length>0&&(this.history[0].x-=n.x,this.history[0].y-=n.y),this.scrollPositions.set(t,i),et.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ee(this.updatePoint)}}function nm(t,e){return e?{point:e(t.point)}:t}function ng(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ny({point:t},e){return{point:t,delta:ng(t,n_(e)),offset:ng(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null,n=n_(t);for(;r>=0&&(i=t[r],!(n.timestamp-i.timestamp>rM(.1)));)r--;if(!i)return{x:0,y:0};let s=(n.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};let a={x:(n.x-i.x)/s,y:(n.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(e,.1)}}function n_(t){return t[t.length-1]}function nv(t,e,r){return{min:void 0!==e?t.min+e:void 0,max:void 0!==r?t.max+r-(t.max-t.min):void 0}}function nw(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function nx(t,e,r){return{min:nb(t,e),max:nb(t,r)}}function nb(t,e){return"number"==typeof t?t:t[e]||0}let nA=new WeakMap;class nR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tk(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let n=t=>{e?(this.stopAnimation(),this.snapToCursor(nu(t).point)):this.pauseAnimation()},s=(t,e)=>{this.stopAnimation();let{drag:r,dragPropagation:i,onDragStart:n}=this.getProps();if(r&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(t){if("x"===t||"y"===t)if(ne[t])return null;else return ne[t]=!0,()=>{ne[t]=!1};return ne.x||ne.y?null:(ne.x=ne.y=!0,()=>{ne.x=ne.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),i8(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tn.test(e)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[t];i&&(e=nr(i)*(parseFloat(e)/100))}}this.originPoint[t]=e}),n&&et.update(()=>n(t,e),!1,!0),rD(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},a=(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:n,onDrag:s}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:a}=e;if(i&&null===this.currentDirection){this.currentDirection=function(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}(a),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),s&&et.update(()=>s(t,e),!1,!0)},o=(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>i8(t=>"paused"===this.getAnimationState(t)&&this.getAxisMotionValue(t).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new nf(t,{onSessionStart:n,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:nh(this.visualElement),element:this.visualElement.current})}stop(t,e){let r=t||this.latestPointerEvent,i=e||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!i||!r)return;let{velocity:s}=i;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,r){let{drag:i}=this.getProps();if(!r||!nE(t,i,this.currentDirection))return;let n=this.getAxisMotionValue(t),s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=function(t,{min:e,max:r},i){return void 0!==e&&t<e?t=i?eJ(e,t,i.min):Math.max(t,e):void 0!==r&&t>r&&(t=i?eJ(r,t,i.max):Math.min(t,r)),t}(s,this.constraints[t],this.elastic[t])),n.set(s)}resolveConstraints(){let{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&rS(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(t,{top:e,left:r,bottom:i,right:n}){return{x:nv(t.x,r,n),y:nv(t.y,e,i)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:nx(t,"left","right"),y:nx(t,"top","bottom")}}(e),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&i8(t=>{var e,i;let n;!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=(e=r.layoutBox[t],i=this.constraints[t],n={},void 0!==i.min&&(n.min=i.min-e.min),void 0!==i.max&&(n.max=i.max-e.min),n))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!rS(e))return!1;let i=e.current;tU(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let s=function(t,e,r){let i=ra(t,r),{scroll:n}=e;return n&&(ri(i.x,n.offset.x),ri(i.y,n.offset.y)),i}(i,n.root,this.visualElement.getTransformPagePoint()),a=(t=n.layout.layoutBox,{x:nw(t.x,s.x),y:nw(t.y,s.y)});if(r){let t=r(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(a));this.hasMutatedConstraints=!!t,t&&(a=e3(t))}return a}startAnimation(t){let{drag:e,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(i8(a=>{if(!nE(a,e,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:r?t[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(t,e){let r=this.getAxisMotionValue(t);return rD(this.visualElement,t),r.start(iX(t,r,0,e,this.visualElement,!1))}stopAnimation(){i8(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){i8(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){let e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps();return r[e]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){i8(e=>{let{drag:r}=this.getProps();if(!nE(e,r,this.currentDirection))return;let{projection:i}=this.visualElement,n=this.getAxisMotionValue(e);if(i&&i.layout){let{min:r,max:s}=i.layout.layoutBox[e],a=n.get()||0;n.set(t[e]-eJ(r,s,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!rS(e)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};i8(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){var r,n;let s,a,o,l=e.get();i[t]=(r={min:l,max:l},n=this.constraints[t],s=.5,a=nr(r),(o=nr(n))>a?s=ib(n.min,n.max-a,r.min):a>o&&(s=ib(r.min,r.max-o,n.min)),$(0,1,s))}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),i8(e=>{if(!nE(e,t,null))return;let r=this.getAxisMotionValue(e),{min:n,max:s}=this.constraints[e];r.set(eJ(n,s,i[e]))})}addListeners(){if(!this.visualElement.current)return;nA.set(this.visualElement,this);let t=this.visualElement.current,e=nc(t,"pointerdown",e=>{let{drag:r,dragListener:i=!0}=this.getProps(),n=e.target,s=n!==t&&(i7.has(n.tagName)||!0===n.isContentEditable);r&&i&&!s&&this.start(e)}),r=()=>{let{dragConstraints:t}=this.getProps();rS(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);let s=nt(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(i8(e=>{let r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),n(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:s=.35,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:s,dragMomentum:a}}}function nE(t,e,r){return(!0===e||e===t)&&(null===r||r===t)}let nT=t=>(e,r)=>{t&&et.update(()=>t(e,r),!1,!0)},nN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var nO=b;let nS=!1;class nC extends nO.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=t;n&&(e.group&&e.group.add(n),r&&r.register&&i&&r.register(n),nS&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),nN.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:r,drag:i,isPresent:n}=this.props,{projection:s}=r;return s&&(s.isPresent=n,t.layoutDependency!==e&&s.setOptions({...s.options,layoutDependency:e}),nS=!0,i||t.layoutDependency!==e||void 0===e||t.isPresent!==n?s.willUpdate():this.safeToRemove(),t.isPresent!==n&&(n?s.promote():s.relegate()||et.postRender(()=>{let t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ey.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:i}=t;nS=!0,i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nk(t){let[e,r]=U(),i=(0,nO.useContext)(R);return(0,x.jsx)(nC,{...t,layoutGroup:i,switchLayoutGroup:(0,nO.useContext)(rO),isPresent:e,safeToRemove:r})}function nI(t){return S(t)&&"ownerSVGElement"in t}let nP=["TopLeft","TopRight","BottomLeft","BottomRight"],nj=nP.length,nD=t=>"string"==typeof t?parseFloat(t):t,nM=t=>"number"==typeof t||ts.test(t);function nL(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let nU=nV(0,.5,iy),nB=nV(.5,.95,t4);function nV(t,e,r){return i=>i<t?0:i>e?1:r(ib(t,e,i))}function nz(t,e){t.min=e.min,t.max=e.max}function nH(t,e){nz(t.x,e.x),nz(t.y,e.y)}function nF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function n$(t,e,r,i,n){return t-=e,t=i+1/r*(t-i),void 0!==n&&(t=i+1/n*(t-i)),t}function nK(t,e,[r,i,n],s,a){!function(t,e=0,r=1,i=.5,n,s=t,a=t){if(tn.test(e)&&(e=parseFloat(e),e=eJ(a.min,a.max,e/100)-a.min),"number"!=typeof e)return;let o=eJ(s.min,s.max,i);t===s&&(o-=e),t.min=n$(t.min,e,r,o,n),t.max=n$(t.max,e,r,o,n)}(t,e[r],e[i],e[n],e.scale,s,a)}let nW=["x","scaleX","originX"],nG=["y","scaleY","originY"];function nY(t,e,r,i){nK(t.x,e,nW,r?r.x:void 0,i?i.x:void 0),nK(t.y,e,nG,r?r.y:void 0,i?i.y:void 0)}function nZ(t){return 0===t.translate&&1===t.scale}function nX(t){return nZ(t.x)&&nZ(t.y)}function nq(t,e){return t.min===e.min&&t.max===e.max}function nQ(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nJ(t,e){return nQ(t.x,e.x)&&nQ(t.y,e.y)}function n0(t){return nr(t.x)/nr(t.y)}function n1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n2{constructor(){this.members=[]}add(t){ef(this.members,t),t.scheduleRender()}remove(t){if(em(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e,r=this.members.findIndex(e=>t===e);if(0===r)return!1;for(let t=r;t>=0;t--){let r=this.members[t];if(!1!==r.isPresent){e=r;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();let i=r.options.layoutDependency,n=t.options.layoutDependency;(void 0===i||void 0===n||i!==n)&&(t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));let{crossfade:s}=t.options;!1===s&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let n5=(t,e)=>t.depth-e.depth;class n6{constructor(){this.children=[],this.isDirty=!1}add(t){ef(this.children,t),this.isDirty=!0}remove(t){em(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(n5),this.isDirty=!1,this.children.forEach(t)}}let n3=["","X","Y","Z"],n4=0;function n8(t,e,r,i){let{latestValues:n}=e;n[t]&&(r[t]=n[t],e.setStaticValue(t,0),i&&(i[t]=0))}function n9({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(t={},r=e?.()){this.id=n4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(se),this.nodes.forEach(sl),this.nodes.forEach(su),this.nodes.forEach(sr)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new n6)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new eg),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let r=this.eventHandlers.get(t);r&&r.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e){if(this.instance)return;this.isSVG=nI(e)&&!(nI(e)&&"svg"===e.tagName),this.instance=e;let{layoutId:r,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let r,i=0,n=()=>this.root.updateBlockedByResize=!1;et.read(()=>{i=window.innerWidth}),t(e,()=>{let t=window.innerWidth;if(t!==i){let e,s;i=t,this.root.updateBlockedByResize=!0,r&&r(),e=ev.now(),s=({timestamp:t})=>{let r=t-e;r>=250&&(ee(s),n(r-250))},et.setup(s,!0),r=()=>ee(s),nN.hasAnimatedSinceResize&&(nN.hasAnimatedSinceResize=!1,this.nodes.forEach(so))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&n&&(r||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeLayoutChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let s=this.options.transition||n.getDefaultTransition()||sm,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=n.getProps(),l=!this.targetLayout||!nJ(this.targetLayout,i),u=!e&&r;if(this.options.layoutRoot||this.resumeFrom||u||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let e={...rP(s,"layout"),onPlay:a,onComplete:o};(n.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else e||so(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ee(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sc),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:r}=e.options;if(!r)return;let i=r.props[rN];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",et,!(t||r))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&t(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:r}=this.options;if(void 0===e&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sn);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(ss);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sa),this.nodes.forEach(n7),this.nodes.forEach(st)):this.nodes.forEach(ss),this.clearAllSnapshots();let t=ev.now();er.delta=$(0,1e3/60,t-er.timestamp),er.timestamp=t,er.isProcessing=!0,ei.update.process(er),ei.preRender.process(er),ei.render.process(er),er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(si),this.sharedNodes.forEach(sh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||nr(this.snapshot.measuredBox.x)||nr(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tk(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&this.instance){let e=i(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!n)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!nX(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;t&&this.instance&&(e||e9(this.latestValues)||s)&&(n(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let r=this.measurePageBox(),i=this.removeElementScroll(r);return t&&(i=this.removeTransform(i)),s_((e=i).x),s_(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return tk();let e=t.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sw))){let{scroll:t}=this.root;t&&(ri(e.x,t.offset.x),ri(e.y,t.offset.y))}return e}removeElementScroll(t){let e=tk();if(nH(e,t),this.scroll?.wasRoot)return e;for(let r=0;r<this.path.length;r++){let i=this.path[r],{scroll:n,options:s}=i;i!==this.root&&n&&s.layoutScroll&&(n.wasRoot&&nH(e,t),ri(e.x,n.offset.x),ri(e.y,n.offset.y))}return e}applyTransform(t,e=!1){let r=tk();nH(r,t);for(let t=0;t<this.path.length;t++){let i=this.path[t];!e&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rs(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),e9(i.latestValues)&&rs(r,i.latestValues)}return e9(this.latestValues)&&rs(r,this.latestValues),r}removeTransform(t){let e=tk();nH(e,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];if(!r.instance||!e9(r.latestValues))continue;e8(r.latestValues)&&r.updateSnapshot();let i=tk();nH(i,r.measurePageBox()),nY(e,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return e9(this.latestValues)&&nY(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){let e=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=e.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==e;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:n}=this.options;if(!this.layout||!(i||n))return;this.resolvedRelativeTargetAt=er.timestamp;let s=this.getClosestProjectingParent();if(s&&this.linkedParentVersion!==s.layoutVersion&&!s.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(s&&s.layout?this.createRelativeTarget(s,this.layout.layoutBox,s.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=tk(),this.targetWithTransforms=tk()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var a,o,l;this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,ns(a.x,o.x,l.x),ns(a.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nH(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):nH(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,s&&!!s.resumingFrom==!!this.resumingFrom&&!s.options.layoutScroll&&s.target&&1!==this.animationProgress?this.createRelativeTarget(s,this.target,s.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||e8(this.parent.latestValues)||e7(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(t,e,r){this.relativeParent=t,this.linkedParentVersion=t.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tk(),this.relativeTargetOrigin=tk(),no(this.relativeTargetOrigin,e,r),nH(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let t=this.getLead(),e=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),e&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===er.timestamp&&(r=!1),r)return;let{layout:i,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||n))return;nH(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(t,e,r,i=!1){let n,s,a=r.length;if(a){e.x=e.y=1;for(let o=0;o<a;o++){s=(n=r[o]).projectionDelta;let{visualElement:a}=n.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(i&&n.options.layoutScroll&&n.scroll&&n!==n.root&&rs(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,rr(t,s)),i&&e9(n.latestValues)&&rs(t,n.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,e),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=tk());let{target:o}=t;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(nF(this.prevProjectionDelta.x,this.projectionDelta.x),nF(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nn(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&n1(this.projectionDelta.x,this.prevProjectionDelta.x)&&n1(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.visualElement?.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tS(),this.projectionDelta=tS(),this.projectionDeltaWithTransform=tS()}setAnimationOrigin(t,e=!1){let r,i=this.snapshot,n=i?i.latestValues:{},s={...this.latestValues},a=tS();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let o=tk(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(sf));this.animationProgress=0,this.mixTargetDelta=e=>{let i=e/1e3;if(sd(a.x,t.x,i),sd(a.y,t.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f,m,g;no(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=i,sp(p.x,f.x,m.x,g),sp(p.y,f.y,m.y,g),r&&(u=this.relativeTarget,d=r,nq(u.x,d.x)&&nq(u.y,d.y))&&(this.isProjectionDirty=!1),r||(r=tk()),nH(r,this.relativeTarget)}l&&(this.animationValues=s,function(t,e,r,i,n,s){n?(t.opacity=eJ(0,r.opacity??1,nU(i)),t.opacityExit=eJ(e.opacity??1,0,nB(i))):s&&(t.opacity=eJ(e.opacity??1,r.opacity??1,i));for(let n=0;n<nj;n++){let s=`border${nP[n]}Radius`,a=nL(e,s),o=nL(r,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||nM(a)===nM(o)?(t[s]=Math.max(eJ(nD(a),nD(o),i),0),(tn.test(o)||tn.test(a))&&(t[s]+="%")):t[s]=o)}(e.rotate||r.rotate)&&(t.rotate=eJ(e.rotate||0,r.rotate||0,i))}(s,n,this.latestValues,i,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ee(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{var e,r,i;let n;nN.hasAnimatedSinceResize=!0,rB.layout++,this.motionValue||(this.motionValue=ex(0)),this.currentAnimation=(e=this.motionValue,r=[0,1e3],i={...t,velocity:0,isSync:!0,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{rB.layout--},onComplete:()=>{rB.layout--,t.onComplete&&t.onComplete(),this.completeAnimation()}},(n=tI(e)?e:ex(e)).start(iX("",n,r,i)),n.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:r,layout:i,latestValues:n}=t;if(e&&r&&i){if(this!==t&&this.layout&&i&&sv(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||tk();let e=nr(this.layout.layoutBox.x);r.x.min=t.target.x.min,r.x.max=r.x.min+e;let i=nr(this.layout.layoutBox.y);r.y.min=t.target.y.min,r.y.max=r.y.min+i}nH(e,r),rs(e,n),nn(this.projectionDeltaWithTransform,this.layoutCorrected,e,n)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new n2),this.sharedNodes.get(t).add(e);let r=e.options.initialPromotionConfig;e.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){let{layoutId:t}=this.options;return t&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:t}=this.options;return t?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:r}=t;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(e=!0),!e)return;let i={};r.z&&n8("z",t,i,this.animationValues);for(let e=0;e<n3.length;e++)n8(`rotate${n3[e]}`,t,i,this.animationValues),n8(`skew${n3[e]}`,t,i,this.animationValues);for(let e in t.render(),i)t.setStaticValue(e,i[e]),this.animationValues&&(this.animationValues[e]=i[e]);t.scheduleRender()}applyProjectionStyles(t,e){if(!this.instance||this.isSVG)return;if(!this.isVisible){t.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=rv(e?.pointerEvents)||"",t.transform=r?r(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=rv(e?.pointerEvents)||""),this.hasProjected&&!e9(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1);return}t.visibility="";let n=i.animationValues||i.latestValues;this.applyTransformsToTarget();let s=function(t,e,r){let i="",n=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((n||s||a)&&(i=`translate3d(${n}px, ${s}px, ${a}px) `),(1!==e.x||1!==e.y)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){let{transformPerspective:t,rotate:e,rotateX:n,rotateY:s,skewX:a,skewY:o}=r;t&&(i=`perspective(${t}px) ${i}`),e&&(i+=`rotate(${e}deg) `),n&&(i+=`rotateX(${n}deg) `),s&&(i+=`rotateY(${s}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=t.x.scale*e.x,l=t.y.scale*e.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,n);r&&(s=r(n,s)),t.transform=s;let{x:a,y:o}=this.projectionDelta;for(let e in t.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,i.animationValues?t.opacity=i===this?n.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:t.opacity=i===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0,e0){if(void 0===n[e])continue;let{correct:r,applyTo:a,isCSSVariable:o}=e0[e],l="none"===s?n[e]:r(n[e],i);if(a){let e=a.length;for(let r=0;r<e;r++)t[a[r]]=l}else o?this.options.visualElement.renderState.vars[e]=l:t[e]=l}this.options.layoutId&&(t.pointerEvents=i===this?rv(e?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>t.currentAnimation?.stop()),this.root.nodes.forEach(sn),this.root.sharedNodes.clear()}}}function n7(t){t.updateLayout()}function st(t){let e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:i}=t.layout,{animationType:n}=t.options,s=e.source!==t.layout.source;"size"===n?i8(t=>{let i=s?e.measuredBox[t]:e.layoutBox[t],n=nr(i);i.min=r[t].min,i.max=i.min+n}):sv(n,e.layoutBox,r)&&i8(i=>{let n=s?e.measuredBox[i]:e.layoutBox[i],a=nr(r[i]);n.max=n.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+a)});let a=tS();nn(a,r,e.layoutBox);let o=tS();s?nn(o,t.applyTransform(i,!0),e.measuredBox):nn(o,r,e.layoutBox);let l=!nX(a),u=!1;if(!t.resumeFrom){let i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:n,layout:s}=i;if(n&&s){let a=tk();no(a,e.layoutBox,n.layoutBox);let o=tk();no(o,r,s.layoutBox),nJ(a,o)||(u=!0),i.options.layoutRoot&&(t.relativeTarget=o,t.relativeTargetOrigin=a,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function se(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sr(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function si(t){t.clearSnapshot()}function sn(t){t.clearMeasurements()}function ss(t){t.isLayoutDirty=!1}function sa(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function so(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sl(t){t.resolveTargetDelta()}function su(t){t.calcProjection()}function sc(t){t.resetSkewAndRotation()}function sh(t){t.removeLeadSnapshot()}function sd(t,e,r){t.translate=eJ(e.translate,0,r),t.scale=eJ(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function sp(t,e,r,i){t.min=eJ(e.min,r.min,i),t.max=eJ(e.max,r.max,i)}function sf(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let sm={duration:.45,ease:[.4,0,.1,1]},sg=t=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sy=sg("applewebkit/")&&!sg("chrome/")?Math.round:t4;function s_(t){t.min=sy(t.min),t.max=sy(t.max)}function sv(t,e,r){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(n0(e)-n0(r)))}function sw(t){return t!==t.root&&t.scroll?.wasRoot}let sx=n9({attachResizeListener:(t,e)=>nt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),sb={current:void 0},sA=n9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sb.current){let t=new sx({});t.mount(window),t.setOptions({layoutScroll:!0}),sb.current=t}return sb.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function sR(t,e){let r=function(t,e,r){if(null==t)return[];if(t instanceof EventTarget)return[t];if("string"==typeof t){let e=document,r=(void 0)??e.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(t=>null!=t)}(t),i=new AbortController;return[r,{passive:!0,...e,signal:i.signal},()=>i.abort()]}function sE(t){return!("touch"===t.pointerType||ne.x||ne.y)}function sT(t,e,r){let{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover","Start"===r);let n=i["onHover"+r];n&&et.postRender(()=>n(e,nu(e)))}let sN=(t,e)=>!!e&&(t===e||sN(t,e.parentElement)),sO=new WeakSet;function sS(t){return e=>{"Enter"===e.key&&t(e)}}function sC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function sk(t){return nl(t)&&!(ne.x||ne.y)}function sI(t,e,r){let{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap","Start"===r);let n=i["onTap"+("End"===r?"":r)];n&&et.postRender(()=>n(e,nu(e)))}let sP=new WeakMap,sj=new WeakMap,sD=t=>{let e=sP.get(t.target);e&&e(t)},sM=t=>{t.forEach(sD)},sL={some:0,all:1},sU=function(t,e){if("u"<typeof Proxy)return rC;let r=new Map,i=(r,i)=>rC(r,i,t,e);return new Proxy((t,e)=>i(t,e),{get:(n,s)=>"create"===s?i:(r.has(s)||r.set(s,rC(s,void 0,t,e)),r.get(s))})}({animation:{Feature:class extends rk{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:r})=>(function(t,e,r={}){let i;if(t.notify("AnimationStart",e),Array.isArray(e))i=Promise.all(e.map(e=>iJ(t,e,r)));else if("string"==typeof e)i=iJ(t,e,r);else{let n="function"==typeof e?rI(t,e,r.custom):e;i=Promise.all(iq(t,n,r))}return i.then(()=>{t.notify("AnimationComplete",e)})})(t,e,r))),r=i3(),i=!0,n=e=>(r,i)=>{let n=rI(t,i,"exit"===e?t.presenceContext?.custom:void 0);if(n){let{transition:t,transitionEnd:e,...i}=n;r={...r,...i,...e}}return r};function s(s){let{props:a}=t,o=function t(e){if(!e)return;if(!e.isControllingVariants){let r=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(r.initial=e.props.initial),r}let r={};for(let t=0;t<i0;t++){let i=eC[t],n=e.props[i];(eO(n)||!1===n)&&(r[i]=n)}return r}(t.parent)||{},l=[],u=new Set,c={},h=1/0;for(let e=0;e<i5;e++){var d,p;let f=i2[e],m=r[f],g=void 0!==a[f]?a[f]:o[f],y=eO(g),_=f===s?m.isActive:null;!1===_&&(h=e);let v=g===o[f]&&g!==a[f]&&y;if(v&&i&&t.manuallyAnimateOnMount&&(v=!1),m.protectedKeys={...c},!m.isActive&&null===_||!g&&!m.prevProp||eN(g)||"boolean"==typeof g)continue;let w=(d=m.prevProp,"string"==typeof(p=g)?p!==d:!!Array.isArray(p)&&!i1(p,d)),x=w||f===s&&m.isActive&&!v&&y||e>h&&y,b=!1,A=Array.isArray(g)?g:[g],R=A.reduce(n(f),{});!1===_&&(R={});let{prevResolvedValues:E={}}=m,T={...E,...R},N=e=>{x=!0,u.has(e)&&(b=!0,u.delete(e)),m.needsAnimating[e]=!0;let r=t.getValue(e);r&&(r.liveStyle=!1)};for(let t in T){let e=R[t],r=E[t];if(!c.hasOwnProperty(t))(rj(e)&&rj(r)?i1(e,r):e===r)?void 0!==e&&u.has(t)?N(t):m.protectedKeys[t]=!0:null!=e?N(t):u.add(t)}m.prevProp=g,m.prevResolvedValues=R,m.isActive&&(c={...c,...R}),i&&t.blockInitialAnimation&&(x=!1);let O=v&&w,S=!O||b;x&&S&&l.push(...A.map(e=>{let r={type:f};if("string"==typeof e&&i&&!O&&t.manuallyAnimateOnMount&&t.parent){let{parent:i}=t,n=rI(i,e);if(i.enteringChildren&&n){let{delayChildren:e}=n.transition||{};r.delay=iQ(i.enteringChildren,t,e)}}return{animation:e,options:r}}))}if(u.size){let e={};if("boolean"!=typeof a.initial){let r=rI(t,Array.isArray(a.initial)?a.initial[0]:a.initial);r&&r.transition&&(e.transition=r.transition)}u.forEach(r=>{let i=t.getBaseTarget(r),n=t.getValue(r);n&&(n.liveStyle=!0),e[r]=i??null}),l.push({animation:e})}let f=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!t.manuallyAnimateOnMount&&(f=!1),i=!1,f?e(l):Promise.resolve()}return{animateChanges:s,setActive:function(e,i){if(r[e].isActive===i)return Promise.resolve();t.variantChildren?.forEach(t=>t.animationState?.setActive(e,i)),r[e].isActive=i;let n=s(e);for(let t in r)r[t].protectedKeys={};return n},setAnimateFunction:function(r){e=r(t)},getState:()=>r,reset:()=>{r=i3()}}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();eN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends rk{constructor(){super(...arguments),this.id=i4++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then(()=>{e(this.id)})}mount(){let{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}},inView:{Feature:class extends rk{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var t;let e;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:i,margin:n,amount:s="some",once:a}=r,o={root:i?i.current:void 0,rootMargin:n,threshold:"number"==typeof s?s:sL[s]},l=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,a&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),n=e?r:i;n&&n(t)};return t=this.node.current,e=function({root:t,...e}){let r=t||document;sj.has(r)||sj.set(r,{});let i=sj.get(r),n=JSON.stringify(e);return i[n]||(i[n]=new IntersectionObserver(sM,{root:t,...e})),i[n]}(o),sP.set(t,l),e.observe(t),()=>{sP.delete(t),e.unobserve(t)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rk{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,r={}){let[i,n,s]=sR(t,r),a=t=>{let i=t.currentTarget;if(!sk(t))return;sO.add(i);let s=e(i,t),a=(t,e)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),sO.has(i)&&sO.delete(i),sk(t)&&"function"==typeof s&&s(t,{success:e})},o=t=>{a(t,i===window||i===document||r.useGlobalTarget||sN(i,t.target))},l=t=>{a(t,!1)};window.addEventListener("pointerup",o,n),window.addEventListener("pointercancel",l,n)};return i.forEach(t=>{((r.useGlobalTarget?window:t).addEventListener("pointerdown",a,n),C(t))&&(t.addEventListener("focus",t=>((t,e)=>{let r=t.currentTarget;if(!r)return;let i=sS(()=>{if(sO.has(r))return;sC(r,"down");let t=sS(()=>{sC(r,"up")});r.addEventListener("keyup",t,e),r.addEventListener("blur",()=>sC(r,"cancel"),e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)})(t,n)),i9.has(t.tagName)||!0===t.isContentEditable||t.hasAttribute("tabindex")||(t.tabIndex=0))}),s}(t,(t,e)=>(sI(this.node,e,"Start"),(t,{success:e})=>sI(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends rk{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rU(nt(this.node.current,"focus",()=>this.onFocus()),nt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends rk{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,r={}){let[i,n,s]=sR(t,r),a=t=>{if(!sE(t))return;let{target:r}=t,i=e(r,t);if("function"!=typeof i||!r)return;let s=t=>{sE(t)&&(i(t),r.removeEventListener("pointerleave",s))};r.addEventListener("pointerleave",s,n)};return i.forEach(t=>{t.addEventListener("pointerenter",a,n)}),s}(t,(t,e)=>(sT(this.node,e,"Start"),t=>sT(this.node,t,"End"))))}unmount(){}}},pan:{Feature:class extends rk{constructor(){super(...arguments),this.removePointerDownListener=t4}onPointerDown(t){this.session=new nf(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nh(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nT(t),onStart:nT(e),onMove:nT(r),onEnd:(t,e)=>{delete this.session,i&&et.postRender(()=>i(t,e))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rk{constructor(t){super(t),this.removeGroupControls=t4,this.removeListeners=t4,this.controls=new nR(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||t4}update(){let{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:sA,MeasureLayout:nk},layout:{ProjectionNode:sA,MeasureLayout:nk}},(t,e)=>e.isSVG??ru(t)?new e6(e):new ro(e,{allowProjection:t!==b.Fragment}));var sB=t.i(67762),sV=t.i(27261),sz=t.i(59341),sH=t.i(43943),sF=t.i(54611),s$=t.i(45796),sK=t.i(6529);function sW(t){let e=t.length;for(;--e>=0;)t[e]=0}t.i(80355);let sG=573,sY=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),sZ=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sX=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sq=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sQ=Array(576);sW(sQ);let sJ=Array(60);sW(sJ);let s0=Array(512);sW(s0);let s1=Array(256);sW(s1);let s2=Array(29);sW(s2);let s5=Array(30);function s6(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function s3(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}sW(s5);let s4=t=>t<256?s0[t]:s0[256+(t>>>7)],s8=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},s9=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,s8(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},s7=(t,e,r)=>{s9(t,r[2*e],r[2*e+1])},at=(t,e)=>{let r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0)return r>>>1},ae=(t,e,r)=>{let i,n,s=Array(16),a=0;for(i=1;i<=15;i++)a=a+r[i-1]<<1,s[i]=a;for(n=0;n<=e;n++){let e=t[2*n+1];0!==e&&(t[2*n]=at(s[e]++,e))}},ar=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ai=t=>{t.bi_valid>8?s8(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},an=(t,e,r,i)=>{let n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]},as=(t,e,r)=>{let i=t.heap[r],n=r<<1;for(;n<=t.heap_len&&(n<t.heap_len&&an(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!an(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i},aa=(t,e,r)=>{let i,n,s,a,o=0;if(0!==t.sym_next)do i=(255&t.pending_buf[t.sym_buf+o++])+((255&t.pending_buf[t.sym_buf+o++])<<8),n=t.pending_buf[t.sym_buf+o++],0===i?s7(t,n,e):(s7(t,(s=s1[n])+256+1,e),0!==(a=sY[s])&&s9(t,n-=s2[s],a),s7(t,s=s4(--i),r),0!==(a=sZ[s])&&s9(t,i-=s5[s],a));while(o<t.sym_next)s7(t,256,e)},ao=(t,e)=>{let r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(r=0,t.heap_len=0,t.heap_max=sG;r<l;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;r>=1;r--)as(t,s,r);n=l;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],as(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,as(t,s,1);while(t.heap_len>=2)t.heap[--t.heap_max]=t.heap[1],((t,e)=>{let r,i,n,s,a,o,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(s=0;s<=15;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<sG;r++)(s=l[2*l[2*(i=t.heap[r])+1]+1]+1)>f&&(s=f,m++),l[2*i+1]=s,!(i>u)&&(t.bl_count[s]++,a=0,i>=p&&(a=d[i-p]),o=l[2*i],t.opt_len+=o*(s+a),h&&(t.static_len+=o*(c[2*i+1]+a)));if(0!==m){do{for(s=f-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[f]--,m-=2}while(m>0)for(s=f;0!==s;s--)for(i=t.bl_count[s];0!==i;)!((n=t.heap[--r])>u)&&(l[2*n+1]!==s&&(t.opt_len+=(s-l[2*n+1])*l[2*n],l[2*n+1]=s),i--)}})(t,e),ae(s,u,t.bl_count)},al=(t,e,r)=>{let i,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),e[(r+1)*2+1]=65535,i=0;i<=r;i++)n=a,a=e[(i+1)*2+1],++o<l&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4))},au=(t,e,r)=>{let i,n,s=-1,a=e[1],o=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=r;i++)if(n=a,a=e[(i+1)*2+1],!(++o<l)||n!==a){if(o<u)do s7(t,n,t.bl_tree);while(0!=--o)else 0!==n?(n!==s&&(s7(t,n,t.bl_tree),o--),s7(t,16,t.bl_tree),s9(t,o-3,2)):o<=10?(s7(t,17,t.bl_tree),s9(t,o-3,3)):(s7(t,18,t.bl_tree),s9(t,o-11,7));o=0,s=n,0===a?(l=138,u=3):n===a?(l=6,u=3):(l=7,u=4)}},ac=!1,ah=(t,e,r,i)=>{s9(t,0+ +!!i,3),ai(t),s8(t,r),s8(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var ad={_tr_init:t=>{ac||((()=>{let t,e,s,a,o,l=Array(16);for(a=0,s=0;a<28;a++)for(t=0,s2[a]=s;t<1<<sY[a];t++)s1[s++]=a;for(s1[s-1]=a,o=0,a=0;a<16;a++)for(t=0,s5[a]=o;t<1<<sZ[a];t++)s0[o++]=a;for(o>>=7;a<30;a++)for(t=0,s5[a]=o<<7;t<1<<sZ[a]-7;t++)s0[256+o++]=a;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)sQ[2*t+1]=8,t++,l[8]++;for(;t<=255;)sQ[2*t+1]=9,t++,l[9]++;for(;t<=279;)sQ[2*t+1]=7,t++,l[7]++;for(;t<=287;)sQ[2*t+1]=8,t++,l[8]++;for(ae(sQ,287,l),t=0;t<30;t++)sJ[2*t+1]=5,sJ[2*t]=at(t,5);r=new s6(sQ,sY,257,286,15),i=new s6(sJ,sZ,0,30,15),n=new s6([],sX,0,19,7)})(),ac=!0),t.l_desc=new s3(t.dyn_ltree,r),t.d_desc=new s3(t.dyn_dtree,i),t.bl_desc=new s3(t.bl_tree,n),t.bi_buf=0,t.bi_valid=0,ar(t)},_tr_stored_block:ah,_tr_flush_block:(t,e,r,i)=>{let n,s,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=0xf3ffc07f;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ao(t,t.l_desc),ao(t,t.d_desc),a=(t=>{let e;for(al(t,t.dyn_ltree,t.l_desc.max_code),al(t,t.dyn_dtree,t.d_desc.max_code),ao(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*sq[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?ah(t,e,r,i):4===t.strategy||s===n?(s9(t,2+ +!!i,3),aa(t,sQ,sJ)):(s9(t,4+ +!!i,3),((t,e,r,i)=>{let n;for(s9(t,e-257,5),s9(t,r-1,5),s9(t,i-4,4),n=0;n<i;n++)s9(t,t.bl_tree[2*sq[n]+1],3);au(t,t.dyn_ltree,e-1),au(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),aa(t,t.dyn_ltree,t.dyn_dtree)),ar(t),i&&ai(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(s1[r]+256+1)*2]++,t.dyn_dtree[2*s4(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{s9(t,2,3),s7(t,256,sQ),16===t.bi_valid?(s8(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},ap=(t,e,r,i)=>{let n=65535&t,s=t>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do s=s+(n=n+e[i++]|0)|0;while(--a)n%=65521,s%=65521}return n|s<<16};let af=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?0xedb88320^t>>>1:t>>>1;e[r]=t}return e})());var am=(t,e,r,i)=>{let n=i+r;t^=-1;for(let r=i;r<n;r++)t=t>>>8^af[(t^e[r])&255];return -1^t},ag={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ay={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:a_,_tr_stored_block:av,_tr_flush_block:aw,_tr_tally:ax,_tr_align:ab}=ad,{Z_NO_FLUSH:aA,Z_PARTIAL_FLUSH:aR,Z_FULL_FLUSH:aE,Z_FINISH:aT,Z_BLOCK:aN,Z_OK:aO,Z_STREAM_END:aS,Z_STREAM_ERROR:aC,Z_DATA_ERROR:ak,Z_BUF_ERROR:aI,Z_DEFAULT_COMPRESSION:aP,Z_FILTERED:aj,Z_HUFFMAN_ONLY:aD,Z_RLE:aM,Z_FIXED:aL,Z_DEFAULT_STRATEGY:aU,Z_UNKNOWN:aB,Z_DEFLATED:aV}=ay,az=573,aH=(t,e)=>(t.msg=ag[e],e),aF=t=>2*t-9*(t>4),a$=t=>{let e=t.length;for(;--e>=0;)t[e]=0},aK=t=>{let e,r,i,n=t.w_size;i=e=t.hash_size;do r=t.head[--i],t.head[i]=r>=n?r-n:0;while(--e)i=e=n;do r=t.prev[--i],t.prev[i]=r>=n?r-n:0;while(--e)},aW=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,aG=t=>{let e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},aY=(t,e)=>{aw(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,aG(t.strm)},aZ=(t,e)=>{t.pending_buf[t.pending++]=e},aX=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},aq=(t,e,r,i)=>{let n=t.avail_in;return(n>i&&(n=i),0===n)?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),r),1===t.state.wrap?t.adler=ap(t.adler,e,n,r):2===t.state.wrap&&(t.adler=am(t.adler,e,n,r)),t.next_in+=n,t.total_in+=n,n)},aQ=(t,e)=>{let r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,c=t.w_mask,h=t.prev,d=t.strstart+258,p=u[s+a-1],f=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]!==f||u[r+a-1]!==p||u[r]!==u[s]||u[++r]!==u[s+1])continue;s+=2,r++;do;while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d)if(i=258-(d-s),s=d-258,i>a){if(t.match_start=e,a=i,i>=o)break;p=u[s+a-1],f=u[s+a]}}while((e=h[e&c])>l&&0!=--n)return a<=t.lookahead?a:t.lookahead},aJ=t=>{let e,r,i,n=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-262)&&(t.window.set(t.window.subarray(n,n+n-r),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),aK(t),r+=n),0===t.strm.avail_in)break;if(e=aq(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=e,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=aW(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=aW(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},a0=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,n,s,a=0,o=t.strm.avail_in;do{if(i=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i>(n=t.strstart-t.block_start)+t.strm.avail_in&&(i=n+t.strm.avail_in),i>s&&(i=s),i<r&&(0===i&&e!==aT||e===aA||i!==n+t.strm.avail_in)))break;a=+(e===aT&&i===n+t.strm.avail_in),av(t,0,0,a),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,aG(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(aq(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===a)return((o-=t.strm.avail_in)&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a)?4:e!==aA&&e!==aT&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(aq(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,r=(s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s)>t.w_size?t.w_size:s,((n=t.strstart-t.block_start)>=r||(n||e===aT)&&e!==aA&&0===t.strm.avail_in&&n<=s)&&(i=n>s?s:n,a=+(e===aT&&0===t.strm.avail_in&&i===n),av(t,t.block_start,i,a),t.block_start+=i,aG(t.strm)),a?3:1)},a1=(t,e)=>{let r,i;for(;;){if(t.lookahead<262){if(aJ(t),t.lookahead<262&&e===aA)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=aW(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=aQ(t,r)),t.match_length>=3)if(i=ax(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=aW(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length)t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=aW(t,t.ins_h,t.window[t.strstart+1]);else i=ax(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(aY(t,!1),0===t.strm.avail_out))return 1}return(t.insert=t.strstart<2?t.strstart:2,e===aT)?(aY(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aY(t,!1),0===t.strm.avail_out)?1:2},a2=(t,e)=>{let r,i,n;for(;;){if(t.lookahead<262){if(aJ(t),t.lookahead<262&&e===aA)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=aW(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=aQ(t,r),t.match_length<=5&&(t.strategy===aj||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=ax(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=aW(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length)if(t.match_available=0,t.match_length=2,t.strstart++,i&&(aY(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=ax(t,0,t.window[t.strstart-1]))&&aY(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(i=ax(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===aT)?(aY(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aY(t,!1),0===t.strm.avail_out)?1:2};function a5(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}let a6=[new a5(0,0,0,0,a0),new a5(4,4,8,4,a1),new a5(4,5,16,8,a1),new a5(4,6,32,32,a1),new a5(4,4,16,16,a2),new a5(8,16,32,32,a2),new a5(8,16,128,128,a2),new a5(8,32,128,256,a2),new a5(32,128,258,1024,a2),new a5(32,258,258,4096,a2)];function a3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=aV,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*az),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),a$(this.dyn_ltree),a$(this.dyn_dtree),a$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),a$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),a$(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let a4=t=>{if(!t)return 1;let e=t.state;return e&&e.strm===t&&(42===e.status||57===e.status||69===e.status||73===e.status||91===e.status||103===e.status||113===e.status||666===e.status)?0:1};var a8=(t,e)=>{if(a4(t)||e>aN||e<0)return t?aH(t,aC):aC;let r=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===r.status&&e!==aT)return aH(t,0===t.avail_out?aI:aC);let i=r.last_flush;if(r.last_flush=e,0!==r.pending){if(aG(t),0===t.avail_out)return r.last_flush=-1,aO}else if(0===t.avail_in&&aF(e)<=aF(i)&&e!==aT)return aH(t,aI);if(666===r.status&&0!==t.avail_in)return aH(t,aI);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let e=aV+(r.w_bits-8<<4)<<8;if(e|=(r.strategy>=aD||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(e|=32),aX(r,e+=31-e%31),0!==r.strstart&&(aX(r,t.adler>>>16),aX(r,65535&t.adler)),t.adler=1,r.status=113,aG(t),0!==r.pending)return r.last_flush=-1,aO}if(57===r.status){if(t.adler=0,aZ(r,31),aZ(r,139),aZ(r,8),r.gzhead)aZ(r,+!!r.gzhead.text+2*!!r.gzhead.hcrc+4*!!r.gzhead.extra+8*!!r.gzhead.name+16*!!r.gzhead.comment),aZ(r,255&r.gzhead.time),aZ(r,r.gzhead.time>>8&255),aZ(r,r.gzhead.time>>16&255),aZ(r,r.gzhead.time>>24&255),aZ(r,9===r.level?2:4*(r.strategy>=aD||r.level<2)),aZ(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(aZ(r,255&r.gzhead.extra.length),aZ(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=am(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(aZ(r,0),aZ(r,0),aZ(r,0),aZ(r,0),aZ(r,0),aZ(r,9===r.level?2:4*(r.strategy>=aD||r.level<2)),aZ(r,3),r.status=113,aG(t),0!==r.pending)return r.last_flush=-1,aO}if(69===r.status){if(r.gzhead.extra){let e=r.pending,i=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let n=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=am(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=n,aG(t),0!==r.pending)return r.last_flush=-1,aO;e=0,i-=n}let n=new Uint8Array(r.gzhead.extra);r.pending_buf.set(n.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>e&&(t.adler=am(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,i=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=am(t.adler,r.pending_buf,r.pending-i,i)),aG(t),0!==r.pending)return r.last_flush=-1,aO;i=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,aZ(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>i&&(t.adler=am(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,i=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=am(t.adler,r.pending_buf,r.pending-i,i)),aG(t),0!==r.pending)return r.last_flush=-1,aO;i=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,aZ(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>i&&(t.adler=am(t.adler,r.pending_buf,r.pending-i,i))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(aG(t),0!==r.pending))return r.last_flush=-1,aO;aZ(r,255&t.adler),aZ(r,t.adler>>8&255),t.adler=0}if(r.status=113,aG(t),0!==r.pending)return r.last_flush=-1,aO}if(0!==t.avail_in||0!==r.lookahead||e!==aA&&666!==r.status){let i=0===r.level?a0(r,e):r.strategy===aD?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(aJ(t),0===t.lookahead)){if(e===aA)return 1;break}if(t.match_length=0,r=ax(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(aY(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===aT)?(aY(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aY(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===aM?((t,e)=>{let r,i,n,s,a=t.window;for(;;){if(t.lookahead<=258){if(aJ(t),t.lookahead<=258&&e===aA)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+258;do;while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s)t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=ax(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ax(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(aY(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===aT)?(aY(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aY(t,!1),0===t.strm.avail_out)?1:2})(r,e):a6[r.level].func(r,e);if((3===i||4===i)&&(r.status=666),1===i||3===i)return 0===t.avail_out&&(r.last_flush=-1),aO;if(2===i&&(e===aR?ab(r):e!==aN&&(av(r,0,0,!1),e===aE&&(a$(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),aG(t),0===t.avail_out))return r.last_flush=-1,aO}return e!==aT?aO:r.wrap<=0?aS:(2===r.wrap?(aZ(r,255&t.adler),aZ(r,t.adler>>8&255),aZ(r,t.adler>>16&255),aZ(r,t.adler>>24&255),aZ(r,255&t.total_in),aZ(r,t.total_in>>8&255),aZ(r,t.total_in>>16&255),aZ(r,t.total_in>>24&255)):(aX(r,t.adler>>>16),aX(r,65535&t.adler)),aG(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?aO:aS)},a9=t=>{if(a4(t))return aC;let e=t.state.status;return t.state=null,113===e?aH(t,ak):aO};let a7=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ot=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let e in r)a7(r,e)&&(t[e]=r[e])}}return t},oe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let r=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];r.set(n,i),i+=n.length}return r};let or=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){or=!1}let oi=new Uint8Array(256);for(let t=0;t<256;t++)oi[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;oi[254]=oi[254]=1;var on=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)(64512&(r=t.charCodeAt(n)))==55296&&n+1<a&&(64512&(i=t.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(s=0,e=new Uint8Array(o),n=0;s<o;n++)(64512&(r=t.charCodeAt(n)))==55296&&n+1<a&&(64512&(i=t.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},os=(t,e)=>{let r,i,n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let s=Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){s[i++]=e;continue}let a=oi[e];if(a>4){s[i++]=65533,r+=a-1;continue}for(e&=2===a?31:3===a?15:7;a>1&&r<n;)e=e<<6|63&t[r++],a--;if(a>1){s[i++]=65533;continue}e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}var a=i;if(a<65534&&s.subarray&&or)return String.fromCharCode.apply(null,s.length===a?s:s.subarray(0,a));let o="";for(let t=0;t<a;t++)o+=String.fromCharCode(s[t]);return o},oa=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(192&t[r])==128;)r--;return r<0||0===r?e:r+oi[t[r]]>e?r:e},oo=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let ol=Object.prototype.toString,{Z_NO_FLUSH:ou,Z_SYNC_FLUSH:oc,Z_FULL_FLUSH:oh,Z_FINISH:od,Z_OK:op,Z_STREAM_END:of,Z_DEFAULT_COMPRESSION:om,Z_DEFAULT_STRATEGY:og,Z_DEFLATED:oy}=ay;function o_(t){let e,r;this.options=ot({level:om,method:oy,chunkSize:16384,windowBits:15,memLevel:8,strategy:og},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;let n=((t,e,r,i,n,s)=>{var a,o;let l;if(!t)return aC;let u=1;if(e===aP&&(e=6),i<0?(u=0,i=-i):i>15&&(u=2,i-=16),n<1||n>9||r!==aV||i<8||i>15||e<0||e>9||s<0||s>aL||8===i&&1!==u)return aH(t,aC);8===i&&(i=9);let c=new a3;return t.state=c,c.strm=t,c.status=42,c.wrap=u,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=n+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new Uint8Array(2*c.w_size),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<n+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=e,c.strategy=s,c.method=r,(l=(t=>{if(a4(t))return aH(t,aC);t.total_in=t.total_out=0,t.data_type=aB;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=+(2!==e.wrap),e.last_flush=-2,a_(e),aO})(a=t))===aO&&((o=a.state).window_size=2*o.w_size,a$(o.head),o.max_lazy_match=a6[o.level].max_lazy,o.good_match=a6[o.level].good_length,o.nice_match=a6[o.level].nice_length,o.max_chain_length=a6[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),l})(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(n!==op)throw Error(ag[n]);if(i.header&&(e=this.strm,r=i.header,a4(e)||2!==e.state.wrap||(e.state.gzhead=r)),i.dictionary){let t;if(t="string"==typeof i.dictionary?on(i.dictionary):"[object ArrayBuffer]"===ol.call(i.dictionary)?new Uint8Array(i.dictionary):i.dictionary,(n=((t,e)=>{let r=e.length;if(a4(t))return aC;let i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return aC;if(1===n&&(t.adler=ap(t.adler,e,r,0)),i.wrap=0,r>=i.w_size){0===n&&(a$(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(r-i.w_size,r),0),e=t,r=i.w_size}let s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,aJ(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do i.ins_h=aW(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++;while(--e)i.strstart=t,i.lookahead=2,aJ(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,i.wrap=n,aO})(this.strm,t))!==op)throw Error(ag[n]);this._dict_set=!0}}function ov(t,e){let r=new o_(e);if(r.push(t,!0),r.err)throw r.msg||ag[r.err];return r.result}o_.prototype.push=function(t,e){let r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?od:ou,"string"==typeof t?n.input=on(t):"[object ArrayBuffer]"===ol.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(0===n.avail_out&&(n.output=new Uint8Array(s),n.next_out=0,n.avail_out=s),(i===oc||i===oh)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if((r=a8(n,i))===of)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=a9(this.strm),this.onEnd(r),this.ended=!0,r===op;if(0===n.avail_out){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(0===n.avail_in)break}return!0},o_.prototype.onData=function(t){this.chunks.push(t)},o_.prototype.onEnd=function(t){t===op&&(this.result=oe(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ow=function(t,e){let r,i,n,s,a,o,l,u,c,h,d,p,f,m,g,y,_,v,w,x,b,A,R,E,T=t.state;r=t.next_in,R=t.input,i=r+(t.avail_in-5),n=t.next_out,E=t.output,s=n-(e-t.avail_out),a=n+(t.avail_out-257),o=T.dmax,l=T.wsize,u=T.whave,c=T.wnext,h=T.window,d=T.hold,p=T.bits,f=T.lencode,m=T.distcode,g=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;t:do for(p<15&&(d+=R[r++]<<p,p+=8,d+=R[r++]<<p,p+=8),_=f[d&g];;){if(d>>>=v=_>>>24,p-=v,0==(v=_>>>16&255))E[n++]=65535&_;else if(16&v)for(w=65535&_,(v&=15)&&(p<v&&(d+=R[r++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=R[r++]<<p,p+=8,d+=R[r++]<<p,p+=8),_=m[d&y];;){if(d>>>=v=_>>>24,p-=v,16&(v=_>>>16&255)){if(x=65535&_,p<(v&=15)&&(d+=R[r++]<<p,(p+=8)<v&&(d+=R[r++]<<p,p+=8)),(x+=d&(1<<v)-1)>o){t.msg="invalid distance too far back",T.mode=16209;break t}if(d>>>=v,p-=v,x>(v=n-s)){if((v=x-v)>u&&T.sane){t.msg="invalid distance too far back",T.mode=16209;break t}if(b=0,A=h,0===c){if(b+=l-v,v<w){w-=v;do E[n++]=h[b++];while(--v)b=n-x,A=E}}else if(c<v){if(b+=l+c-v,(v-=c)<w){w-=v;do E[n++]=h[b++];while(--v)if(b=0,c<w){w-=v=c;do E[n++]=h[b++];while(--v)b=n-x,A=E}}}else if(b+=c-v,v<w){w-=v;do E[n++]=h[b++];while(--v)b=n-x,A=E}for(;w>2;)E[n++]=A[b++],E[n++]=A[b++],E[n++]=A[b++],w-=3;w&&(E[n++]=A[b++],w>1&&(E[n++]=A[b++]))}else{b=n-x;do E[n++]=E[b++],E[n++]=E[b++],E[n++]=E[b++],w-=3;while(w>2)w&&(E[n++]=E[b++],w>1&&(E[n++]=E[b++]))}}else if((64&v)==0){_=m[(65535&_)+(d&(1<<v)-1)];continue}else{t.msg="invalid distance code",T.mode=16209;break t}break}else if((64&v)==0){_=f[(65535&_)+(d&(1<<v)-1)];continue}else if(32&v){T.mode=16191;break t}else{t.msg="invalid literal/length code",T.mode=16209;break t}break}while(r<i&&n<a)r-=w=p>>3,p-=w<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=n,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=n<a?257+(a-n):257-(n-a),T.hold=d,T.bits=p};let ox=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ob=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var oE=(t,e,r,i,n,s,a,o)=>{let l,u,c,h,d,p,f,m,g,y=o.bits,_=0,v=0,w=0,x=0,b=0,A=0,R=0,E=0,T=0,N=0,O=null,S=new Uint16Array(16),C=new Uint16Array(16),k=null;for(_=0;_<=15;_++)S[_]=0;for(v=0;v<i;v++)S[e[r+v]]++;for(x=15,b=y;x>=1&&0===S[x];x--);if(b>x&&(b=x),0===x)return n[s++]=0x1400000,n[s++]=0x1400000,o.bits=1,0;for(w=1;w<x&&0===S[w];w++);for(b<w&&(b=w),E=1,_=1;_<=15;_++)if(E<<=1,(E-=S[_])<0)return -1;if(E>0&&(0===t||1!==x))return -1;for(_=1,C[1]=0;_<15;_++)C[_+1]=C[_]+S[_];for(v=0;v<i;v++)0!==e[r+v]&&(a[C[e[r+v]]++]=v);if(0===t?(O=k=a,p=20):1===t?(O=ox,k=ob,p=257):(O=oA,k=oR,p=0),N=0,v=0,_=w,d=s,A=b,R=0,c=-1,h=(T=1<<b)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){f=_-R,a[v]+1<p?(m=0,g=a[v]):a[v]>=p?(m=k[a[v]-p],g=O[a[v]-p]):(m=96,g=0),l=1<<_-R,w=u=1<<A;do n[d+(N>>R)+(u-=l)]=f<<24|m<<16|g;while(0!==u)for(l=1<<_-1;N&l;)l>>=1;if(0!==l?(N&=l-1,N+=l):N=0,v++,0==--S[_]){if(_===x)break;_=e[r+a[v]]}if(_>b&&(N&h)!==c){for(0===R&&(R=b),d+=w,E=1<<(A=_-R);A+R<x&&!((E-=S[A+R])<=0);)A++,E<<=1;if(T+=1<<A,1===t&&T>852||2===t&&T>592)return 1;n[c=N&h]=b<<24|A<<16|d-s}}return 0!==N&&(n[d+N]=_-R<<24|4194304),o.bits=b,0};let{Z_FINISH:oT,Z_BLOCK:oN,Z_TREES:oO,Z_OK:oS,Z_STREAM_END:oC,Z_NEED_DICT:ok,Z_STREAM_ERROR:oI,Z_DATA_ERROR:oP,Z_MEM_ERROR:oj,Z_BUF_ERROR:oD,Z_DEFLATED:oM}=ay,oL=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function oU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let oB=t=>{if(!t)return 1;let e=t.state;return+(!e||e.strm!==t||e.mode<16180||e.mode>16211)},oV=t=>{if(oB(t))return oI;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,(t=>{if(oB(t))return oI;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,oS})(t)},oz=!0,oH=t=>{if(oz){s=new Int32Array(512),a=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oE(1,t.lens,0,288,s,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oE(2,t.lens,0,32,a,0,t.work,{bits:5}),oz=!1}t.lencode=s,t.lenbits=9,t.distcode=a,t.distbits=5},oF=(t,e,r,i)=>{let n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):((n=s.wsize-s.wnext)>i&&(n=i),s.window.set(e.subarray(r-i,r-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(r-i,r),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var o$=(t,e)=>{let r,i,n,s,a,o,l,u,c,h,d,p,f,m,g,y,_,v,w,x,b,A,R,E,T=0,N=new Uint8Array(4),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oB(t)||!t.output||!t.input&&0!==t.avail_in)return oI;16191===(r=t.state).mode&&(r.mode=16192),a=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,c=r.bits,h=o,d=l,A=oS;e:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;c<16;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,N[0]=255&u,N[1]=u>>>8&255,r.check=am(r.check,N,2,0),u=0,c=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=16209;break}if((15&u)!==oM){t.msg="unknown compression method",r.mode=16209;break}if(u>>>=4,c-=4,b=(15&u)+8,0===r.wbits&&(r.wbits=b),b>15||b>r.wbits){t.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&u?16189:16191,u=0,c=0;break;case 16181:for(;c<16;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(r.flags=u,(255&r.flags)!==oM){t.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(N[0]=255&u,N[1]=u>>>8&255,r.check=am(r.check,N,2,0)),u=0,c=0,r.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(N[0]=255&u,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,r.check=am(r.check,N,4,0)),u=0,c=0,r.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(N[0]=255&u,N[1]=u>>>8&255,r.check=am(r.check,N,2,0)),u=0,c=0,r.mode=16184;case 16184:if(1024&r.flags){for(;c<16;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(N[0]=255&u,N[1]=u>>>8&255,r.check=am(r.check,N,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((p=r.length)>o&&(p=o),p&&(r.head&&(b=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(s,s+p),b)),512&r.flags&&4&r.wrap&&(r.check=am(r.check,i,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;p=0;do b=i[s+p++],r.head&&b&&r.length<65536&&(r.head.name+=String.fromCharCode(b));while(b&&p<o)if(512&r.flags&&4&r.wrap&&(r.check=am(r.check,i,p,s)),o-=p,s+=p,b)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;p=0;do b=i[s+p++],r.head&&b&&r.length<65536&&(r.head.comment+=String.fromCharCode(b));while(b&&p<o)if(512&r.flags&&4&r.wrap&&(r.check=am(r.check,i,p,s)),o-=p,s+=p,b)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;c<16;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(4&r.wrap&&u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=16209;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=16191;break;case 16189:for(;c<32;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}t.adler=r.check=oL(u),u=0,c=0,r.mode=16190;case 16190:if(0===r.havedict)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,ok;t.adler=r.check=1,r.mode=16191;case 16191:if(e===oN||e===oO)break e;case 16192:if(r.last){u>>>=7&c,c-=7&c,r.mode=16206;break}for(;c<3;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}switch(r.last=1&u,c-=1,3&(u>>>=1)){case 0:r.mode=16193;break;case 1:if(oH(r),r.mode=16199,e===oO){u>>>=2,c-=2;break e}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=16209}u>>>=2,c-=2;break;case 16193:for(u>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&u,u=0,c=0,r.mode=16194,e===oO)break e;case 16194:r.mode=16195;case 16195:if(p=r.length){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;n.set(i.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,r.length-=p;break}r.mode=16191;break;case 16196:for(;c<14;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(r.nlen=(31&u)+257,c-=5,r.ndist=(31&(u>>>=5))+1,c-=5,r.ncode=(15&(u>>>=5))+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;c<3;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.lens[O[r.have++]]=7&u,u>>>=3,c-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},A=oE(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,A){t.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;g=(T=r.lencode[u&(1<<r.lenbits)-1])>>>24,y=T>>>16&255,_=65535&T,!(g<=c);){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(_<16)u>>>=g,c-=g,r.lens[r.have++]=_;else{if(16===_){for(E=g+2;c<E;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(u>>>=g,c-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=16209;break}b=r.lens[r.have-1],p=3+(3&u),u>>>=2,c-=2}else if(17===_){for(E=g+3;c<E;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}u>>>=g,c-=g,b=0,p=3+(7&u),u>>>=3,c-=3}else{for(E=g+7;c<E;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}u>>>=g,c-=g,b=0,p=11+(127&u),u>>>=7,c-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=16209;break}for(;p--;)r.lens[r.have++]=b}}if(16209===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,R={bits:r.lenbits},A=oE(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,A){t.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},A=oE(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,A){t.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,e===oO)break e;case 16199:r.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,ow(t,d),a=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,c=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;g=(T=r.lencode[u&(1<<r.lenbits)-1])>>>24,y=T>>>16&255,_=65535&T,!(g<=c);){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(y&&(240&y)==0){for(v=g,w=y,x=_;g=(T=r.lencode[x+((u&(1<<v+w)-1)>>v)])>>>24,y=T>>>16&255,_=65535&T,!(v+g<=c);){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,r.back+=v}if(u>>>=g,c-=g,r.back+=g,r.length=_,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=16191;break}if(64&y){t.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(E=r.extra;c<E;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;g=(T=r.distcode[u&(1<<r.distbits)-1])>>>24,y=T>>>16&255,_=65535&T,!(g<=c);){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if((240&y)==0){for(v=g,w=y,x=_;g=(T=r.distcode[x+((u&(1<<v+w)-1)>>v)])>>>24,y=T>>>16&255,_=65535&T,!(v+g<=c);){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}u>>>=v,c-=v,r.back+=v}if(u>>>=g,c-=g,r.back+=g,64&y){t.msg="invalid distance code",r.mode=16209;break}r.offset=_,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(E=r.extra;c<E;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break e;if(p=d-l,r.offset>p){if((p=r.offset-p)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=16209;break}p>r.wnext?(p-=r.wnext,f=r.wsize-p):f=r.wnext-p,p>r.length&&(p=r.length),m=r.window}else m=n,f=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do n[a++]=m[f++];while(--p)0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break e;n[a++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;c<32;){if(0===o)break e;o--,u|=i[s++]<<c,c+=8}if(d-=l,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?am(r.check,n,d,a-d):ap(r.check,n,d,a-d)),d=l,4&r.wrap&&(r.flags?u:oL(u))!==r.check){t.msg="incorrect data check",r.mode=16209;break}u=0,c=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;c<32;){if(0===o)break e;o--,u+=i[s++]<<c,c+=8}if(4&r.wrap&&u!==(0|r.total)){t.msg="incorrect length check",r.mode=16209;break}u=0,c=0}r.mode=16208;case 16208:A=oC;break e;case 16209:A=oP;break e;case 16210:return oj;default:return oI}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=c,(r.wsize||d!==t.avail_out&&r.mode<16209&&(r.mode<16206||e!==oT))&&oF(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?am(r.check,n,d,t.next_out-d):ap(r.check,n,d,t.next_out-d)),t.data_type=r.bits+64*!!r.last+128*(16191===r.mode)+256*(16199===r.mode||16194===r.mode),(0===h&&0===d||e===oT)&&A===oS&&(A=oD),A},oK=t=>{if(oB(t))return oI;let e=t.state;return e.window&&(e.window=null),t.state=null,oS},oW=(t,e)=>{let r,i=e.length;return oB(t)||0!==(r=t.state).wrap&&16190!==r.mode?oI:16190===r.mode&&ap(1,e,i,0)!==r.check?oP:oF(t,e,i,i)?(r.mode=16210,oj):(r.havedict=1,oS)},oG=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let oY=Object.prototype.toString,{Z_NO_FLUSH:oZ,Z_FINISH:oX,Z_OK:oq,Z_STREAM_END:oQ,Z_NEED_DICT:oJ,Z_STREAM_ERROR:o0,Z_DATA_ERROR:o1,Z_MEM_ERROR:o2}=ay;function o5(t){this.options=ot({chunkSize:65536,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;let r=((t,e)=>{if(!t)return oI;let r=new oU;t.state=r,r.strm=t,r.window=null,r.mode=16180;let i=((t,e)=>{let r;if(oB(t))return oI;let i=t.state;return(e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15))?oI:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,oV(t))})(t,e);return i!==oS&&(t.state=null),i})(this.strm,e.windowBits);if(r!==oq||(this.header=new oG,((t,e)=>{if(oB(t))return;let r=t.state;return(2&r.wrap)==0||(r.head=e,e.done=!1)})(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=on(e.dictionary):"[object ArrayBuffer]"===oY.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw)&&(r=oW(this.strm,e.dictionary))!==oq))throw Error(ag[r])}function o6(t,e){let r=new o5(e);if(r.push(t),r.err)throw r.msg||ag[r.err];return r.result}o5.prototype.push=function(t,e){let r,i,n,s=this.strm,a=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?oX:oZ,"[object ArrayBuffer]"===oY.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){for(0===s.avail_out&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),(r=o$(s,i))===oJ&&o&&((r=oW(s,o))===oq?r=o$(s,i):r===o1&&(r=oJ));s.avail_in>0&&r===oQ&&s.state.wrap>0&&0!==t[s.next_in];)oV(s),r=o$(s,i);switch(r){case o0:case o1:case oJ:case o2:return this.onEnd(r),this.ended=!0,!1}if(n=s.avail_out,s.next_out&&(0===s.avail_out||r===oQ))if("string"===this.options.to){let t=oa(s.output,s.next_out),e=s.next_out-t,r=os(s.output,t);s.next_out=e,s.avail_out=a-e,e&&s.output.set(s.output.subarray(t,t+e),0),this.onData(r)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(r!==oq||0!==n){if(r===oQ)return r=oK(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===s.avail_in)break}}return!0},o5.prototype.onData=function(t){this.chunks.push(t)},o5.prototype.onEnd=function(t){t===oq&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=oe(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};let{Deflate:o3,deflate:o4,deflateRaw:o8,gzip:o9}={Deflate:o_,deflate:ov,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ov(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ov(t,e)},constants:ay},{Inflate:o7,inflate:lt,inflateRaw:le,ungzip:lr}={Inflate:o5,inflate:o6,inflateRaw:function(t,e){return(e=e||{}).raw=!0,o6(t,e)},ungzip:o6,constants:ay};var li=t.i(78492);let ln=t=>"version"in t;function ls(t){return new TextDecoder("utf-8").decode(t)}function la(t){return sF.default.encode(t)}function lo(t){return sH.Buffer.from(t,"base64")}function ll(t){return"accounts"in t}async function lu(t){let e=(await sV.PublicKey.findProgramAddress([],t))[0];return await sV.PublicKey.createWithSeed(e,"anchor:idl",t)}let lc=sK.struct([sK.publicKey("authority"),sK.vecU8("data")]);function lh(t,e,r,i){return(null==t?void 0:t.length)?t[0].name?r(t):i(t):e()}function ld(t){return t instanceof sV.PublicKey?t:new sV.PublicKey(t)}class lp extends TypeError{constructor(t,e){let r;const{message:i,...n}=t,{path:s}=t;super(0===s.length?i:"At path: "+s.join(".")+" -- "+i),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,n),this.name=this.constructor.name,this.failures=()=>{var i;return null!=(i=r)?i:r=[t,...e()]}}}function lf(t){return"object"==typeof t&&null!=t}function lm(t){return"string"==typeof t?JSON.stringify(t):""+t}function*lg(t,e,r,i){var n;for(let s of(lf(n=t)&&"function"==typeof n[Symbol.iterator]||(t=[t]),t)){let t=function(t,e,r,i){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});let{path:n,branch:s}=e,{type:a}=r,{refinement:o,message:l="Expected a value of type `"+a+"`"+(o?" with refinement `"+o+"`":"")+", but received: `"+lm(i)+"`"}=t;return{value:i,type:a,refinement:o,key:n[n.length-1],path:n,branch:s,...t,message:l}}(s,e,r,i);t&&(yield t)}}function*ly(t,e,r){void 0===r&&(r={});let{path:i=[],branch:n=[t],coerce:s=!1,mask:a=!1}=r,o={path:i,branch:n};if(s&&(t=e.coercer(t,o),a&&"type"!==e.type&&lf(e.schema)&&lf(t)&&!Array.isArray(t)))for(let r in t)void 0===e.schema[r]&&delete t[r];let l=!0;for(let r of e.validator(t,o))l=!1,yield[r,void 0];for(let[r,u,c]of e.entries(t,o))for(let e of ly(u,c,{path:void 0===r?i:[...i,r],branch:void 0===r?n:[...n,u],coerce:s,mask:a}))e[0]?(l=!1,yield[e[0],void 0]):s&&(u=e[1],void 0===r?t=u:t instanceof Map?t.set(r,u):t instanceof Set?t.add(u):lf(t)&&(t[r]=u));if(l)for(let r of e.refiner(t,o))l=!1,yield[r,void 0];l&&(yield[void 0,t])}class l_{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:r,validator:i,refiner:n,coercer:s=t=>t,entries:a=function*(){}}=t;this.type=e,this.schema=r,this.entries=a,this.coercer=s,i?this.validator=(t,e)=>lg(i(t,e),e,this,t):this.validator=()=>[],n?this.refiner=(t,e)=>lg(n(t,e),e,this,t):this.refiner=()=>[]}assert(t){var e=t,r=this;let i=lw(e,r);if(i[0])throw i[0]}create(t){return lv(t,this)}is(t){var e,r;return e=t,r=this,!lw(e,r)[0]}mask(t){var e=t,r=this;let i=lw(e,r,{coerce:!0,mask:!0});if(!i[0])return i[1];throw i[0]}validate(t,e){return void 0===e&&(e={}),lw(t,this,e)}}function lv(t,e){let r=lw(t,e,{coerce:!0});if(!r[0])return r[1];throw r[0]}function lw(t,e,r){void 0===r&&(r={});let i=ly(t,e,r),n=function(t){let{done:e,value:r}=t.next();return e?void 0:r}(i);return n[0]?[new lp(n[0],function*(){for(let t of i)t[0]&&(yield t[0])}),void 0]:[void 0,n[1]]}function lx(t,e){return new l_({type:t,schema:null,validator:e})}function lb(t){return new l_({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,i]of e.entries())yield[r,i,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+lm(t)})}function lA(t){let e=lm(t),r=typeof t;return new l_({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+lm(r)})}function lR(t){return new l_({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function lE(){return lx("number",t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+lm(t))}function lT(t){return new l_({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function lN(){return lx("string",t=>"string"==typeof t||"Expected a string, but received: "+lm(t))}function lO(t){let e=Object.keys(t);return new l_({type:"type",schema:t,*entries(r){if(lf(r))for(let i of e)yield[i,r[i],t[i]]},validator:t=>lf(t)||"Expected an object, but received: "+lm(t)})}function lS(t){let e=t.map(t=>t.type).join(" | ");return new l_({type:"union",schema:null,coercer:(e,r)=>(t.find(t=>{let[r]=t.validate(e,{coerce:!0});return!r})||lC()).coercer(e,r),validator(r,i){let n=[];for(let e of t){let[...t]=ly(r,e,i),[s]=t;if(!s[0])return[];for(let[e]of t)e&&n.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+lm(r),...n]}})}function lC(){return lx("unknown",()=>!0)}async function lk(t,e,r){if(e.length<=99)return await lI(t,e,r);{let i=Array.apply(0,Array(Math.ceil(e.length/99))).map((t,r)=>e.slice(99*r,(r+1)*99));return(await Promise.all(i.map(e=>lI(t,e,r)))).flat()}}async function lI(t,e,r){let i=null!=r?r:t.commitment,{value:n,context:s}=await t.getMultipleAccountsInfoAndContext(e,i);return n.map((t,r)=>null===t?null:{publicKey:e[r],account:t,context:s})}async function lP(t,e,r,i,n){var s;r&&r.length>0&&e.sign(...r);let a=e._compile(),o=a.serialize(),l=e._serialize(o).toString("base64"),u={encoding:"base64",commitment:null!=i?i:t.commitment};n&&(u.accounts={encoding:"base64",addresses:(Array.isArray(n)?n:a.nonProgramIds()).map(t=>t.toBase58())}),r&&r.length>0&&(u.sigVerify=!0);let c=[l,u],h=lv(await t._rpcRequest("simulateTransaction",c),lM);if("error"in h){let t;if("data"in h.error&&(t=null==(s=h.error.data)?void 0:s.logs)&&Array.isArray(t)){let e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new sV.SendTransactionError("failed to simulate transaction: "+h.error.message,t)}return h.result}let lj=lD(lC());function lD(t){return lS([lO({jsonrpc:lA("2.0"),id:lN(),result:t}),lO({jsonrpc:lA("2.0"),id:lN(),error:lO({code:lC(),message:lN(),data:lT(lx("any",()=>!0))})})])}let lM=(h=lO({err:lR(lS([lO({}),lN()])),logs:lR(lb(lN())),accounts:lT(lR(lb(lR(lO({executable:lx("boolean",t=>"boolean"==typeof t),owner:lN(),lamports:lE(),data:lb(lN()),rentEpoch:lT(lE())}))))),unitsConsumed:lT(lE())}),p=lD(d=lO({context:lO({slot:lE()}),value:h})),f=t=>"error"in t?t:{...t,result:lv(t.result,d)},new l_({...p,coercer:(t,e)=>lw(t,lj)[0]?p.coercer(t,e):p.coercer(f(t,e),e)}));class lL{constructor(t,e,r=lL.defaultOptions()){this.connection=t,this.wallet=e,this.opts=r,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=lL.defaultOptions()){throw Error("Provider local is not available on browser.")}static env(){throw Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var i,n,s,a;if(void 0===r&&(r=this.opts),ln(t))e&&t.sign(e);else if(t.feePayer=null!=(i=t.feePayer)?i:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,e)for(let r of e)t.partialSign(r);let o=(t=await this.wallet.signTransaction(t)).serialize();try{return await lB(this.connection,o,r)}catch(e){if(e instanceof lV){let r=la(ln(t)?(null==(n=t.signatures)?void 0:n[0])||new Uint8Array:null!=(s=t.signature)?s:new Uint8Array),i=ln(t)?0:void 0,o=await this.connection.getTransaction(r,{commitment:"confirmed",maxSupportedTransactionVersion:i});if(o){let t=null==(a=o.meta)?void 0:a.logMessages;throw t?new sV.SendTransactionError(e.message,t):e}}throw e}}async sendAll(t,e){var r,i,n;void 0===e&&(e=this.opts);let s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash,a=t.map(t=>{var e,r;if(ln(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let i=t.tx,n=null!=(e=t.signers)?e:[];return i.feePayer=null!=(r=i.feePayer)?r:this.wallet.publicKey,i.recentBlockhash=s,n.forEach(t=>{i.partialSign(t)}),i}}),o=await this.wallet.signAllTransactions(a),l=[];for(let t=0;t<a.length;t+=1){let s=o[t],a=s.serialize();try{l.push(await lB(this.connection,a,e))}catch(t){if(t instanceof lV){let e=la(ln(s)?(null==(r=s.signatures)?void 0:r[0])||new Uint8Array:null!=(i=s.signature)?i:new Uint8Array),a=ln(s)?0:void 0,o=await this.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(o){let e=null==(n=o.meta)?void 0:n.logMessages;throw e?new sV.SendTransactionError(t.message,e):t}}throw t}}return l}async simulate(t,e,r,i){let n,s=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(ln(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),n=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=s,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),n=await lP(this.connection,t,e,r,i)),n.value.err)throw new lU(n.value);return n.value}}class lU extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function lB(t,e,r){let i,n=r?{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot}:{},s=Date.now();for(;Date.now()-s<6e4;)try{let s=await t.sendRawTransaction(e,n);if(null==r?void 0:r.blockhash)if(0===n.maxRetries){let e=AbortSignal.timeout(15e3);i=(await t.confirmTransaction({abortSignal:e,signature:s,...r.blockhash},r&&r.commitment)).value}else i=(await t.confirmTransaction({signature:s,...r.blockhash},r&&r.commitment)).value;else i=(await t.confirmTransaction(s,r&&r.commitment)).value;if(i.err)throw new lV(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(t){if("TimeoutError"===t.name)continue;throw t}throw Error("Transaction failed to confirm in 60s")}class lV extends Error{constructor(t){super(t)}}function lz(){return null===lH?lL.local():lH}let lH=null;var lF="u">typeof globalThis?globalThis:"u">typeof window?window:t.g,l$={};Object.defineProperty(l$,"__esModule",{value:!0});var lK=l$.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=uk=l$.ANCHOR_ERROR__REQUIRE_VIOLATED=uC=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=uS=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=uO=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=uN=l$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=uT=l$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=uE=l$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=uR=l$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=uA=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=ub=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ux=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=uw=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=uv=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=u_=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=uy=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=ug=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=um=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=uf=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=up=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=ud=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=uh=l$.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=uc=l$.ANCHOR_ERROR__CONSTRAINT_SPACE=uu=l$.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=ul=l$.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=uo=l$.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=ua=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=us=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=un=l$.ANCHOR_ERROR__CONSTRAINT_ZERO=ui=l$.ANCHOR_ERROR__CONSTRAINT_ADDRESS=ur=l$.ANCHOR_ERROR__CONSTRAINT_CLOSE=ue=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=ut=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=l7=l$.ANCHOR_ERROR__CONSTRAINT_STATE=l9=l$.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=l8=l$.ANCHOR_ERROR__CONSTRAINT_SEEDS=l4=l$.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=l3=l$.ANCHOR_ERROR__CONSTRAINT_OWNER=l6=l$.ANCHOR_ERROR__CONSTRAINT_RAW=l5=l$.ANCHOR_ERROR__CONSTRAINT_SIGNER=l2=l$.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=l1=l$.ANCHOR_ERROR__CONSTRAINT_MUT=l0=l$.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=lJ=l$.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=lQ=l$.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=lq=l$.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=lX=l$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=lZ=l$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=lY=l$.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=lG=l$.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,lW=l$.ANCHOR_ERROR__DEPRECATED=u5=l$.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=u2=l$.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=u1=l$.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=u0=l$.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=uJ=l$.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=uQ=l$.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=uq=l$.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=uX=l$.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=uZ=l$.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=uY=l$.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=uG=l$.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=uW=l$.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=uK=l$.ANCHOR_ERROR__INVALID_PROGRAM_ID=u$=l$.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=uF=l$.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=uH=l$.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=uz=l$.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=uV=l$.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=uB=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=uU=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=uL=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=uM=l$.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=uD=l$.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=uj=l$.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=uP=l$.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=uI=l$.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,lG=l$.ANCHOR_ERROR__INSTRUCTION_MISSING=100,lY=l$.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,lZ=l$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,lX=l$.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,lq=l$.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,lQ=l$.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,lJ=l$.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,l0=l$.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,l1=l$.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,l2=l$.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,l5=l$.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,l6=l$.ANCHOR_ERROR__CONSTRAINT_RAW=2003,l3=l$.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,l4=l$.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,l8=l$.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,l9=l$.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,l7=l$.ANCHOR_ERROR__CONSTRAINT_STATE=2008,ut=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,ue=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,ur=l$.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,ui=l$.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,un=l$.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,us=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,ua=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,uo=l$.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,ul=l$.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,uu=l$.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,uc=l$.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,uh=l$.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ud=l$.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,up=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,uf=l$.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,um=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ug=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,uy=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,u_=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,uv=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,uw=l$.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ux=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,ub=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,uA=l$.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,uR=l$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,uE=l$.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,uT=l$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,uN=l$.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,uO=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,uS=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,uC=l$.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,uk=l$.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;lK=l$.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var uI=l$.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,uP=l$.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,uj=l$.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,uD=l$.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,uM=l$.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,uL=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,uU=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,uB=l$.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,uV=l$.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,uz=l$.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,uH=l$.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,uF=l$.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,u$=l$.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,uK=l$.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,uW=l$.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,uG=l$.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,uY=l$.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,uZ=l$.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,uX=l$.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,uq=l$.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,uQ=l$.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,uJ=l$.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,u0=l$.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,u1=l$.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,u2=l$.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,u5=l$.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;lW=l$.ANCHOR_ERROR__DEPRECATED=5e3;let u6=new Map;function u3(t){return void 0!==u6.get(t)}class u4 extends Error{constructor(t){super(t),this.name="IdlError"}}class u8{constructor(t){this.stack=t}static parse(t){var e;let r=/^Program (\w*) invoke/,i=/^Program \w* success/,n=[];for(let s=0;s<t.length;s++){if(i.exec(t[s])){n.pop();continue}let a=null==(e=r.exec(t[s]))?void 0:e[1];a&&n.push(new sV.PublicKey(a))}return new u8(n)}}class u9 extends Error{constructor(t,e,r,i,n,s){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=i,this.error={errorCode:t,errorMessage:e,comparedValues:s,origin:n},this._programErrorStack=u8.parse(i)}static parse(t){let e;if(!t)return null;let r=t.findIndex(t=>t.startsWith("Program log: AnchorError"));if(-1===r)return null;let i=t[r],n=[i];if(r+1<t.length){if("Program log: Left:"===t[r+1]){let i=/^Program log: (.*)$/,s=i.exec(t[r+2])[1],a=i.exec(t[r+4])[1];e=[new sV.PublicKey(s),new sV.PublicKey(a)],n.push(...t.slice(r+1,r+5))}else if(t[r+1].startsWith("Program log: Left:")){let i=/^Program log: (Left|Right): (.*)$/,s=i.exec(t[r+1])[2],a=i.exec(t[r+2])[2];n.push(...t.slice(r+1,r+3)),e=[s,a]}}let s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),o=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(s){let[r,i,a]=s.slice(1,4);return new u9({code:r,number:parseInt(i)},a,n,t,void 0,e)}if(a){let[r,i,s,o,l]=a.slice(1,6);return new u9({code:s,number:parseInt(o)},l,n,t,{file:r,line:parseInt(i)},e)}if(!o)return null;{let[r,i,s,a]=o.slice(1,5);return new u9({code:i,number:parseInt(s)},a,n,t,r,e)}}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class u7 extends Error{constructor(t,e,r){super(),this.code=t,this.msg=e,this.logs=r,r&&(this._programErrorStack=u8.parse(r))}static parse(t,e){let r,i,n=t.toString();if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{let t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let s=e.get(i);return void 0!==s||void 0!==(s=ce.get(i))?new u7(i,s,t.logs):null}get program(){var t;return null==(t=this._programErrorStack)?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null==(t=this._programErrorStack)?void 0:t.stack}toString(){return this.msg}}function ct(t,e){u3("debug-logs")&&console.log("Translating error:",t);let r=u9.parse(t.logs);if(r)return r;let i=u7.parse(t,e);return i||(t.logs?(t.programErrorStack=u8.parse(t.logs),new Proxy(t,{get:function(e,r){return"programErrorStack"===r?e.programErrorStack.stack:"program"===r?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}})):t)}let ce=new Map([[lG,"Instruction discriminator not provided"],[lY,"Fallback functions are not supported"],[lZ,"The program could not deserialize the given instruction"],[lX,"The program could not serialize the given instruction"],[lq,"The program was compiled without idl instructions"],[lQ,"The transaction was given an invalid program for the IDL instruction"],[lJ,"IDL account must be empty in order to resize, try closing first"],[l0,"The program was compiled without `event-cpi` feature"],[l1,"A mut constraint was violated"],[l2,"A has one constraint was violated"],[l5,"A signer constraint was violated"],[l6,"A raw constraint was violated"],[l3,"An owner constraint was violated"],[l4,"A rent exemption constraint was violated"],[l8,"A seeds constraint was violated"],[l9,"An executable constraint was violated"],[l7,"Deprecated Error, feel free to replace with something else"],[ut,"An associated constraint was violated"],[ue,"An associated init constraint was violated"],[ur,"A close constraint was violated"],[ui,"An address constraint was violated"],[un,"Expected zero account discriminant"],[us,"A token mint constraint was violated"],[ua,"A token owner constraint was violated"],[uo,"A mint mint authority constraint was violated"],[ul,"A mint freeze authority constraint was violated"],[uu,"A mint decimals constraint was violated"],[uc,"A space constraint was violated"],[uh,"A required account for the constraint is None"],[ud,"A token account token program constraint was violated"],[up,"A mint token program constraint was violated"],[uf,"An associated token account token program constraint was violated"],[um,"A group pointer extension constraint was violated"],[ug,"A group pointer extension authority constraint was violated"],[uy,"A group pointer extension group address constraint was violated"],[u_,"A group member pointer extension constraint was violated"],[uv,"A group member pointer extension authority constraint was violated"],[uw,"A group member pointer extension group address constraint was violated"],[ux,"A metadata pointer extension constraint was violated"],[ub,"A metadata pointer extension authority constraint was violated"],[uA,"A metadata pointer extension metadata address constraint was violated"],[uR,"A close authority constraint was violated"],[uE,"A close authority extension authority constraint was violated"],[uT,"A permanent delegate extension constraint was violated"],[uN,"A permanent delegate extension delegate constraint was violated"],[uO,"A transfer hook extension constraint was violated"],[uS,"A transfer hook extension authority constraint was violated"],[uC,"A transfer hook extension transfer hook program id constraint was violated"],[uk,"A require expression was violated"],[lK,"A require_eq expression was violated"],[uI,"A require_keys_eq expression was violated"],[uP,"A require_neq expression was violated"],[uj,"A require_keys_neq expression was violated"],[uD,"A require_gt expression was violated"],[uM,"A require_gte expression was violated"],[uL,"The account discriminator was already set on this account"],[uU,"No discriminator was found on the account"],[uB,"Account discriminator did not match what was expected"],[uV,"Failed to deserialize the account"],[uz,"Failed to serialize the account"],[uH,"Not enough account keys given to the instruction"],[uF,"The given account is not mutable"],[u$,"The given account is owned by a different program than expected"],[uK,"Program ID was not as expected"],[uW,"Program account is not executable"],[uG,"The given account did not sign"],[uY,"The given account is not owned by the system program"],[uZ,"The program expected this account to be already initialized"],[uX,"The given account is not a program data account"],[uq,"The given account is not the associated token account"],[uQ,"The given public key does not match the required sysvar"],[uJ,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[u0,"The account was duplicated for more than one reallocation"],[u1,"The declared program id does not match the actual program id"],[u2,"You cannot/should not initialize the payer account as a program account"],[u5,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[lW,"The API being used is deprecated and should no longer be used"]]);class cr{static fieldLayout(t,e=[],r){let i=t.name;switch(t.type){case"bool":return sK.bool(i);case"u8":return sK.u8(i);case"i8":return sK.i8(i);case"u16":return sK.u16(i);case"i16":return sK.i16(i);case"u32":return sK.u32(i);case"i32":return sK.i32(i);case"f32":return sK.f32(i);case"u64":return sK.u64(i);case"i64":return sK.i64(i);case"f64":return sK.f64(i);case"u128":return sK.u128(i);case"i128":return sK.i128(i);case"u256":return sK.u256(i);case"i256":return sK.i256(i);case"bytes":return sK.vecU8(i);case"string":return sK.str(i);case"pubkey":return sK.publicKey(i);default:if("option"in t.type)return sK.option(cr.fieldLayout({type:t.type.option},e,r),i);if("vec"in t.type)return sK.vec(cr.fieldLayout({type:t.type.vec},e,r),i);if("array"in t.type){let[n,s]=t.type.array;return s=cr.resolveArrayLen(s,r),sK.array(cr.fieldLayout({type:n},e,r),s,i)}if("defined"in t.type){if(!e)throw new u4("User defined types not provided");let n=t.type.defined.name,s=e.find(t=>t.name===n);if(!s)throw new u4(`Type not found: ${t.name}`);return cr.typeDefLayout({typeDef:s,types:e,genericArgs:null!=r?r:t.type.defined.generics,name:i})}if("generic"in t.type){let i=null==r?void 0:r.at(0);if((null==i?void 0:i.kind)!=="type")throw new u4(`Invalid generic field: ${t.name}`);return cr.fieldLayout({...t,type:i.type},e)}throw new u4(`Not yet implemented: ${JSON.stringify(t.type)}`)}}static typeDefLayout({typeDef:t,types:e,name:r,genericArgs:i}){switch(t.type.kind){case"struct":{let n=lh(t.type.fields,()=>[],r=>r.map(r=>{let n=i?cr.resolveGenericArgs({type:r.type,typeDef:t,genericArgs:i}):i;return cr.fieldLayout(r,e,n)}),r=>r.map((r,n)=>{let s=i?cr.resolveGenericArgs({type:r,typeDef:t,genericArgs:i}):i;return cr.fieldLayout({name:n.toString(),type:r},e,s)}));return sK.struct(n,r)}case"enum":{let n=t.type.variants.map(r=>{let n=lh(r.fields,()=>[],r=>r.map(r=>{let n=i?cr.resolveGenericArgs({type:r.type,typeDef:t,genericArgs:i}):i;return cr.fieldLayout(r,e,n)}),r=>r.map((r,n)=>{let s=i?cr.resolveGenericArgs({type:r,typeDef:t,genericArgs:i}):i;return cr.fieldLayout({name:n.toString(),type:r},e,s)}));return sK.struct(n,r.name)});if(void 0!==r)return sK.rustEnum(n).replicate(r);return sK.rustEnum(n,r)}case"type":return cr.fieldLayout({type:t.type.alias,name:r},e)}}static typeSize(t,e,r){var i;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in t)return 1+cr.typeSize(t.option,e,r);if("coption"in t)return 4+cr.typeSize(t.coption,e,r);if("vec"in t)return 1;if("array"in t){let[i,n]=t.array;return n=cr.resolveArrayLen(n,r),cr.typeSize(i,e,r)*n}if("defined"in t){let n=null==(i=e.types)?void 0:i.find(e=>e.name===t.defined.name);if(!n)throw new u4(`Type not found: ${JSON.stringify(t)}`);let s=i=>{let s=null!=r?r:t.defined.generics,a=s?cr.resolveGenericArgs({type:i,typeDef:n,genericArgs:s}):s;return cr.typeSize(i,e,a)};switch(n.type.kind){case"struct":return lh(n.type.fields,()=>[0],t=>t.map(t=>s(t.type)),t=>t.map(t=>s(t))).reduce((t,e)=>t+e,0);case"enum":return Math.max(...n.type.variants.map(t=>lh(t.fields,()=>[0],t=>t.map(t=>s(t.type)),t=>t.map(t=>s(t))).reduce((t,e)=>t+e,0)))+1;case"type":return cr.typeSize(n.type.alias,e,r)}}if("generic"in t){let i=null==r?void 0:r.at(0);if((null==i?void 0:i.kind)!=="type")throw new u4(`Invalid generic: ${t.generic}`);return cr.typeSize(i.type,e,r)}throw Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if("number"==typeof t)return t;if(e){let r=e.find(t=>"const"===t.kind);(null==r?void 0:r.kind)==="const"&&(t=+r.value)}if("number"!=typeof t)throw new u4("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:r,isDefined:i}){if("object"!=typeof t)return null;for(let n in e.generics){let s=e.generics[n];if("generic"in t&&s.name===t.generic)return[r[n]];if("option"in t){let n=cr.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:r,isDefined:i});if(!n||!i)return n;if("type"===n[0].kind)return[{kind:"type",type:{option:n[0].type}}]}if("vec"in t){let n=cr.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:r,isDefined:i});if(!n||!i)return n;if("type"===n[0].kind)return[{kind:"type",type:{vec:n[0].type}}]}if("array"in t){let[a,o]=t.array,l="object"==typeof o,u=cr.resolveGenericArgs({type:a,typeDef:e,genericArgs:r,isDefined:i})||[];if(l){let t=e.generics.findIndex(t=>t.name===o.generic);-1!==t&&u.push(r[t])}if(u.length>0){if(!i)return u;if("type"===u[0].kind&&"const"===u[1].kind)return[{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(l&&s.name===o.generic){let t=r[n];if(!i)return[t];return[{kind:"type",type:{array:[a,+t.value]}}]}break}if("defined"in t){if(!t.defined.generics)return null;return t.defined.generics.flatMap(t=>{switch(t.kind){case"type":return cr.resolveGenericArgs({type:t.type,typeDef:e,genericArgs:r,isDefined:!0});case"const":return[t]}}).filter(t=>null!==t)}}return null}}class ci{constructor(t){this.idl=t;const e=t.instructions.map(e=>{let r=e.name,i=e.args.map(e=>cr.fieldLayout(e,t.types)),n=sK.struct(i,r);return[r,{discriminator:e.discriminator,layout:n}]});this.ixLayouts=new Map(e)}encode(t,e){let r=sH.Buffer.alloc(1e3),i=this.ixLayouts.get(t);if(!i)throw Error(`Unknown method: ${t}`);let n=i.layout.encode(e,r),s=r.slice(0,n);return sH.Buffer.concat([sH.Buffer.from(i.discriminator),s])}decode(t,e="hex"){for(let[r,i]of("string"==typeof t&&(t="hex"===e?sH.Buffer.from(t,"hex"):sF.default.decode(t)),this.ixLayouts)){let e=t.subarray(0,i.discriminator.length);if(e.equals(sH.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(t.subarray(e.length))}}return null}format(t,e){return cn.format(t,e,this.idl)}}class cn{static format(t,e,r){let i=r.instructions.find(e=>t.name===e.name);if(!i)return console.error("Invalid instruction given"),null;let n=i.args.map(e=>({name:e.name,type:cn.formatIdlType(e.type),data:cn.formatIdlData(e,t.data[e.name],r.types)})),s=cn.flattenIdlAccounts(i.accounts);return{args:n,accounts:e.map((t,e)=>e<s.length?{name:s[e].name,...t}:{name:void 0,...t})}}static formatIdlType(t){if("string"==typeof t)return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){let e=t.defined.name;if(t.defined.generics){let r=t.defined.generics.map(t=>{switch(t.kind){case"type":return cn.formatIdlType(t.type);case"const":return t.value}}).join(", ");return`${e}<${r}>`}return e}throw Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,r){if("string"==typeof t.type)return e.toString();if("vec"in t.type)return"["+e.map(e=>this.formatIdlData({name:"",type:t.type.vec},e,r)).join(", ")+"]";if("option"in t.type)return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,r);if("defined"in t.type){if(!r)throw Error("User defined types not provided");let i=t.type.defined.name,n=r.find(t=>t.name===i);if(!n)throw Error(`Type not found: ${i}`);return cn.formatIdlDataDefined(n,e,r)}return"unknown"}static formatIdlDataDefined(t,e,r){switch(t.type.kind){case"struct":return"{ "+lh(t.type.fields,()=>"",t=>Object.entries(e).map(([e,i])=>{let n=t.find(t=>t.name===e);if(!n)throw Error(`Field not found: ${e}`);return e+": "+cn.formatIdlData(n,i,r)}).join(", "),t=>Object.entries(e).map(([e,i])=>e+": "+cn.formatIdlData({name:"",type:t[e]},i,r)).join(", "))+" }";case"enum":{let i=Object.keys(e)[0],n=t.type.variants.find(t=>t.name===i);if(!n)throw Error(`Unable to find variant: ${i}`);let s=e[i];return lh(n.fields,()=>i,t=>{let e=Object.keys(s).map(e=>{let i=s[e],n=t.find(t=>t.name===e);if(!n)throw Error(`Field not found: ${e}`);return e+": "+cn.formatIdlData(n,i,r)}).join(", ");return`${i} { ${e} }`},t=>{let e=Object.entries(s).map(([e,i])=>e+": "+cn.formatIdlData({name:"",type:t[e]},i,r)).join(", ");return`${i} { ${e} }`})}case"type":return cn.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map(t=>{let r,i=(r=t.name.replace(/([A-Z])/g," $1")).charAt(0).toUpperCase()+r.slice(1);if(!t.hasOwnProperty("accounts"))return{...t,name:e?`${e} > ${i}`:i};{let r=e?`${e} > ${i}`:i;return cn.flattenIdlAccounts(t.accounts,r)}}).flat()}}class cs{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const e=t.types;if(!e)throw Error("Accounts require `idl.types`");const r=t.accounts.map(t=>{let r=e.find(e=>e.name===t.name);if(!r)throw Error(`Account not found: ${t.name}`);return[t.name,{discriminator:t.discriminator,layout:cr.typeDefLayout({typeDef:r,types:e})}]});this.accountLayouts=new Map(r)}async encode(t,e){let r=sH.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw Error(`Unknown account: ${t}`);let n=i.layout.encode(e,r),s=r.slice(0,n),a=this.accountDiscriminator(t);return sH.Buffer.concat([a,s])}decode(t,e){let r=this.accountDiscriminator(t);if(r.compare(e.slice(0,r.length)))throw Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){for(let[e,r]of this.accountLayouts)if(t.subarray(0,r.discriminator.length).equals(sH.Buffer.from(r.discriminator)))return this.decodeUnchecked(e,t);throw Error("Account not found")}decodeUnchecked(t,e){let r=this.accountDiscriminator(t),i=e.subarray(r.length),n=this.accountLayouts.get(t);if(!n)throw Error(`Unknown account: ${t}`);return n.layout.decode(i)}memcmp(t,e){let r=this.accountDiscriminator(t);return{offset:0,bytes:sF.default.encode(e?sH.Buffer.concat([r,e]):r)}}size(t){return this.accountDiscriminator(t).length+cr.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;let r=null==(e=this.idl.accounts)?void 0:e.find(e=>e.name===t);if(!r)throw Error(`Account not found: ${t}`);return sH.Buffer.from(r.discriminator)}}class ca{constructor(t){if(!t.events){this.layouts=new Map;return}const e=t.types;if(!e)throw Error("Events require `idl.types`");const r=t.events.map(t=>{let r=e.find(e=>e.name===t.name);if(!r)throw Error(`Event not found: ${t.name}`);return[t.name,{discriminator:t.discriminator,layout:cr.typeDefLayout({typeDef:r,types:e})}]});this.layouts=new Map(r)}decode(t){let e;try{e=lo(t)}catch(t){return null}for(let[t,r]of this.layouts){let i=e.subarray(0,r.discriminator.length);if(i.equals(sH.Buffer.from(r.discriminator)))return{name:t,data:r.layout.decode(e.subarray(i.length))}}return null}}class co{constructor(t){const e=t.types;if(!e){this.typeLayouts=new Map;return}const r=e.filter(t=>!t.generics).map(t=>[t.name,cr.typeDefLayout({typeDef:t,types:e})]);this.typeLayouts=new Map(r)}encode(t,e){let r=sH.Buffer.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw Error(`Unknown type: ${t}`);let n=i.encode(e,r);return r.slice(0,n)}decode(t,e){let r=this.typeLayouts.get(t);if(!r)throw Error(`Unknown type: ${t}`);return r.decode(e)}}class cl{constructor(t){this.instruction=new ci(t),this.accounts=new cs(t),this.events=new ca(t),this.types=new co(t)}}class cu{constructor(t,e){if(!Number.isInteger(t))throw TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw Error("Layout is abstract")}encode(t,e,r){throw Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var cc=cu;class ch extends cu{isCount(){throw Error("ExternalLayout is abstract")}}class cd extends ch{constructor(t,e,r){if(!(t instanceof cu))throw TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof cp||this.layout instanceof cf}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class cp extends cu{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class cf extends cu{constructor(t,e){if(super(t,e),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}function cm(t){let e=Math.floor(t/0x100000000);return{hi32:e,lo32:t-0x100000000*e}}function cg(t,e){return 0x100000000*t+e}class cy extends cu{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);let r=t.readUInt32LE(e);return cg(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);let i=cm(t);return e.writeUInt32LE(i.lo32,r),e.writeInt32LE(i.hi32,r+4),8}}class c_ extends cu{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((t,e)=>t&&e instanceof cu,!0)))throw TypeError("fields must be array of Layout instances");for(const i of("boolean"==typeof e&&void 0===r&&(r=e,e=void 0),t))if(0>i.span&&void 0===i.property)throw Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((t,e)=>t+e.getSpan(),0)}catch(t){}super(i,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce((r,i)=>{let n=i.getSpan(t,e);return e+=n,r+n},0)}catch(t){throw RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);let r=this.makeDestinationObject();for(let i of this.fields)if(void 0!==i.property&&(r[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);let i=r,n=0,s=0;for(let i of this.fields){let a=i.span;if(s=0<a?a:0,void 0!==i.property){let n=t[i.property];void 0!==n&&(s=i.encode(n,e,r),0>a&&(a=i.getSpan(e,r)))}n=r,r+=a}return n+s-i}fromArray(t){let e=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw TypeError("property must be string");let e=0;for(let r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class cv{constructor(t){this.property=t}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class cw extends cv{constructor(t,e){if(!(t instanceof ch&&t.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class cx extends cu{constructor(t,e,r){const i=t instanceof cp||t instanceof cf;if(i)t=new cw(new cd(t));else if(t instanceof ch&&t.isCount())t=new cw(t);else if(!(t instanceof cv))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof cu))throw TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let n=-1;e&&0<=(n=e.span)&&i&&(n+=t.layout.span),super(n,r),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=this.getVariant(t,e);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(let e in this.registry){let r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);let i=this.discriminator,n=i.decode(t,e),s=this.registry[n];if(void 0===s){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),(r=this.makeDestinationObject())[i.property]=n,r[s.property]=this.defaultLayout.decode(t,e+a)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);let i=this.getSourceVariant(t);if(void 0===i){let i=this.discriminator,n=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(t[i.property],e,r),s+n.encode(t[n.property],e,r+s)}return i.encode(t,e,r)}addVariant(t,e,r){let i=new cb(this,t,e,r);return this.registry[t]=i,i}getVariant(t,e){let r=t;return w.Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class cb extends cu{constructor(t,e,r,i){if(!(t instanceof cx))throw TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof cu))throw TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof i)throw TypeError("variant must have a String property")}let n=t.span;0>t.span&&0<=(n=r?r.span:0)&&t.usesPrefixDiscriminator&&(n+=t.discriminator.layout.span),super(n,i),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){let r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let n=i;if(this.layout&&(this.layout.encode(t[this.property],e,r+i),n+=this.layout.getSpan(e,r+i),0<=this.union.span&&n>this.union.span))throw Error("encoded variant overruns containing union");return n}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class cA extends cu{constructor(t,e){if(!(t instanceof ch&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ch||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let i=this.length;if(this.length instanceof ch&&(i=t.length),!(w.Buffer.isBuffer(t)&&i===t.length)){var n;throw TypeError((n="Blob.encode",(this.property?n+"["+this.property+"]":n)+" requires (length "+i+") Buffer as src"))}if(r+i>e.length)throw RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,i,"hex"),this.length instanceof ch&&this.length.encode(i,e,r),i}}var cR=t=>new cp(4,t),cE=t=>new cy(t),cT=(t,e,r)=>new c_(t,e,r),cN=(t,e,r)=>new cx(t,e,r),cO=(t,e)=>new cA(t,e);class cS extends cc{constructor(t){super(-1,t),this.property=t,this.layout=cT([cR("length"),cR("lengthPadding"),cO(((t,e,r)=>new cd(t,e,r))(cR(),-8),"chars")],this.property)}encode(t,e,r=0){if(null==t)return this.layout.span;let i={chars:w.Buffer.from(t,"utf8")};return this.layout.encode(i,e,r)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return cR().span+cR().span+new sz.default(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function cC(t){return new cS(t)}function ck(t){return cO(32,t)}let cI=cN(cR("instruction"));cI.addVariant(0,cT([cE("lamports"),cE("space"),ck("owner")]),"createAccount"),cI.addVariant(1,cT([ck("owner")]),"assign"),cI.addVariant(2,cT([cE("lamports")]),"transfer"),cI.addVariant(3,cT([ck("base"),cC("seed"),cE("lamports"),cE("space"),ck("owner")]),"createAccountWithSeed"),cI.addVariant(4,cT([ck("authorized")]),"advanceNonceAccount"),cI.addVariant(5,cT([cE("lamports")]),"withdrawNonceAccount"),cI.addVariant(6,cT([ck("authorized")]),"initializeNonceAccount"),cI.addVariant(7,cT([ck("authorized")]),"authorizeNonceAccount"),cI.addVariant(8,cT([cE("space")]),"allocate"),cI.addVariant(9,cT([ck("base"),cC("seed"),cE("space"),ck("owner")]),"allocateWithSeed"),cI.addVariant(10,cT([ck("base"),cC("seed"),ck("owner")]),"assignWithSeed"),cI.addVariant(11,cT([cE("lamports"),cC("seed"),ck("owner")]),"transferWithSeed"),Object.values(cI.registry).map(t=>t.span);class cP extends cc{constructor(t,e,r,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}function cj(t){return new cP(cO(32),t=>new sV.PublicKey(t),t=>t.toBuffer(),t)}cT([cR("version"),cR("state"),cj("authorizedPubkey"),cj("nonce"),cT([new class t extends cu{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);let r=t.readUInt32LE(e);return cg(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);let i=cm(t);return e.writeUInt32LE(i.lo32,r),e.writeUInt32LE(i.hi32,r+4),8}}("lamportsPerSignature")],"feeCalculator")]),new sV.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new sV.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var cD={exports:{}};m=cD.exports,g="u">typeof self?self:lF,_=y=function(){function t(){this.fetch=!1,this.DOMException=g.DOMException}return t.prototype=g,new t}(),function(t){var e={searchParams:"URLSearchParams"in _,iterable:"Symbol"in _&&"iterator"in Symbol,blob:"FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in _,arrayBuffer:"ArrayBuffer"in _};if(e.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function n(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var r={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(r[Symbol.iterator]=function(){return r}),r}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(TypeError("Already read"));t.bodyUsed=!0}function u(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function c(t){var e=new FileReader,r=u(e);return e.readAsArrayBuffer(t),r}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else{var r;e.arrayBuffer&&e.blob&&(r=t)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t)}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var t,e,r,i=l(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,r=u(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},e.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}o.prototype.append=function(t,e){t=n(t),e=s(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},o.prototype.delete=function(t){delete this.map[n(t)]},o.prototype.get=function(t){return t=n(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(n(t))},o.prototype.set=function(t,e){this.map[n(t)]=s(e)},o.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),a(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),a(t)},e.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(t,e){var r,i,n=(e=e||{}).body;if(t instanceof f){if(t.bodyUsed)throw TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new o(e.headers)),this.method=(i=(r=e.method||this.method||"GET").toUpperCase(),p.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];g.redirect=function(t,e){if(-1===y.indexOf(e))throw RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.DOMException=_.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function v(r,i){return new Promise(function(n,s){var a=new f(r,i);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}l.onload=function(){var t,e,r={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new o,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}}),e)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL"),n(new g("response"in l?l.response:l.responseText,r))},l.onerror=function(){s(TypeError("Network request failed"))},l.ontimeout=function(){s(TypeError("Network request failed"))},l.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},l.open(a.method,a.url,!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&e.blob&&(l.responseType="blob"),a.headers.forEach(function(t,e){l.setRequestHeader(e,t)}),a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send(void 0===a._bodyInit?null:a._bodyInit)})}v.polyfill=!0,_.fetch||(_.fetch=v,_.Headers=o,_.Request=f,_.Response=g),t.Headers=o,t.Request=f,t.Response=g,t.fetch=v,Object.defineProperty(t,"__esModule",{value:!0})}({}),y.fetch.ponyfill=!0,delete y.fetch.polyfill,(m=y.fetch).default=y.fetch,m.fetch=y.fetch,m.Headers=y.Headers,m.Request=y.Request,m.Response=y.Response,cD.exports=m;(v=cD.exports)&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")&&v.default;sK.rustEnum([sK.struct([],"uninitialized"),sK.struct([sK.option(sK.publicKey(),"authorityAddress")],"buffer"),sK.struct([sK.publicKey("programdataAddress")],"program"),sK.struct([sK.u64("slot"),sK.option(sK.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,sK.u32());let cM="Program log: ",cL="Program data: ",cU=cM.length,cB=cL.length;class cV{constructor(t,e,r){this._programId=t,this._provider=e,this._eventParser=new cz(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e,r){var i;let n=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!=(i=this._eventListeners.get(t))?i:[]).concat(n)),this._eventCallbacks.set(n,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(t,e)=>{if(!t.err)for(let r of this._eventParser.parseLogs(t.logs)){let i=this._eventListeners.get(r.name);i&&i.forEach(i=>{let n=this._eventCallbacks.get(i);if(n){let[,i]=n;i(r.data,e.slot,t.signature)}})}},r)),n}async removeEventListener(t){let e=this._eventCallbacks.get(t);if(!e)throw Error(`Event listener ${t} doesn't exist!`);let[r]=e,i=this._eventListeners.get(r);if(!i)throw Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(t),i=i.filter(e=>e!==t),this._eventListeners.set(r,i),0===i.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class cz{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){let r=new cF([...t]),i=new cH,n=r.next();if(null===n)return;let s=cz.INVOKE_RE.exec(n);if(!s||s[2]!==cz.ROOT_DEPTH)throw Error(`Unexpected first log line: ${n}`);for(i.push(s[1]);null!==r.peek();){let t=r.next();if(null===t)break;let[n,s,a]=this.handleLog(i,t,e);if(n&&(yield n),s&&i.push(s),a){i.pop();let t=r.peek();if(t&&t.endsWith("invoke [1]")){let e=cz.INVOKE_RE.exec(t);e&&i.push(e[1])}}}}handleLog(t,e,r){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,r):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(!(t.startsWith(cM)||t.startsWith(cL)))return[null,...this.handleSystemLog(t)];{let r=t.startsWith(cM)?t.slice(cU):t.slice(cB),i=this.coder.events.decode(r);if(e&&null===i)throw Error(`Unable to decode event ${r}`);return[i,null,!1]}}handleSystemLog(t){return t.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:t.includes("invoke")&&!t.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(t)?[null,!0]:[null,!1]}}cz.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/,cz.ROOT_DEPTH="1";class cH{constructor(){this.stack=[]}program(){if(!this.stack.length)throw Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw Error("Expected the stack to have elements");this.stack.pop()}}class cF{constructor(t){this.logs=t,this.logs=this.logs.filter(t=>t.startsWith("Program "))}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}peek(){return this.logs.length>0?this.logs[0]:null}}function c$(t,e){var r,i;let n={},s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!=(i=null==(r=t.args)?void 0:r.map(t=>t.name))?i:[]}`);n=e.pop()}return[e,n]}class cK{static build(t,e,r){if("_inner"===t.name)throw new u4("the _inner name is reserved");let i=(...n)=>{let[s,a]=c$(t,[...n]);!function t(e,r={}){e.forEach(e=>{if(ll(e))t(e.accounts,r[e.name]);else if(!r[e.name])throw Error(`Account \`${e.name}\` not provided.`)})}(t.accounts,a.accounts);let o=i.accounts(a.accounts);return void 0!==a.remainingAccounts&&o.push(...a.remainingAccounts),u3("debug-logs")&&console.log("Outgoing account metas:",o),new sV.TransactionInstruction({keys:o,programId:r,data:e(t.name,function(t,...e){if(t.args.length!=e.length)throw Error("Invalid argument length");let r={},i=0;return t.args.forEach(t=>{r[t.name]=e[i],i+=1}),r}(t,...s))})};return i.accounts=e=>cK.accountsArray(e,t.accounts,r,t.name),i}static accountsArray(t,e,r,i){return t?e.map(e=>{let n;if(ll(e)){let n=t[e.name];return cK.accountsArray(n,e.accounts,r,i).flat()}try{n=ld(t[e.name])}catch(t){throw Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==i?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}let s=e.optional&&n.equals(r);return{pubkey:n,isWritable:!!(e.writable&&!s),isSigner:!!(e.signer&&!s)}}).flat():[]}}class cW{static build(t,e){return(...r)=>{var i,n,s;let[,a]=c$(t,[...r]),o=new sV.Transaction;if(a.preInstructions&&a.instructions)throw Error("instructions is deprecated, use preInstructions");return null==(i=a.preInstructions)||i.forEach(t=>o.add(t)),null==(n=a.instructions)||n.forEach(t=>o.add(t)),o.add(e(...r)),null==(s=a.postInstructions)||s.forEach(t=>o.add(t)),o}}}class cG{static build(t,e,r,i){return async(...n)=>{var s;let a=e(...n),[,o]=c$(t,[...n]);if(void 0===i.sendAndConfirm)throw Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(a,null!=(s=o.signers)?s:[],o.options)}catch(t){throw ct(t,r)}}}}class cY{static build(t,e,r,i){var n;return(null!=(n=t.accounts)?n:[]).reduce((n,s)=>(n[s.name]=new cZ(t,s,r,i,e),n),{})}}class cZ{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,r,i,n){this._idlAccount=e,this._programId=r,this._provider=null!=i?i:lz(),this._coder=null!=n?n:new cl(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){let{data:r}=await this.fetchNullableAndContext(t,e);return r}async fetchNullableAndContext(t,e){let{value:r,context:i}=await this.getAccountInfoAndContext(t,e);return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(t,e){let{data:r}=await this.fetchNullableAndContext(t,e);if(null===r)throw Error(`Account does not exist or has no data ${t.toString()}`);return r}async fetchAndContext(t,e){let{data:r,context:i}=await this.fetchNullableAndContext(t,e);if(null===r)throw Error(`Account does not exist ${t.toString()}`);return{data:r,context:i}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map(t=>t?t.data:null)}async fetchMultipleAndContext(t,e){return(await lk(this._provider.connection,t.map(t=>ld(t)),e)).map(t=>{if(null==t)return null;let{account:e,context:r}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:r}})}async all(t){let e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof w.Buffer?t:void 0),r=[];return(null==e?void 0:e.offset)!=void 0&&(null==e?void 0:e.bytes)!=void 0&&r.push({memcmp:{offset:e.offset,bytes:e.bytes}}),(null==e?void 0:e.dataSize)!=void 0&&r.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(t)?t:[]]})).map(({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)}))}subscribe(t,e){let r=cX.get(t.toString());if(r)return r.ee;let i=new li.default;t=ld(t);let n=this._provider.connection.onAccountChange(t,t=>{let e=this._coder.accounts.decode(this._idlAccount.name,t.data);i.emit("change",e)},e);return cX.set(t.toString(),{ee:i,listener:n}),i}async unsubscribe(t){let e=cX.get(t.toString());e?cX&&await this._provider.connection.removeAccountChangeListener(e.listener).then(()=>{cX.delete(t.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){let r=this.size;if(void 0===this._provider.publicKey)throw Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return sV.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:r),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(ld(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(ld(t),e)}}let cX=new Map;class cq{static build(t,e,r,i,n,s,a){return async(...o)=>{var l;let u,c=e(...o),[,h]=c$(t,[...o]);if(void 0===i.simulate)throw Error("This function requires 'Provider.simulate' to be implemented.");try{u=await i.simulate(c,h.signers,null==(l=h.options)?void 0:l.commitment)}catch(t){throw ct(t,r)}if(void 0===u)throw Error("Unable to simulate transaction");let d=u.logs;if(!d)throw Error("Simulated logs not found");let p=[];if(a.events)for(let t of new cz(s,n).parseLogs(d))p.push(t);return{events:p,raw:d}}}}function cQ(t){return new c0(cO(8),t=>c2.fromBuffer(t),t=>t.toBuffer(),t)}function cJ(t){return new c0(cO(32),t=>new sV.PublicKey(t),t=>t.toBuffer(),t)}class c0 extends cc{constructor(t,e,r,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class c1 extends cc{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=cR()}encode(t,e,r=0){return null==t?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t,e=0){let r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+4);throw Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class c2 extends sz.default{toBuffer(){let t=super.toArray().reverse(),e=w.Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw Error("u64 too large");let r=w.Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){if(8!==t.length)throw Error(`Invalid buffer length: ${t.length}`);return new c2([...t].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}let c5=cT([cJ("mint"),cJ("owner"),cQ("amount"),new c1(cJ(),"delegate"),((l=cN(new cp(1,"discriminator"),null,"state")).addVariant(0,cT([]),"uninitialized"),l.addVariant(1,cT([]),"initialized"),l.addVariant(2,cT([]),"frozen"),l),new c1(cQ(),"isNative"),cQ("delegatedAmount"),new c1(cJ(),"closeAuthority")]);class c6{constructor(t,e,r,i,n,s,a,o){this._args=t,this._accounts=e,this._provider=r,this._programId=i,this._idlIx=n,this._idlTypes=a,this._customResolver=o,this._accountStore=new c3(r,s,i)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(16==++t){let t=e=>ll(e)?e.accounts.some(t):!!(e.address||e.pda||e.relations),e=(t,r=[],i=[])=>{for(let n of t)ll(n)?i.push(...e(n.accounts,[...r,n.name])):i.push([...r,n.name]);return i},r=e(this._idlIx.accounts.filter(t)).filter(t=>!this.get(t)).map(t=>t.reduce((t,e)=>t+"."+e)).map(t=>`\`${t}\``).join(", ");throw Error(`Reached maximum depth for account resolution. Unresolved accounts: ${r}`)}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){let e=t.reduce((t,e)=>t&&t[e],this._accounts);if(e&&e.toBase58)return e}set(t,e){let r=this._accounts;t.forEach((i,n)=>{var s;n===t.length-1&&(r[i]=e),r[i]=null!=(s=r[i])?s:{},r=r[i]})}resolveOptionalsHelper(t,e){let r={};for(let i of e){let e=i.name,n=t[e];void 0!==n&&(c8(n)?ll(i)?r[e]=this.resolveOptionalsHelper(n,i.accounts):r[e]=function t(e,r){let i={};for(let n in e){let s=e[n];if(null===s){if(r)throw Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}i[n]=c8(s)?t(s,!0):ld(s)}return i}(n,!0):null!==n?r[e]=ld(n):i.optional&&(r[e]=this._programId))}return r}async resolveCustom(){if(this._customResolver){let{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(let r in t){let i=t[r];ll(i)&&this.resolveEventCpi(i.accounts,[...e,i.name]);let n=+r+1;if(n===t.length)return;let s=t[r].name,a=t[n].name;if("eventAuthority"===s&&"program"===a){let t=[...e,s],r=[...e,a];this.get(t)||this.set(t,sV.PublicKey.findProgramAddressSync([w.Buffer.from("__event_authority")],this._programId)[0]),this.get(r)||this.set(r,this._programId);return}}}resolveConst(t,e=[]){for(let r of t){let t=r.name;if(ll(r))this.resolveConst(r.accounts,[...e,t]);else if((r.signer||r.address)&&!this.get([...e,t])){if(r.signer){if(!this._provider.publicKey)throw Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...e,t],this._provider.publicKey)}r.address&&this.set([...e,t],ld(r.address))}}}async resolvePdasAndRelations(t,e=[]){let r=0;for(let i of t){let t=i.name;if(ll(i))r+=await this.resolvePdasAndRelations(i.accounts,[...e,t]);else if((i.pda||i.relations)&&!this.get([...e,t])){r++;try{if(i.pda){let r=await Promise.all(i.pda.seeds.map(t=>this.toBuffer(t,e)));if(r.some(t=>!t))continue;let n=await this.parseProgramId(i,e),[s]=sV.PublicKey.findProgramAddressSync(r,n);this.set([...e,t],s)}}catch{}try{if(i.relations){let r=this.get([...e,i.relations[0]]);if(r){let i=await this._accountStore.fetchAccount({publicKey:r});this.set([...e,t],i[t])}}}catch{}}}return r}async parseProgramId(t,e=[]){var r;if(!(null==(r=t.pda)?void 0:r.program))return this._programId;let i=await this.toBuffer(t.pda.program,e);if(!i)throw Error(`Program seed not resolved: ${t.name}`);return new sV.PublicKey(i)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){let[e,...r]=t.path.split("."),i=this._idlIx.args.findIndex(t=>t.name===e);if(-1===i)throw Error(`Unable to find argument for seed: ${e}`);let n=r.reduce((t,e)=>(null!=t?t:{})[e],this._args[i]);if(void 0===n)return;let s=this.getType(this._idlIx.args[i].type,r);return this.toBufferValue(s,n)}async toBufferAccount(t,e=[]){let[r,...i]=t.path.split("."),n=this.get([...e,r]);if(!n)return;if(!i.length)return this.toBufferValue("pubkey",n);if(!t.account)throw Error(`Seed account is required in order to resolve type: ${t.path}`);let s=await this._accountStore.fetchAccount({publicKey:n,name:t.account}),a=i;for(;a.length>0;)s=s[a[0]],a=a.slice(1);if(void 0===s)return;let o=this.getType({defined:{name:t.account}},i);return this.toBufferValue(o,s)}toBufferValue(t,e){switch(t){case"u8":case"i8":return w.Buffer.from([e]);case"u16":case"i16":return new sz.default(e).toArrayLike(w.Buffer,"le",2);case"u32":case"i32":return new sz.default(e).toArrayLike(w.Buffer,"le",4);case"u64":case"i64":return new sz.default(e).toArrayLike(w.Buffer,"le",8);case"u128":case"i128":return new sz.default(e).toArrayLike(w.Buffer,"le",16);case"u256":case"i256":return new sz.default(e).toArrayLike(w.Buffer,"le",32);case"string":case"bytes":return w.Buffer.from(e);case"pubkey":return e.toBuffer();default:if(null==t?void 0:t.array)return w.Buffer.from(e);throw Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var r;let i=null==(r=null==t?void 0:t.defined)?void 0:r.name;if(i){if("tokenAccount"===i)switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw Error(`Unknown token account path: ${e}`)}let t=this._idlTypes.find(t=>t.name===i);if(!t)throw Error(`Type not found: ${i}`);let[r,...n]=e,s=t.type.fields.find(t=>t.name===r);if(!s)throw Error(`Field not found: ${r}`);return this.getType(s.type,n)}return t}}class c3{constructor(t,e,r){this._provider=t,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){let r=t.toBase58();if(!this._cache.has(r)){let n=await this._provider.connection.getAccountInfo(t);if(null===n)throw Error(`Account not found: ${r}`);if("tokenAccount"===e){var i;let t=(i=n.data,c5.decode(i));this._cache.set(r,t)}else{let t=await this.getAccountsNs(n.owner);if(t){let e=Object.values(t)[0];if(e){let t=e.coder.accounts.decodeAny(n.data);this._cache.set(r,t)}}}}return this._cache.get(r)}async getAccountsNs(t){let e=t.toBase58();if(!this._idls[e]){let r=await he.fetchIdl(t,this._provider);if(r){let t=new he(r,this._provider);this._idls[e]=t.account}}return this._idls[e]}}class c4{static build(t,e,r,i,n,s,a,o,l,u,c){return(...h)=>new c9(h,i,n,s,a,o,t,e,r,l,u,c)}}function c8(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}class c9{constructor(t,e,r,i,n,s,a,o,l,u,c,h){this._args=t,this._ixFn=e,this._txFn=r,this._rpcFn=i,this._simulateFn=n,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new c6(t,this._accounts,a,o,l,u,c,h)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return e?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw Error("Method does not support views. The instruction should return a value, and its accounts must be read-only");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class c7{static build(t,e,r,i){let n=e.accounts.find(t=>t.writable),s=!!e.returns;if(!n&&s)return async(...n)=>{let s=await r(...n),a=`Program return: ${t} `,o=s.raw.find(t=>t.startsWith(a));if(!o)throw Error("View expected return log");let l=lo(o.slice(a.length)),u=e.returns;if(!u)throw Error("View expected return type");return cr.fieldLayout({type:u},i.types).decode(l)}}}class ht{static build(t,e,r,i,n){let s,a={},o={},l={},u={},c={},h={},d=(s=new Map,t.errors&&t.errors.forEach(t=>{var e;let r=null!=(e=t.msg)?e:t.name;s.set(t.code,r)}),s),p=t.accounts?cY.build(t,e,r,i):{};return t.instructions.forEach(s=>{let f=cK.build(s,(t,r)=>e.instruction.encode(t,r),r),m=cW.build(s,f),g=cG.build(s,m,d,i),y=cq.build(s,m,d,i,e,r,t),_=c7.build(r,s,y,t),v=c4.build(i,r,s,f,m,g,y,_,p,t.types||[],null==n?void 0:n(s)),w=s.name;o[w]=f,l[w]=m,a[w]=g,u[w]=y,c[w]=v,_&&(h[w]=_)}),[a,o,l,p,u,c,h]}}class he{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=lz(),r,i){this._idl=function(t){let e=["name","path","account","relations","generic"],r=t=>t.split(".").map(t=>(0,s$.default)(t,{locale:!1})).join("."),i=t=>{for(let n in t){let s=t[n];e.includes(n)?t[n]=Array.isArray(s)?s.map(r):r(s):"object"==typeof s&&i(s)}},n=structuredClone(t);return i(n),n}(t),this._rawIdl=t,this._provider=e,this._programId=ld(t.address),this._coder=null!=r?r:new cl(this._idl),this._events=new cV(this._programId,e,this._coder);const[n,s,a,o,l,u,c]=ht.build(this._idl,this._coder,this._programId,e,i);this.rpc=n,this.instruction=s,this.transaction=a,this.account=o,this.simulate=l,this.methods=u,this.views=c}static async at(t,e){let r=ld(t),i=await he.fetchIdl(r,e);if(!i)throw Error(`IDL not found for program: ${t.toString()}`);return new he(i,e)}static async fetchIdl(t,e){var r;e=null!=e?e:lz();let i=ld(t),n=await lu(i),s=await e.connection.getAccountInfo(n);return s?JSON.parse(ls(lt((r=s.data.slice(8),lc.decode(r)).data))):null}addEventListener(t,e,r){return this._events.addEventListener(t,e,r)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new sV.PublicKey("11111111111111111111111111111111");let hr=new sV.PublicKey("11111111111111111111111111111111"),hi=(t,e)=>{let r=new lL(new sV.Connection((0,sV.clusterApiUrl)("devnet"),"confirmed"),t,lL.defaultOptions());return new he({...e,address:hr.toBase58()},r)},hn=async t=>{let e=await t.arrayBuffer();return new Uint8Array(await crypto.subtle.digest("SHA-256",e))},hs=async t=>"Qm"+Math.random().toString(36).substring(2,46),ha=async(t,e)=>{let r=hi(t,e);try{return(await r.account.realityProof.all([{memcmp:{offset:8,bytes:t.publicKey.toBase58()}}])).map(t=>({id:t.publicKey.toBase58(),owner:t.account.owner.toBase58(),hash:w.Buffer.from(t.account.imageHash).toString("hex"),cid:t.account.ipfsCid,timestamp:t.account.timestamp.toNumber(),url:`https://gateway.pinata.cloud/ipfs/${t.account.ipfsCid}`,isMinted:!0,rotation:(Math.random()-.5)*10}))}catch(t){return[]}},ho=(...t)=>t.filter((t,e,r)=>!!t&&""!==t.trim()&&r.indexOf(t)===e).join(" ").trim(),hl=t=>{let e=t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase());return e.charAt(0).toUpperCase()+e.slice(1)};var hu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let hc=(0,b.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:s,iconNode:a,...o},l)=>(0,b.createElement)("svg",{ref:l,...hu,width:e,height:e,stroke:t,strokeWidth:i?24*Number(r)/Number(e):r,className:ho("lucide",n),...!s&&!(t=>{for(let e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...a.map(([t,e])=>(0,b.createElement)(t,e)),...Array.isArray(s)?s:[s]])),hh=(t,e)=>{let r=(0,b.forwardRef)(({className:r,...i},n)=>(0,b.createElement)(hc,{ref:n,iconNode:e,className:ho(`lucide-${hl(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...i}));return r.displayName=hl(t),r},hd=hh("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),hp=hh("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var hf=t.i(57970),hm=t.i(60208);function hg({walletIcon:t,walletName:e,...r}){return b.default.createElement(hf.Button,{...r,className:"wallet-adapter-button-trigger",startIcon:t&&e?b.default.createElement(hm.WalletIcon,{wallet:{adapter:{icon:t,name:e}}}):void 0})}var hy=t.i(86614);function h_({children:t,labels:e,...r}){let{setVisible:i}=(0,hy.useWalletModal)(),{buttonState:n,onConnect:s,onDisconnect:a,publicKey:o,walletIcon:l,walletName:u}=function({onSelectWallet:t}){let e,{connect:r,connected:i,connecting:n,disconnect:s,disconnecting:a,publicKey:o,select:l,wallet:u,wallets:c}=(0,sB.useWallet)();e=n?"connecting":i?"connected":a?"disconnecting":u?"has-wallet":"no-wallet";let h=(0,b.useCallback)(()=>{r().catch(()=>{})},[r]),d=(0,b.useCallback)(()=>{s().catch(()=>{})},[s]);return{buttonState:e,onConnect:"has-wallet"===e?h:void 0,onDisconnect:"disconnecting"!==e&&"no-wallet"!==e?d:void 0,onSelectWallet:(0,b.useCallback)(()=>{t({onSelectWallet:l,wallets:c})},[t,l,c]),publicKey:o??void 0,walletIcon:u?.adapter.icon,walletName:u?.adapter.name}}({onSelectWallet(){i(!0)}}),[c,h]=(0,b.useState)(!1),[d,p]=(0,b.useState)(!1),f=(0,b.useRef)(null);(0,b.useEffect)(()=>{let t=t=>{let e=f.current;!e||e.contains(t.target)||p(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[]);let m=(0,b.useMemo)(()=>{if(t)return t;if(o){let t=o.toBase58();return t.slice(0,4)+".."+t.slice(-4)}return"connecting"===n||"has-wallet"===n?e[n]:e["no-wallet"]},[n,t,e,o]);return b.default.createElement("div",{className:"wallet-adapter-dropdown"},b.default.createElement(hg,{...r,"aria-expanded":d,style:{pointerEvents:d?"none":"auto",...r.style},onClick:()=>{switch(n){case"no-wallet":i(!0);break;case"has-wallet":s&&s();break;case"connected":p(!0)}},walletIcon:l,walletName:u},m),b.default.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${d&&"wallet-adapter-dropdown-list-active"}`,ref:f,role:"menu"},o?b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(o.toBase58()),h(!0),setTimeout(()=>h(!1),400)},role:"menuitem"},c?e.copied:e["copy-address"]):null,b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{i(!0),p(!1)},role:"menuitem"},e["change-wallet"]),a?b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{a(),p(!1)},role:"menuitem"},e.disconnect):null))}let hv={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function hw(t){return b.default.createElement(h_,{...t,labels:hv})}let hx=({onClick:t,children:e,variant:r="primary",className:i=""})=>(0,x.jsx)("button",{onClick:t,className:`px-6 py-4 rounded-xl font-bold transition-all active:scale-95 shadow-lg flex items-center justify-center gap-3 uppercase tracking-widest text-[10px] ${{primary:"bg-[#2A2A2A] text-[#F6F3EE] hover:bg-black",secondary:"bg-[#F6F3EE] text-[#2A2A2A] border border-[#D9D4CC] hover:bg-[#EFE9E1]",danger:"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100",ghost:"bg-transparent text-[#2A2A2A] hover:bg-black/5"}[r]} ${i}`,children:e}),hb=({setScreen:t,galleryLength:e,connected:r,publicKey:i,disconnect:n})=>(0,x.jsxs)(sU.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col items-center justify-center p-8 desk-bg relative overflow-hidden",children:[(0,x.jsxs)("div",{className:"absolute inset-0 z-0 opacity-20 pointer-events-none",children:[(0,x.jsx)("div",{className:"absolute top-[10%] left-[-10%] rotate-[-12deg] w-48 h-56 bg-white shadow-2xl border border-gray-100 p-2",children:(0,x.jsx)("div",{className:"w-full aspect-square bg-[#EFE9E1]"})}),(0,x.jsx)("div",{className:"absolute top-[40%] right-[-15%] rotate-[8deg] w-52 h-60 bg-white shadow-2xl border border-gray-100 p-2",children:(0,x.jsx)("div",{className:"w-full aspect-square bg-[#EAE3D9]"})}),(0,x.jsx)("div",{className:"absolute bottom-[5%] left-[5%] rotate-[15deg] w-44 h-52 bg-white shadow-2xl border border-gray-100 p-2",children:(0,x.jsx)("div",{className:"w-full aspect-square bg-[#F1EBE2]"})})]}),(0,x.jsxs)("div",{className:"z-10 text-center flex flex-col items-center w-full max-w-xs",children:[(0,x.jsxs)("header",{className:"mb-12 flex flex-col items-center",children:[(0,x.jsx)("img",{src:"/logo.png",alt:"Keep It Real Logo",className:"w-48 h-auto mb-6 opacity-90 drop-shadow-sm"}),(0,x.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,x.jsx)("span",{className:"h-[1px] w-4 bg-[#D9D4CC]"}),(0,x.jsx)("p",{className:"text-[#A09E96] tracking-[0.4em] uppercase text-[7px] font-bold",children:"Authentic Memories"}),(0,x.jsx)("span",{className:"h-[1px] w-4 bg-[#D9D4CC]"})]})]}),(0,x.jsxs)("div",{className:"flex flex-col gap-6 w-full",children:[(0,x.jsxs)(hx,{onClick:()=>t("camera"),className:"w-full h-16 shadow-[0_20px_40px_-10px_rgba(0,0,0,0.15)] bg-[#2A2A2A] hover:bg-black transition-all",children:[(0,x.jsx)(hd,{size:18,strokeWidth:2.5})," Capture Real Moment"]}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsx)("p",{className:"text-[#A09E96] text-[8px] uppercase tracking-[0.2em] font-bold",children:"Only real-time photos allowed"})}),(0,x.jsx)("div",{className:"mt-4 pt-8 border-t border-[#D9D4CC]/50",children:(0,x.jsxs)(hx,{onClick:()=>t("gallery"),variant:"secondary",className:"w-full h-12 bg-white/50 border-none shadow-sm",children:[(0,x.jsx)(hp,{size:14})," View Scrapbook (",e,")"]})})]}),r?(0,x.jsxs)("div",{className:"flex flex-col items-center gap-2 mt-8",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/40 rounded-full border border-white/50",children:[(0,x.jsx)("div",{className:"w-1.5 h-1.5 bg-[#3FA37C] rounded-full"}),(0,x.jsxs)("span",{className:"text-[8px] font-bold text-[#A09E96] uppercase tracking-widest leading-none",children:[i?.toBase58().slice(0,4),"...",i?.toBase58().slice(-4)]})]}),(0,x.jsx)("button",{onClick:()=>n(),className:"text-[9px] uppercase tracking-widest font-bold text-[#A09E96] hover:text-[#2A2A2A] transition-colors",children:"Disconnect"})]}):(0,x.jsx)("div",{className:"mt-12 scale-90 opacity-80 transition-opacity hover:opacity-100",children:(0,x.jsx)(hw,{className:"!bg-[#2A2A2A] !rounded-xl !h-12 !font-bold !text-[9px] !uppercase !tracking-widest"})})]})]},"home"),hA=hh("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hR=hh("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hE=hh("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),hT=hh("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),hN=hh("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),hO=({setScreen:t,videoRef:e,canvasRef:r,cameraSettings:i,setCameraSettings:n,capturePhoto:s})=>(0,x.jsxs)(sU.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"flex-1 bg-[#1a1a1a] flex flex-col relative overflow-hidden",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center px-6 pt-12 pb-6 text-[#F6F3EE] z-20",children:[(0,x.jsx)("button",{onClick:()=>t("home"),className:"w-10 h-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,x.jsx)(hA,{size:20})}),(0,x.jsxs)("div",{className:"flex gap-3 bg-black/30 backdrop-blur-xl p-1.5 rounded-full border border-white/10",children:[(0,x.jsx)("button",{onClick:()=>n(t=>({...t,flash:!t.flash})),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all ${i.flash?"bg-[#3FA37C] text-white shadow-[0_0_15px_rgba(63,163,124,0.4)]":"hover:bg-white/10 text-white/60"}`,children:(0,x.jsx)(hR,{size:18,fill:i.flash?"currentColor":"none"})}),(0,x.jsx)("button",{onClick:()=>n(t=>({...t,timer:3*(0===t.timer)})),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all ${i.timer>0?"bg-[#3FA37C] text-white":"hover:bg-white/10 text-white/60"}`,children:(0,x.jsx)(hE,{size:18})})]})]}),(0,x.jsx)("div",{className:"flex-1 relative flex items-center justify-center p-8",children:(0,x.jsxs)("div",{className:"w-full max-w-sm aspect-square relative border-[16px] border-[#F6F3EE] shadow-[0_40px_80px_-20px_rgba(0,0,0,0.6)] rounded-[4px] overflow-hidden group",children:[(0,x.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover grayscale-[0.2] contrast-[1.1]"}),(0,x.jsx)("div",{className:"absolute inset-0 border-[1px] border-black/10 pointer-events-none"}),(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/20 pointer-events-none"}),(0,x.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 px-2.5 py-1.5 bg-black/60 backdrop-blur-md rounded-full",children:[(0,x.jsx)(sU.div,{animate:{opacity:[1,.4,1]},transition:{repeat:1/0,duration:1.5},className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),(0,x.jsx)("span",{className:"text-[7px] text-white font-black tracking-[0.2em] uppercase",children:"Real Time Only"})]}),(0,x.jsx)("div",{className:"absolute bottom-4 right-4 text-white/40",children:(0,x.jsx)(hT,{size:14})})]})}),(0,x.jsxs)("div",{className:"h-56 bg-[#0a0a0a] flex flex-col items-center justify-center gap-6 relative",children:[(0,x.jsx)("div",{className:"absolute top-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),(0,x.jsxs)("div",{className:"flex items-center gap-12",children:[(0,x.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/10 flex items-center justify-center grayscale opacity-40",children:(0,x.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/20"})}),(0,x.jsxs)("button",{onClick:s,className:"group relative w-24 h-24",children:[(0,x.jsx)("div",{className:"absolute inset-0 rounded-full bg-[#333] shadow-inner scale-110"}),(0,x.jsx)("div",{className:"absolute inset-1.5 rounded-full bg-[#fcfcfc] border-[6px] border-[#D9D4CC] shadow-[0_10px_30px_rgba(0,0,0,0.5)] group-active:scale-95 group-active:bg-gray-200 transition-all flex items-center justify-center",children:(0,x.jsx)("div",{className:"w-12 h-12 rounded-full border border-black/5"})})]}),(0,x.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/10 flex items-center justify-center grayscale opacity-40",children:(0,x.jsx)(hN,{size:20,className:"text-white"})})]}),(0,x.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,x.jsx)("p",{className:"text-white/40 text-[8px] uppercase tracking-[0.4em] font-black",children:"Real. Unfiltered. Permanent."}),(0,x.jsx)("div",{className:"h-1 w-12 bg-[#3FA37C]/40 rounded-full"})]})]}),(0,x.jsx)("canvas",{ref:r,className:"hidden"})]},"camera"),hS=({value:t,onChange:e,placeholder:r="Write a memory...",className:i=""})=>(0,x.jsxs)("div",{className:`relative ${i}`,children:[(0,x.jsx)("textarea",{value:t,onChange:t=>e(t.target.value),placeholder:r,className:"w-full bg-transparent border-none outline-none font-typewriter text-[#2A2A2A]/80 resize-none min-h-[60px] p-0 text-center text-sm leading-relaxed placeholder:text-[#2A2A2A]/20",maxLength:100}),(0,x.jsx)("div",{className:"absolute -bottom-1 left-0 right-0 h-[1px] bg-[#2A2A2A]/10 scale-x-75 mx-auto"})]}),hC=({imageSrc:t,caption:e="",isDeveloping:r=!1,timestamp:i,isMinted:n=!1,rotation:s=(Math.random()-.5)*4,className:a="",onCaptionChange:o,editable:l=!1})=>(0,x.jsxs)("div",{className:`polaroid-card paper-texture transition-transform duration-500 scale-100 hover:scale-[1.02] ${a}`,style:{transform:`rotate(${s}deg)`,boxShadow:"0 20px 40px -10px rgba(0,0,0,0.1), 0 10px 20px -5px rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.02)"},children:[(0,x.jsxs)("div",{className:"polaroid-image-container",children:[(0,x.jsx)("img",{src:t,className:`w-full h-full object-cover ${r?"developing-effect":""}`,alt:"Moment"}),(0,x.jsx)("div",{className:`verified-stamp ${n?"active":""}`,children:"Verified"})]}),(0,x.jsxs)("div",{className:"mt-6 flex flex-col items-center px-4",children:[l?(0,x.jsx)(hS,{value:e,onChange:t=>o?.(t),placeholder:"Tap to write...",className:"w-full"}):(0,x.jsx)("p",{className:"font-typewriter text-xl text-[#2A2A2A] text-center min-h-[1.2rem] leading-relaxed break-words w-full px-2 opacity-90",children:e}),i&&(0,x.jsxs)("p",{className:"mt-6 text-[8px] uppercase tracking-[0.2em] text-[#A09E96]/60 font-bold font-typewriter",children:[new Date(i).toLocaleDateString()," // ",new Date(i).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),hk=({currentPhoto:t,tempCaption:e,setTempCaption:r,setScreen:i,includeDateTime:n,setIncludeDateTime:s})=>(0,x.jsxs)(sU.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 desk-bg flex flex-col items-center p-6",children:[(0,x.jsx)("div",{className:"flex-1 w-full flex items-center justify-center",children:(0,x.jsx)(sU.div,{initial:{y:320,rotate:-8},animate:{y:0,rotate:(Math.random()-.5)*6},transition:{type:"spring",damping:18,stiffness:120},children:t&&(0,x.jsx)(hC,{imageSrc:t,isDeveloping:!0,caption:e,onCaptionChange:r,editable:!0,timestamp:n?Date.now():void 0,className:"max-w-[320px] shadow-[0_40px_80px_-20px_rgba(0,0,0,0.2)]"})})}),(0,x.jsxs)("div",{className:"w-full flex flex-col gap-4 pb-12 mt-8 max-w-sm",children:[(0,x.jsx)("div",{className:"flex justify-end px-2 mb-2",children:(0,x.jsxs)("button",{onClick:()=>s(!n),className:`flex items-center gap-2 text-[10px] uppercase font-bold tracking-widest transition-colors ${n?"text-emerald-600":"text-[#A09E96]"}`,children:[(0,x.jsx)(hE,{size:14}),n?"Time Included":"Add Time"]})}),(0,x.jsx)(hx,{onClick:()=>i("metadata"),className:"w-full h-14 bg-[#2A2A2A] shadow-xl",children:"Secure Moment"}),(0,x.jsxs)("div",{className:"flex gap-4",children:[(0,x.jsxs)(hx,{onClick:()=>i("camera"),variant:"secondary",className:"flex-1 py-3 bg-white/50 border-none shadow-md",children:[(0,x.jsx)(hN,{size:14})," Retake"]}),(0,x.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-3 bg-white/20 rounded-xl border border-white/40",children:(0,x.jsx)("span",{className:"text-[7px] uppercase tracking-[0.2em] font-black text-[#A09E96]",children:"Authentic Capture"})})]})]})]},"preview"),hI=({publicKey:t,mintPhoto:e,setScreen:r})=>(0,x.jsx)(sU.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"flex-1 desk-bg flex flex-col items-center justify-center p-6",children:(0,x.jsxs)("div",{className:"w-full max-w-sm glass-panel p-10 rounded-[2.5rem] flex flex-col gap-8 text-[#2A2A2A]",children:[(0,x.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,x.jsx)("div",{className:"w-12 h-12 bg-[#2A2A2A] rounded-2xl flex items-center justify-center shadow-lg",children:(0,x.jsx)(hT,{size:24,className:"text-[#F6F3EE]"})}),(0,x.jsx)("h3",{className:"text-3xl font-serif italic text-center mt-2",children:"Verify Reality"})]}),(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("p",{className:"text-[10px] text-center text-[#A09E96] uppercase tracking-[0.25em] leading-relaxed",children:["This moment will be hashed and secured on-chain.",(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"font-black text-[#2A2A2A]/40 mt-1 block",children:"Immutable. Authentic. Yours."})]}),(0,x.jsxs)("div",{className:"space-y-4 font-typewriter text-[9px] bg-[#F6F3EE]/50 p-6 rounded-2xl border border-white/50 relative overflow-hidden group",children:[(0,x.jsx)("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:(0,x.jsx)(hT,{size:40})}),(0,x.jsxs)("div",{className:"flex justify-between border-b border-[#D9D4CC]/30 pb-3",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Provenance"}),(0,x.jsx)("span",{className:"font-bold text-[#2A2A2A]",children:t?t.toBase58().slice(0,6)+"..."+t.toBase58().slice(-6):"Anonymous"})]}),(0,x.jsxs)("div",{className:"flex justify-between border-b border-[#D9D4CC]/30 pb-3",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Entropy Source"}),(0,x.jsx)("div",{className:"flex gap-1 overflow-hidden max-w-[120px]",children:[1,2,3,4,5].map(t=>(0,x.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:4}).map((e,r)=>{let i=window.crypto.getRandomValues(new Uint8Array(1))[0];return(0,x.jsx)("div",{className:`w-1 h-1 rounded-sm ${i>127?"bg-[#3FA37C]/60":"bg-[#2A2A2A]/20"} animate-pulse`,style:{animationDelay:`${100*t+50*r}ms`}},r)})},t))})]}),(0,x.jsxs)("div",{className:"space-y-2 opacity-60",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Temporal Log"}),(0,x.jsxs)("span",{className:"font-bold text-[#2A2A2A]",children:[new Date().toLocaleTimeString()," (UTC",-(new Date().getTimezoneOffset()/60),")"]})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Atmospheric Seed"}),(0,x.jsx)("span",{className:"font-bold text-[#2A2A2A] uppercase font-mono",children:Array.from(window.crypto.getRandomValues(new Uint8Array(4))).map(t=>t.toString(16).padStart(2,"0")).join("")})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Dither Factor"}),(0,x.jsx)("span",{className:"font-bold text-[#2A2A2A]",children:(performance.now()%1).toFixed(4)})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("span",{className:"text-[#A09E96] uppercase tracking-widest font-bold",children:"Reality Hash"}),(0,x.jsxs)("span",{className:"font-bold text-[#2A2A2A] flex gap-1",children:[(0,x.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#3FA37C] mt-1 shadow-[0_0_8px_#3FA37C]"}),"Verified"]})]})]})]})]}),(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(hx,{onClick:e,className:"w-full h-14 bg-[#3FA37C] hover:bg-emerald-700 border-none shadow-[0_15px_30px_-5px_rgba(63,163,124,0.3)]",children:"Verify & Mint Proof"}),(0,x.jsx)("button",{onClick:()=>r("preview"),className:"text-[9px] uppercase tracking-[0.3em] text-[#A09E96] font-black hover:text-[#2A2A2A] transition-colors",children:"Discard & Retake"})]})]})},"metadata"),hP=["Capturing the essence...","Hashing pixels into truth...","Securing memory on chain...","Authenticity verified."],hj=({mintStatus:t})=>(0,x.jsxs)(sU.div,{className:"flex-1 desk-bg flex flex-col items-center justify-center p-8 text-center",children:[(0,x.jsxs)("div",{className:"relative w-32 h-32 mb-16",children:[(0,x.jsx)(sU.div,{animate:{rotate:360},transition:{repeat:1/0,duration:8,ease:"linear"},className:"absolute inset-0 border-2 border-dashed border-[#3FA37C] rounded-full opacity-20"}),(0,x.jsx)("div",{className:"absolute inset-4 bg-white/40 backdrop-blur-md rounded-full shadow-2xl flex items-center justify-center border border-white",children:(0,x.jsx)(hT,{size:48,className:"text-[#3FA37C] animate-pulse"})}),(0,x.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-tr from-[#3FA37C]/20 to-transparent rounded-full animate-spin-slow"})]}),(0,x.jsx)(sU.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-3xl font-serif italic mb-4 text-[#2A2A2A]",children:hP[t]},t),(0,x.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,x.jsx)("p",{className:"text-[10px] uppercase tracking-[0.4em] text-[#A09E96] font-black",children:"Validating Reality on Solana"}),(0,x.jsx)("div",{className:"h-1 w-24 bg-[#D9D4CC] rounded-full overflow-hidden",children:(0,x.jsx)(sU.div,{initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:1.2,repeat:1/0},className:"w-full h-full bg-[#3FA37C]"})})]})]},"minting"),hD=({currentPhoto:t,tempCaption:e,includeDateTime:r})=>(0,x.jsxs)(sU.div,{className:"flex-1 desk-bg flex flex-col items-center justify-start pt-12",children:[(0,x.jsxs)("div",{className:"w-full max-w-sm h-40 relative z-20 px-8",children:[(0,x.jsx)("div",{className:"w-full h-24 bg-[#1a1a1a] rounded-xl shadow-2xl border-b-[8px] border-black/20 flex items-end justify-center pb-2 px-6",children:(0,x.jsx)("div",{className:"w-full h-2.5 bg-black rounded-full shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)]"})}),(0,x.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 w-48 h-12 bg-black/10 blur-2xl"})]}),(0,x.jsx)("div",{className:"w-full flex justify-center z-10 -mt-16 overflow-hidden px-8",children:(0,x.jsx)(sU.div,{initial:{y:-450},animate:{y:0},transition:{duration:4.5,ease:[.22,1,.36,1],delay:.5},children:(0,x.jsx)(hC,{imageSrc:t,caption:e,isMinted:!0,timestamp:r?Date.now():void 0,className:"max-w-[300px] shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)]"})})}),(0,x.jsxs)(sU.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:3},className:"mt-16 flex flex-col items-center gap-2",children:[(0,x.jsx)("p",{className:"text-[10px] uppercase tracking-[0.5em] text-[#A09E96] font-black italic",children:"Physicalizing Reality"}),(0,x.jsx)("div",{className:"flex gap-1.5",children:[0,1,2].map(t=>(0,x.jsx)(sU.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{repeat:1/0,duration:1.5,delay:.2*t},className:"w-1 h-1 bg-[#3FA37C] rounded-full"},t))})]})]},"printing"),hM=hh("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hL=hh("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hU=({currentPhoto:t,tempCaption:e,setScreen:r,setCurrentPhoto:i,setTempCaption:n,includeDateTime:s})=>(0,x.jsxs)(sU.div,{className:"flex-1 desk-bg flex flex-col items-center justify-center p-8 text-center",children:[(0,x.jsxs)("div",{className:"relative group",children:[(0,x.jsx)(hC,{imageSrc:t,caption:e,isMinted:!0,timestamp:s?Date.now():void 0,className:"max-w-[300px] mb-12 rotate-3 shadow-[0_30px_60px_-10px_rgba(0,0,0,0.25)]"}),(0,x.jsx)(sU.div,{initial:{scale:2,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8,type:"spring"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 pointer-events-none",children:(0,x.jsx)("div",{className:"w-32 h-32 border-[6px] border-[#3FA37C] rounded-full flex items-center justify-center text-[#3FA37C] font-black uppercase tracking-[0.2em] rotate-[-25deg] shadow-[0_10px_30px_rgba(63,163,124,0.4)] bg-[#F6F3EE]/10 backdrop-blur-[2px]",children:(0,x.jsxs)("div",{className:"flex flex-col items-center",children:[(0,x.jsx)("span",{className:"text-[14px]",children:"Verified"}),(0,x.jsx)(hM,{size:24,strokeWidth:4})]})})})]}),(0,x.jsxs)(sU.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-white/60 backdrop-blur-xl p-10 rounded-[3rem] border border-white shadow-2xl max-w-xs relative overflow-hidden",children:[(0,x.jsx)("img",{src:"/logo.png",alt:"Keep It Real Logo",className:"w-32 h-auto mb-6 opacity-80 mx-auto"}),(0,x.jsx)("h2",{className:"text-3xl font-serif italic mb-2 text-[#2A2A2A]",children:"Moment Secured."}),(0,x.jsx)("p",{className:"text-[9px] uppercase tracking-[0.4em] text-[#A09E96] font-black mb-10",children:"Proof of reality permanent"}),(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(hx,{onClick:()=>r("gallery"),className:"w-full h-14 bg-[#2A2A2A]",children:"View in Scrapbook"}),(0,x.jsxs)("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:"Keep It Real",text:`I just secured a verified moment: "${e}"`,url:window.location.href})}catch(t){}else alert("Sharing not supported on this browser. Your moment is secured in your scrapbook!")},className:"flex items-center justify-center gap-2 w-full h-12 border border-[#2A2A2A]/10 rounded-2xl text-[9px] uppercase tracking-[0.2em] font-black text-[#2A2A2A] hover:bg-[#2A2A2A]/5 transition-colors",children:[(0,x.jsx)(hL,{size:12})," Share Moment"]}),(0,x.jsx)("button",{onClick:()=>{r("home"),i(null),n("")},className:"text-[9px] uppercase tracking-[0.3em] text-[#A09E96] font-black hover:text-[#2A2A2A] py-2",children:"Return Home"})]})]})]},"success"),hB=hh("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),hV=hh("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),hz=hh("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),hH=hh("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),hF=hh("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),h$=hh("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),hK=({gallery:t,setScreen:e})=>{let[r,i]=(0,b.useState)(null),n=async t=>{if(navigator.share)try{await navigator.share({title:"Keep It Real Memory",text:t.caption||"Check out this authentic memory!",url:window.location.href})}catch(t){}else alert("Sharing is not supported on this browser. You can copy the link manually.")},s=()=>{null!==r&&r<t.length-1&&i(r+1)},a=()=>{null!==r&&r>0&&i(r-1)};return(0,x.jsxs)(sU.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 desk-bg flex flex-col min-h-screen relative",children:[(0,x.jsxs)("header",{className:"sticky top-0 z-30 bg-[#F6F3EE]/80 backdrop-blur-md px-6 py-6 border-b border-[#D9D4CC]/50 flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4",children:[(0,x.jsx)("button",{onClick:()=>e("home"),className:"w-10 h-10 flex items-center justify-center bg-white shadow-sm rounded-xl hover:shadow-md transition-all active:scale-95",children:(0,x.jsx)(hB,{size:18})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-xl font-serif italic text-[#2A2A2A]",children:"Scrapbook"}),(0,x.jsxs)("p",{className:"text-[7px] uppercase tracking-[0.4em] text-[#A09E96] font-black",children:[t.length," Authentic Moments"]})]})]}),(0,x.jsx)("div",{className:"flex gap-2",children:(0,x.jsx)("button",{className:"w-10 h-10 flex items-center justify-center bg-white shadow-sm rounded-xl active:scale-95 transition-all",children:(0,x.jsx)(hV,{size:16,className:"text-[#A09E96]"})})})]}),(0,x.jsx)("div",{className:"flex-1 p-6 pb-32",children:t.length>0?(0,x.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-w-4xl mx-auto",children:t.map((t,e)=>(0,x.jsxs)(sU.div,{layoutId:`photo-${t.id}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*e},onClick:()=>i(e),className:"aspect-square relative cursor-pointer overflow-hidden rounded-lg shadow-sm hover:shadow-xl transition-all group",children:[(0,x.jsx)("img",{src:t.url,alt:t.caption,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),(0,x.jsx)("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,x.jsx)(h$,{size:20,className:"text-white"})})]},t.id))}):(0,x.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-40 opacity-30 select-none",children:[(0,x.jsx)("div",{className:"w-24 h-24 mb-6 border-2 border-dashed border-[#2A2A2A] rounded-full flex items-center justify-center",children:(0,x.jsx)(hd,{size:32})}),(0,x.jsx)("p",{className:"text-[10px] uppercase tracking-[0.5em] font-black",children:"No memories captured yet"})]})}),(0,x.jsx)(z,{children:null!==r&&(0,x.jsxs)(sU.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-2xl flex flex-col",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center p-6 text-white",children:[(0,x.jsx)("button",{onClick:()=>i(null),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-all",children:(0,x.jsx)(hA,{size:20})}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"text-[10px] uppercase tracking-[0.3em] font-bold text-white/60",children:new Date(t[r].timestamp).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})}),(0,x.jsx)("p",{className:"text-[8px] uppercase tracking-[0.1em] text-white/40",children:t[r].location.label||"Unknown Reality"})]}),(0,x.jsx)("button",{onClick:()=>n(t[r]),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-full hover:bg-white/20 transition-all",children:(0,x.jsx)(hL,{size:18})})]}),(0,x.jsxs)("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden",children:[(0,x.jsx)("button",{onClick:a,disabled:0===r,className:`absolute left-4 z-10 w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white transition-all ${0===r?"opacity-0":"hover:bg-white/20"}`,children:(0,x.jsx)(hz,{size:24})}),(0,x.jsx)(sU.div,{layoutId:`photo-${t[r].id}`,initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(t,{offset:e})=>{let r=e.x;r<-100?s():r>100&&a()},className:"w-full max-w-lg px-6",children:(0,x.jsx)(hC,{...t[r],imageSrc:t[r].url,isMinted:!0,className:"mx-auto shadow-[0_50px_100px_rgba(0,0,0,0.5)] rotate-0"})},t[r].id),(0,x.jsx)("button",{onClick:s,disabled:r===t.length-1,className:`absolute right-4 z-10 w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white transition-all ${r===t.length-1?"opacity-0":"hover:bg-white/10"}`,children:(0,x.jsx)(hH,{size:24})})]}),(0,x.jsxs)("div",{className:"p-8 pb-12 flex justify-center gap-8",children:[(0,x.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,x.jsx)("button",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-white/5 text-white/60 hover:text-white transition-all",children:(0,x.jsx)(hF,{size:20})}),(0,x.jsx)("span",{className:"text-[7px] uppercase tracking-widest text-white/40",children:"Save"})]}),(0,x.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,x.jsx)("button",{onClick:()=>n(t[r]),className:"w-12 h-12 flex items-center justify-center rounded-full bg-white text-black hover:bg-white/90 transition-all",children:(0,x.jsx)(hL,{size:20})}),(0,x.jsx)("span",{className:"text-[7px] uppercase tracking-widest text-white/60",children:"Share"})]})]})]})}),(0,x.jsx)("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40",children:(0,x.jsxs)(sU.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("camera"),className:"bg-[#2A2A2A] text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-3 border border-white/10",children:[(0,x.jsx)(hd,{size:18}),(0,x.jsx)("span",{className:"text-[10px] uppercase tracking-[0.3em] font-black",children:"Hold the Moment"})]})})]},"gallery")},hW=hh("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),hG=({connected:t,setScreen:e})=>(0,x.jsx)(sU.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 desk-bg flex items-center justify-center p-8",children:(0,x.jsxs)("div",{className:"w-full max-w-sm glass-panel p-10 rounded-3xl text-center relative",children:[(0,x.jsx)("button",{onClick:()=>e("home"),className:"absolute top-6 right-6 text-[#A09E96] hover:text-[#2A2A2A] transition-colors",children:(0,x.jsx)(hB,{size:20})}),(0,x.jsx)("div",{className:"w-16 h-16 bg-[#2A2A2A] rounded-2xl flex items-center justify-center mb-8 mx-auto shadow-xl",children:(0,x.jsx)(hW,{size:32,className:"text-[#F6F3EE]"})}),(0,x.jsx)("h2",{className:"text-2xl font-serif italic mb-2 text-[#2A2A2A]",children:"Connect Identity"}),(0,x.jsx)("p",{className:"text-[10px] text-[#A09E96] uppercase tracking-[0.2em] mb-12",children:"Required to sign the proof of reality"}),(0,x.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,x.jsx)(hw,{className:"!bg-[#2A2A2A] !rounded-xl !h-14 !w-full !flex !items-center !justify-center !font-bold !text-[12px] !uppercase !tracking-widest"}),t&&(0,x.jsx)(hx,{onClick:()=>e("home"),className:"w-full",children:"Continue"})]})]})},"wallet");var hY=t.i(88847);function hZ(){let[t,e]=(0,b.useState)("home"),[r,i]=(0,b.useState)([]),[n,s]=(0,b.useState)(null),[a,o]=(0,b.useState)(null),[l,u]=(0,b.useState)(""),[c]=(0,b.useState)({latitude:null,longitude:null}),[h]=(0,b.useState)(!0),[d,p]=(0,b.useState)(!1),[f,m]=(0,b.useState)(0),[g,y]=(0,b.useState)(!1),[_,v]=(0,b.useState)({flash:!1,timer:0}),{publicKey:A,connected:R,disconnect:E}=(0,sB.useWallet)(),T=(0,b.useRef)(null),N=(0,b.useRef)(null),O=(0,b.useRef)(null);(0,b.useEffect)(()=>{let t=localStorage.getItem("keep_it_real_gallery");t&&i(JSON.parse(t))},[]),(0,b.useEffect)(()=>{localStorage.setItem("keep_it_real_gallery",JSON.stringify(r))},[r]),(0,b.useEffect)(()=>{(async()=>{if(R&&A){y(!0);try{let t=await ha({publicKey:A},hY.default);i(e=>{let r=new Set(e.map(t=>t.id));return[...t.filter(t=>!r.has(t.id)),...e]})}catch(t){}finally{y(!1)}}})()},[R,A]);let S=async()=>{try{let t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",aspectRatio:1},audio:!1});T.current&&(T.current.srcObject=t),O.current=t.getVideoTracks()[0]}catch(t){alert("Camera access is required for Keep It Real.")}},C=()=>{T.current?.srcObject&&T.current.srcObject.getTracks().forEach(t=>t.stop()),O.current=null};(0,b.useEffect)(()=>("camera"===t?S():C(),()=>C()),[t]);let k=async()=>{try{if(!R||!A)return void e("wallet");let t=a;if(!t&&n){let e=await fetch(n);t=await e.blob(),o(t)}if(!t)return void alert("Photo data not found. Please try retaking the photo.");e("minting"),m(0);let r=await hn(t);await new Promise(t=>setTimeout(t,800)),m(1);let s=await hs(t);await new Promise(t=>setTimeout(t,800)),m(2);let u=hi({publicKey:A,signTransaction:t=>t,signAllTransactions:t=>t},hY.default),p=Date.now(),[f]=sV.PublicKey.findProgramAddressSync([w.Buffer.from("memory"),A.toBuffer(),w.Buffer.from(r)],u.programId);await new Promise(t=>setTimeout(t,1200)),m(3),await new Promise(t=>setTimeout(t,500));let g={id:Math.random().toString(36).substr(2,9),url:n,caption:l,timestamp:d?p:void 0,location:h?{...c}:{latitude:null,longitude:null},hash:w.Buffer.from(r).toString("hex"),cid:s,isMinted:!0,rotation:(Math.random()-.5)*10,owner:A.toBase58()};i(t=>[g,...t]),e("printing"),setTimeout(()=>{e("success")},4e3)}catch(t){alert("Verification failed: "+(t instanceof Error?t.message:String(t))),e("metadata")}};return(0,x.jsxs)("div",{className:"max-w-md mx-auto min-h-[100dvh] bg-[#F6F3EE] shadow-2xl overflow-hidden font-sans relative flex flex-col",children:[(0,x.jsxs)(z,{mode:"wait",children:["home"===t&&(0,x.jsx)(hb,{setScreen:e,galleryLength:r.length,connected:R,publicKey:A,disconnect:E}),"camera"===t&&(0,x.jsx)(hO,{setScreen:e,videoRef:T,canvasRef:N,cameraSettings:_,setCameraSettings:v,capturePhoto:()=>{if(T.current&&N.current){let t=T.current,r=N.current,i=Math.min(t.videoWidth,t.videoHeight);r.width=i,r.height=i;let n=r.getContext("2d");if(n){let a=(t.videoWidth-i)/2,l=(t.videoHeight-i)/2;n.drawImage(t,a,l,i,i,0,0,i,i),s(r.toDataURL("image/jpeg",.9)),r.toBlob(t=>{t&&o(t)},"image/jpeg",.9),e("preview")}}}}),"preview"===t&&(0,x.jsx)(hk,{currentPhoto:n,tempCaption:l,setTempCaption:u,setScreen:e,includeDateTime:d,setIncludeDateTime:p}),"metadata"===t&&(0,x.jsx)(hI,{publicKey:A,mintPhoto:k,setScreen:e}),"minting"===t&&(0,x.jsx)(hj,{mintStatus:f}),"printing"===t&&(0,x.jsx)(hD,{currentPhoto:n,tempCaption:l,includeDateTime:d}),"success"===t&&(0,x.jsx)(hU,{currentPhoto:n,tempCaption:l,setScreen:e,setCurrentPhoto:s,setTempCaption:u,includeDateTime:d}),"gallery"===t&&(0,x.jsx)(hK,{gallery:r,setScreen:e}),"wallet"===t&&(0,x.jsx)(hG,{connected:R,setScreen:e})]}),g&&(0,x.jsxs)(sU.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed top-8 left-1/2 -translate-x-1/2 z-[100] bg-black/80 backdrop-blur-md text-white px-6 py-2 rounded-full flex items-center gap-3 border border-white/20 scale-75 shadow-2xl",children:[(0,x.jsx)("div",{className:"w-2 h-2 bg-[#3FA37C] rounded-full animate-pulse"}),(0,x.jsx)("span",{className:"text-[10px] uppercase tracking-[0.2em] font-black",children:"Syncing memories..."})]})]})}t.s(["default",()=>hZ],52683)}]);